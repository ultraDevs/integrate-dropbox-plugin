(()=>{var e={485:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var s=o.apply(null,i);s&&e.push(s)}}else if("object"===r){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var l in i)n.call(i,l)&&i[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React,t=window.wp.element;function n(e,t,...i){if(e in t){let n=t[e];return"function"==typeof n?n(...i):n}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,n),o}function o(...e){return e.filter(Boolean).join(" ")}var r,s,l=((s=l||{})[s.None=0]="None",s[s.RenderStrategy=1]="RenderStrategy",s[s.Static=2]="Static",s),a=((r=a||{})[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden",r);function c({ourProps:e,theirProps:t,slot:i,defaultTag:o,features:r,visible:s=!0,name:l}){let a=u(t,e);if(s)return d(a,i,o,l);let c=null!=r?r:0;if(2&c){let{static:e=!1,...t}=a;if(e)return d(t,i,o,l)}if(1&c){let{unmount:e=!0,...t}=a;return n(e?0:1,{0:()=>null,1:()=>d({...t,hidden:!0,style:{display:"none"}},i,o,l)})}return d(a,i,o,l)}function d(t,i={},n,r){var s;let{as:l=n,children:a,refName:c="ref",...d}=m(t,["unmount","static"]),h=void 0!==t.ref?{[c]:t.ref}:{},p="function"==typeof a?a(i):a;d.className&&"function"==typeof d.className&&(d.className=d.className(i));let f={};if(i){let e=!1,t=[];for(let[n,o]of Object.entries(i))"boolean"==typeof o&&(e=!0),!0===o&&t.push(n);e&&(f["data-headlessui-state"]=t.join(" "))}if(l===e.Fragment&&Object.keys(g(d)).length>0){if(!(0,e.isValidElement)(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(d).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let t=o(null==(s=p.props)?void 0:s.className,d.className),i=t?{className:t}:{};return(0,e.cloneElement)(p,Object.assign({},u(p.props,g(m(d,["ref"]))),f,h,function(...e){return{ref:e.every((e=>null==e))?void 0:t=>{for(let i of e)null!=i&&("function"==typeof i?i(t):i.current=t)}}}(p.ref,h.ref),i))}return(0,e.createElement)(l,Object.assign({},m(d,["ref"]),l!==e.Fragment&&h,l!==e.Fragment&&f),p)}function u(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},i={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=i[e]||(i[e]=[]),i[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(i).map((e=>[e,void 0]))));for(let e in i)Object.assign(t,{[e](t,...n){let o=i[e];for(let e of o){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...n)}}});return t}function h(t){var i;return Object.assign((0,e.forwardRef)(t),{displayName:null!=(i=t.displayName)?i:t.name})}function g(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function m(e,t=[]){let i=Object.assign({},e);for(let e of t)e in i&&delete i[e];return i}var p=Object.defineProperty,f=(e,t,i)=>(((e,t,i)=>{t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);let v=new class{constructor(){f(this,"current",this.detect()),f(this,"handoffState","pending"),f(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},b=(t,i)=>{v.isServer?(0,e.useEffect)(t,i):(0,e.useLayoutEffect)(t,i)};function y(t){let i=(0,e.useRef)(t);return b((()=>{i.current=t}),[t]),i}let w=function(t){let i=y(t);return e.useCallback(((...e)=>i.current(...e)),[i])},_=Symbol();function E(e,t=!0){return Object.assign(e,{[_]:t})}function x(...t){let i=(0,e.useRef)(t);(0,e.useEffect)((()=>{i.current=t}),[t]);let n=w((e=>{for(let t of i.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[_])))?void 0:n}function S(){let[t,i]=(0,e.useState)(v.isHandoffComplete);return t&&!1===v.isHandoffComplete&&i(!1),(0,e.useEffect)((()=>{!0!==t&&i(!0)}),[t]),(0,e.useEffect)((()=>v.handoff()),[]),t}var C;let I=null!=(C=e.useId)?C:function(){let t=S(),[i,n]=e.useState(t?()=>v.nextId():null);return b((()=>{null===i&&n(v.nextId())}),[i]),null!=i?""+i:void 0};var T=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(T||{});function D(e){let t=e.parentElement,i=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(i=t),t=t.parentElement;let n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(i))&&n}function P(e){return v.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let O=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var L,k=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(k||{}),N=((L=N||{})[L.Error=0]="Error",L[L.Overflow=1]="Overflow",L[L.Success=2]="Success",L[L.Underflow=3]="Underflow",L),z=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(z||{});function A(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(O)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var B=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(B||{});function M(e,t=0){var i;return e!==(null==(i=P(e))?void 0:i.body)&&n(t,{0:()=>e.matches(O),1(){let t=e;for(;null!==t;){if(t.matches(O))return!0;t=t.parentElement}return!1}})}let F=["textarea","input"].join(",");function G(e,t,{sorted:i=!0,relativeTo:n=null,skipElements:o=[]}={}){let r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?i?function(e,t=(e=>e)){return e.slice().sort(((e,i)=>{let n=t(e),o=t(i);if(null===n||null===o)return 0;let r=n.compareDocumentPosition(o);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(e):e:A(e);o.length>0&&s.length>1&&(s=s.filter((e=>!o.includes(e)))),n=null!=n?n:r.activeElement;let l,a=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(n))-1;if(4&t)return Math.max(0,s.indexOf(n))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=32&t?{preventScroll:!0}:{},u=0,h=s.length;do{if(u>=h||u+h<=0)return 0;let e=c+u;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}l=s[e],null==l||l.focus(d),u+=a}while(l!==r.activeElement);return 6&t&&function(e){var t,i;return null!=(i=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,F))&&i}(l)&&l.select(),l.hasAttribute("tabindex")||l.setAttribute("tabindex","0"),2}let R=(0,e.createContext)(null);R.displayName="OpenClosedContext";var $=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($||{});function j(){return(0,e.useContext)(R)}function H({value:t,children:i}){return e.createElement(R.Provider,{value:t},i)}function V(e){var t;if(e.type)return e.type;let i=null!=(t=e.as)?t:"button";return"string"==typeof i&&"button"===i.toLowerCase()?"button":void 0}function X(t,i,n){let o=y(i);(0,e.useEffect)((()=>{function e(e){o.current(e)}return document.addEventListener(t,e,n),()=>document.removeEventListener(t,e,n)}),[t,n])}function W(...t){return(0,e.useMemo)((()=>P(...t)),[...t])}var Y=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Y||{});let U=h((function(e,t){let{features:i=1,...n}=e;return c({ourProps:{ref:t,"aria-hidden":!(2&~i)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~i)&&!!(2&~i)&&{display:"none"}}},theirProps:n,slot:{},defaultTag:"div",name:"Hidden"})}));var Z=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Z||{});function q(){let t=(0,e.useRef)(0);return function(t,i,n){let o=y(i);(0,e.useEffect)((()=>{function e(e){o.current(e)}return window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)}),[t,n])}("keydown",(e=>{"Tab"===e.key&&(t.current=e.shiftKey?1:0)}),!0),t}var K,J,Q=((J=Q||{})[J.Open=0]="Open",J[J.Closed=1]="Closed",J),ee=((K=ee||{})[K.TogglePopover=0]="TogglePopover",K[K.ClosePopover=1]="ClosePopover",K[K.SetButton=2]="SetButton",K[K.SetButtonId=3]="SetButtonId",K[K.SetPanel=4]="SetPanel",K[K.SetPanelId=5]="SetPanelId",K);let te={0:e=>({...e,popoverState:n(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},ie=(0,e.createContext)(null);function ne(t){let i=(0,e.useContext)(ie);if(null===i){let e=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,ne),e}return i}ie.displayName="PopoverContext";let oe=(0,e.createContext)(null);function re(t){let i=(0,e.useContext)(oe);if(null===i){let e=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,re),e}return i}oe.displayName="PopoverAPIContext";let se=(0,e.createContext)(null);function le(){return(0,e.useContext)(se)}se.displayName="PopoverGroupContext";let ae=(0,e.createContext)(null);function ce(e,t){return n(t.type,te,e,t)}ae.displayName="PopoverPanelContext";let de=h((function(t,i){var o;let r=(0,e.useRef)(null),s=x(i,E((e=>{r.current=e}))),l=(0,e.useRef)([]),a=(0,e.useReducer)(ce,{popoverState:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,e.createRef)(),afterPanelSentinel:(0,e.createRef)()}),[{popoverState:d,button:u,buttonId:h,panel:g,panelId:m,beforePanelSentinel:p,afterPanelSentinel:f},v]=a,b=W(null!=(o=r.current)?o:u),_=(0,e.useMemo)((()=>{if(!u||!g)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(u))^Number(null==e?void 0:e.contains(g)))return!0;let e=A(),t=e.indexOf(u),i=(t+e.length-1)%e.length,n=(t+1)%e.length,o=e[i],r=e[n];return!g.contains(o)&&!g.contains(r)}),[u,g]),S=y(h),C=y(m),I=(0,e.useMemo)((()=>({buttonId:S,panelId:C,close:()=>v({type:1})})),[S,C,v]),T=le(),D=null==T?void 0:T.registerPopover,P=w((()=>{var e;return null!=(e=null==T?void 0:T.isFocusWithinPopoverGroup())?e:(null==b?void 0:b.activeElement)&&((null==u?void 0:u.contains(b.activeElement))||(null==g?void 0:g.contains(b.activeElement)))}));(0,e.useEffect)((()=>null==D?void 0:D(I)),[D,I]),function(t,i,n,o){let r=y(n);(0,e.useEffect)((()=>{function e(e){r.current(e)}return(t=null!=t?t:window).addEventListener(i,e,o),()=>t.removeEventListener(i,e,o)}),[t,i,o])}(null==b?void 0:b.defaultView,"focus",(e=>{var t,i,n,o;0===d&&(P()||!u||!g||e.target!==window&&(null!=(i=null==(t=p.current)?void 0:t.contains)&&i.call(t,e.target)||null!=(o=null==(n=f.current)?void 0:n.contains)&&o.call(n,e.target)||v({type:1})))}),!0),function(t,i,n=!0){let o=(0,e.useRef)(!1);function r(e,n){if(!o.current||e.defaultPrevented)return;let r=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t),s=n(e);if(null!==s&&s.getRootNode().contains(s)){for(let t of r){if(null===t)continue;let i=t instanceof HTMLElement?t:t.current;if(null!=i&&i.contains(s)||e.composed&&e.composedPath().includes(i))return}return!M(s,B.Loose)&&-1!==s.tabIndex&&e.preventDefault(),i(e,s)}}(0,e.useEffect)((()=>{requestAnimationFrame((()=>{o.current=n}))}),[n]);let s=(0,e.useRef)(null);X("mousedown",(e=>{var t,i;o.current&&(s.current=(null==(i=null==(t=e.composedPath)?void 0:t.call(e))?void 0:i[0])||e.target)}),!0),X("click",(e=>{!s.current||(r(e,(()=>s.current)),s.current=null)}),!0),X("blur",(e=>r(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}([u,g],((e,t)=>{v({type:1}),M(t,B.Loose)||(e.preventDefault(),null==u||u.focus())}),0===d);let O=w((e=>{v({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:u:u;null==t||t.focus()})),L=(0,e.useMemo)((()=>({close:O,isPortalled:_})),[O,_]),k=(0,e.useMemo)((()=>({open:0===d,close:O})),[d,O]),N=t,z={ref:s};return e.createElement(ie.Provider,{value:a},e.createElement(oe.Provider,{value:L},e.createElement(H,{value:n(d,{0:$.Open,1:$.Closed})},c({ourProps:z,theirProps:N,slot:k,defaultTag:"div",name:"Popover"}))))})),ue=h((function(t,i){let o=I(),{id:r=`headlessui-popover-button-${o}`,...s}=t,[l,a]=ne("Popover.Button"),{isPortalled:d}=re("Popover.Button"),u=(0,e.useRef)(null),h=`headlessui-focus-sentinel-${I()}`,g=le(),m=null==g?void 0:g.closeOthers,p=null!==(0,e.useContext)(ae);(0,e.useEffect)((()=>{if(!p)return a({type:3,buttonId:r}),()=>{a({type:3,buttonId:null})}}),[p,r,a]);let[f]=(0,e.useState)((()=>Symbol())),v=x(u,i,p?null:e=>{if(e)l.buttons.current.push(f);else{let e=l.buttons.current.indexOf(f);-1!==e&&l.buttons.current.splice(e,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&a({type:2,button:e})}),y=x(u,i),_=W(u),E=w((e=>{var t,i,n;if(p){if(1===l.popoverState)return;switch(e.key){case T.Space:case T.Enter:e.preventDefault(),null==(i=(t=e.target).click)||i.call(t),a({type:1}),null==(n=l.button)||n.focus()}}else switch(e.key){case T.Space:case T.Enter:e.preventDefault(),e.stopPropagation(),1===l.popoverState&&(null==m||m(l.buttonId)),a({type:0});break;case T.Escape:if(0!==l.popoverState)return null==m?void 0:m(l.buttonId);if(!u.current||(null==_?void 0:_.activeElement)&&!u.current.contains(_.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1})}})),S=w((e=>{p||e.key===T.Space&&e.preventDefault()})),C=w((e=>{var i,n;D(e.currentTarget)||t.disabled||(p?(a({type:1}),null==(i=l.button)||i.focus()):(e.preventDefault(),e.stopPropagation(),1===l.popoverState&&(null==m||m(l.buttonId)),a({type:0}),null==(n=l.button)||n.focus()))})),P=w((e=>{e.preventDefault(),e.stopPropagation()})),O=0===l.popoverState,L=(0,e.useMemo)((()=>({open:O})),[O]),z=function(t,i){let[n,o]=(0,e.useState)((()=>V(t)));return b((()=>{o(V(t))}),[t.type,t.as]),b((()=>{n||!i.current||i.current instanceof HTMLButtonElement&&!i.current.hasAttribute("type")&&o("button")}),[n,i]),n}(t,u),B=p?{ref:y,type:z,onKeyDown:E,onClick:C}:{ref:v,id:l.buttonId,type:z,"aria-expanded":t.disabled?void 0:0===l.popoverState,"aria-controls":l.panel?l.panelId:void 0,onKeyDown:E,onKeyUp:S,onClick:C,onMouseDown:P},M=q(),F=w((()=>{let e=l.panel;e&&n(M.current,{[Z.Forwards]:()=>G(e,k.First),[Z.Backwards]:()=>G(e,k.Last)})===N.Error&&G(A().filter((e=>"true"!==e.dataset.headlessuiFocusGuard)),n(M.current,{[Z.Forwards]:k.Next,[Z.Backwards]:k.Previous}),{relativeTo:l.button})}));return e.createElement(e.Fragment,null,c({ourProps:B,theirProps:s,slot:L,defaultTag:"button",name:"Popover.Button"}),O&&!p&&d&&e.createElement(U,{id:h,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F}))})),he=l.RenderStrategy|l.Static,ge=h((function(t,i){let n=I(),{id:o=`headlessui-popover-overlay-${n}`,...r}=t,[{popoverState:s},l]=ne("Popover.Overlay"),a=x(i),d=j(),u=null!==d?(d&$.Open)===$.Open:0===s,h=w((e=>{if(D(e.currentTarget))return e.preventDefault();l({type:1})}));return c({ourProps:{ref:a,id:o,"aria-hidden":!0,onClick:h},theirProps:r,slot:(0,e.useMemo)((()=>({open:0===s})),[s]),defaultTag:"div",features:he,visible:u,name:"Popover.Overlay"})})),me=l.RenderStrategy|l.Static,pe=h((function(t,i){let o=I(),{id:r=`headlessui-popover-panel-${o}`,focus:s=!1,...l}=t,[a,d]=ne("Popover.Panel"),{close:u,isPortalled:h}=re("Popover.Panel"),g=`headlessui-focus-sentinel-before-${I()}`,m=`headlessui-focus-sentinel-after-${I()}`,p=(0,e.useRef)(null),f=x(p,i,(e=>{d({type:4,panel:e})})),v=W(p);b((()=>(d({type:5,panelId:r}),()=>{d({type:5,panelId:null})})),[r,d]);let y=j(),_=null!==y?(y&$.Open)===$.Open:0===a.popoverState,E=w((e=>{var t;if(e.key===T.Escape){if(0!==a.popoverState||!p.current||(null==v?void 0:v.activeElement)&&!p.current.contains(v.activeElement))return;e.preventDefault(),e.stopPropagation(),d({type:1}),null==(t=a.button)||t.focus()}}));(0,e.useEffect)((()=>{var e;t.static||1===a.popoverState&&(null==(e=t.unmount)||e)&&d({type:4,panel:null})}),[a.popoverState,t.unmount,t.static,d]),(0,e.useEffect)((()=>{if(!s||0!==a.popoverState||!p.current)return;let e=null==v?void 0:v.activeElement;p.current.contains(e)||G(p.current,k.First)}),[s,p,a.popoverState]);let S=(0,e.useMemo)((()=>({open:0===a.popoverState,close:u})),[a,u]),C={ref:f,id:r,onKeyDown:E,onBlur:s&&0===a.popoverState?e=>{var t,i,n,o,r;let s=e.relatedTarget;!s||!p.current||null!=(t=p.current)&&t.contains(s)||(d({type:1}),((null==(n=null==(i=a.beforePanelSentinel.current)?void 0:i.contains)?void 0:n.call(i,s))||(null==(r=null==(o=a.afterPanelSentinel.current)?void 0:o.contains)?void 0:r.call(o,s)))&&s.focus({preventScroll:!0}))}:void 0,tabIndex:-1},D=q(),P=w((()=>{let e=p.current;e&&n(D.current,{[Z.Forwards]:()=>{var t;G(e,k.First)===N.Error&&(null==(t=a.afterPanelSentinel.current)||t.focus())},[Z.Backwards]:()=>{var e;null==(e=a.button)||e.focus({preventScroll:!0})}})})),O=w((()=>{let e=p.current;e&&n(D.current,{[Z.Forwards]:()=>{var e;if(!a.button)return;let t=A(),i=t.indexOf(a.button),n=t.slice(0,i+1),o=[...t.slice(i+1),...n];for(let t of o.slice())if("true"===t.dataset.headlessuiFocusGuard||(null==(e=a.panel)?void 0:e.contains(t))){let e=o.indexOf(t);-1!==e&&o.splice(e,1)}G(o,k.First,{sorted:!1})},[Z.Backwards]:()=>{var t;G(e,k.Previous)===N.Error&&(null==(t=a.button)||t.focus())}})}));return e.createElement(ae.Provider,{value:r},_&&h&&e.createElement(U,{id:g,ref:a.beforePanelSentinel,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P}),c({ourProps:C,theirProps:l,slot:S,defaultTag:"div",features:me,visible:_,name:"Popover.Panel"}),_&&h&&e.createElement(U,{id:m,ref:a.afterPanelSentinel,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}))})),fe=h((function(t,i){let n=(0,e.useRef)(null),o=x(n,i),[r,s]=(0,e.useState)([]),l=w((e=>{s((t=>{let i=t.indexOf(e);if(-1!==i){let e=t.slice();return e.splice(i,1),e}return t}))})),a=w((e=>(s((t=>[...t,e])),()=>l(e)))),d=w((()=>{var e;let t=P(n);if(!t)return!1;let i=t.activeElement;return!(null==(e=n.current)||!e.contains(i))||r.some((e=>{var n,o;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(i))||(null==(o=t.getElementById(e.panelId.current))?void 0:o.contains(i))}))})),u=w((e=>{for(let t of r)t.buttonId.current!==e&&t.close()})),h=(0,e.useMemo)((()=>({registerPopover:a,unregisterPopover:l,isFocusWithinPopoverGroup:d,closeOthers:u})),[a,l,d,u]),g=(0,e.useMemo)((()=>({})),[]),m=t,p={ref:o};return e.createElement(se.Provider,{value:h},c({ourProps:p,theirProps:m,slot:g,defaultTag:"div",name:"Popover.Group"}))})),ve=Object.assign(de,{Button:ue,Overlay:ge,Panel:pe,Group:fe});function be(){let t=(0,e.useRef)(!1);return b((()=>(t.current=!0,()=>{t.current=!1})),[]),t}function ye(){let e=[],t=[],i={enqueue(e){t.push(e)},addEventListener:(e,t,n,o)=>(e.addEventListener(t,n,o),i.add((()=>e.removeEventListener(t,n,o)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return i.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>i.requestAnimationFrame((()=>i.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return i.add((()=>clearTimeout(t)))},microTask(...e){let t={current:!0};return function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{t.current&&e[0]()})),i.add((()=>{t.current=!1}))},add:t=>(e.push(t),()=>{let i=e.indexOf(t);if(i>=0){let[t]=e.splice(i,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()},style(e,t,i){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:i}),this.add((()=>{Object.assign(e.style,{[t]:n})}))}};return i}function we(e,...t){e&&t.length>0&&e.classList.add(...t)}function _e(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Ee(){let[t]=(0,e.useState)(ye);return(0,e.useEffect)((()=>()=>t.dispose()),[t]),t}function xe(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let Se=(0,e.createContext)(null);Se.displayName="TransitionContext";var Ce,Ie=((Ce=Ie||{}).Visible="visible",Ce.Hidden="hidden",Ce);let Te=(0,e.createContext)(null);function De(e){return"children"in e?De(e.children):e.current.filter((({el:e})=>null!==e.current)).filter((({state:e})=>"visible"===e)).length>0}function Pe(t,i){let o=y(t),r=(0,e.useRef)([]),s=be(),l=Ee(),c=w(((e,t=a.Hidden)=>{let i=r.current.findIndex((({el:t})=>t===e));-1!==i&&(n(t,{[a.Unmount](){r.current.splice(i,1)},[a.Hidden](){r.current[i].state="hidden"}}),l.microTask((()=>{var e;!De(r)&&s.current&&(null==(e=o.current)||e.call(o))})))})),d=w((e=>{let t=r.current.find((({el:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>c(e,a.Unmount)})),u=(0,e.useRef)([]),h=(0,e.useRef)(Promise.resolve()),g=(0,e.useRef)({enter:[],leave:[],idle:[]}),m=w(((e,t,n)=>{u.current.splice(0),i&&(i.chains.current[t]=i.chains.current[t].filter((([t])=>t!==e))),null==i||i.chains.current[t].push([e,new Promise((e=>{u.current.push(e)}))]),null==i||i.chains.current[t].push([e,new Promise((e=>{Promise.all(g.current[t].map((([e,t])=>t))).then((()=>e()))}))]),"enter"===t?h.current=h.current.then((()=>null==i?void 0:i.wait.current)).then((()=>n(t))):n(t)})),p=w(((e,t,i)=>{Promise.all(g.current[t].splice(0).map((([e,t])=>t))).then((()=>{var e;null==(e=u.current.shift())||e()})).then((()=>i(t)))}));return(0,e.useMemo)((()=>({children:r,register:d,unregister:c,onStart:m,onStop:p,wait:h,chains:g})),[d,c,r,m,p,g,h])}function Oe(){}Te.displayName="NestingContext";let Le=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ke(e){var t;let i={};for(let n of Le)i[n]=null!=(t=e[n])?t:Oe;return i}let Ne=l.RenderStrategy,ze=h((function(t,i){let{beforeEnter:r,afterEnter:s,beforeLeave:l,afterLeave:d,enter:u,enterFrom:h,enterTo:g,entered:m,leave:p,leaveFrom:f,leaveTo:_,...E}=t,C=(0,e.useRef)(null),I=x(C,i),T=E.unmount?a.Unmount:a.Hidden,{show:D,appear:P,initial:O}=function(){let t=(0,e.useContext)(Se);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),[L,k]=(0,e.useState)(D?"visible":"hidden"),N=function(){let t=(0,e.useContext)(Te);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),{register:z,unregister:A}=N,B=(0,e.useRef)(null);(0,e.useEffect)((()=>z(C)),[z,C]),(0,e.useEffect)((()=>{if(T===a.Hidden&&C.current)return D&&"visible"!==L?void k("visible"):n(L,{hidden:()=>A(C),visible:()=>z(C)})}),[L,C,z,A,D,T]);let M=y({enter:xe(u),enterFrom:xe(h),enterTo:xe(g),entered:xe(m),leave:xe(p),leaveFrom:xe(f),leaveTo:xe(_)}),F=function(t){let i=(0,e.useRef)(ke(t));return(0,e.useEffect)((()=>{i.current=ke(t)}),[t]),i}({beforeEnter:r,afterEnter:s,beforeLeave:l,afterLeave:d}),G=S();(0,e.useEffect)((()=>{if(G&&"visible"===L&&null===C.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[C,L,G]);let R=O&&!P,j=!G||R||B.current===D?"idle":D?"enter":"leave",V=function(t=0){let[i,n]=(0,e.useState)(t),o=(0,e.useCallback)((e=>n((t=>t|e))),[i]),r=(0,e.useCallback)((e=>Boolean(i&e)),[i]),s=(0,e.useCallback)((e=>n((t=>t&~e))),[n]),l=(0,e.useCallback)((e=>n((t=>t^e))),[n]);return{flags:i,addFlag:o,hasFlag:r,removeFlag:s,toggleFlag:l}}(0),X=w((e=>n(e,{enter:()=>{V.addFlag($.Opening),F.current.beforeEnter()},leave:()=>{V.addFlag($.Closing),F.current.beforeLeave()},idle:()=>{}}))),W=w((e=>n(e,{enter:()=>{V.removeFlag($.Opening),F.current.afterEnter()},leave:()=>{V.removeFlag($.Closing),F.current.afterLeave()},idle:()=>{}}))),Y=Pe((()=>{k("hidden"),A(C)}),N);(function({container:e,direction:t,classes:i,onStart:o,onStop:r}){let s=be(),l=Ee(),a=y(t);b((()=>{let t=ye();l.add(t.dispose);let c=e.current;if(c&&"idle"!==a.current&&s.current)return t.dispose(),o.current(a.current),t.add(function(e,t,i,o){let r=i?"enter":"leave",s=ye(),l=void 0!==o?function(e){let t={called:!1};return(...i)=>{if(!t.called)return t.called=!0,e(...i)}}(o):()=>{};"enter"===r&&(e.removeAttribute("hidden"),e.style.display="");let a=n(r,{enter:()=>t.enter,leave:()=>t.leave}),c=n(r,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),d=n(r,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return _e(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),we(e,...a,...d),s.nextFrame((()=>{_e(e,...d),we(e,...c),function(e,t){let i=ye();if(!e)return i.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(e),[r,s]=[n,o].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(r+s!==0){let n=i.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t(),n())}))}else t();i.add((()=>t())),i.dispose}(e,(()=>(_e(e,...a),we(e,...t.entered),l())))})),s.dispose}(c,i.current,"enter"===a.current,(()=>{t.dispose(),r.current(a.current)}))),t.dispose}),[t])})({container:C,classes:M,direction:j,onStart:y((e=>{Y.onStart(C,e,X)})),onStop:y((e=>{Y.onStop(C,e,W),"leave"===e&&!De(Y)&&(k("hidden"),A(C))}))}),(0,e.useEffect)((()=>{!R||(T===a.Hidden?B.current=null:B.current=D)}),[D,R,L]);let U=E,Z={ref:I};return P&&D&&v.isServer&&(U={...U,className:o(E.className,...M.current.enter,...M.current.enterFrom)}),e.createElement(Te.Provider,{value:Y},e.createElement(H,{value:n(L,{visible:$.Open,hidden:$.Closed})|V.flags},c({ourProps:Z,theirProps:U,defaultTag:"div",features:Ne,visible:"visible"===L,name:"Transition.Child"})))})),Ae=h((function(t,i){let{show:n,appear:o=!1,unmount:r,...s}=t,l=(0,e.useRef)(null),a=x(l,i);S();let d=j();if(void 0===n&&null!==d&&(n=(d&$.Open)===$.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=(0,e.useState)(n?"visible":"hidden"),g=Pe((()=>{h("hidden")})),[m,p]=(0,e.useState)(!0),f=(0,e.useRef)([n]);b((()=>{!1!==m&&f.current[f.current.length-1]!==n&&(f.current.push(n),p(!1))}),[f,n]);let v=(0,e.useMemo)((()=>({show:n,appear:o,initial:m})),[n,o,m]);(0,e.useEffect)((()=>{if(n)h("visible");else if(De(g)){let e=l.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&h("hidden")}else h("hidden")}),[n,g]);let y={unmount:r};return e.createElement(Te.Provider,{value:g},e.createElement(Se.Provider,{value:v},c({ourProps:{...y,as:e.Fragment,children:e.createElement(ze,{ref:a,...y,...s})},theirProps:{},defaultTag:e.Fragment,features:Ne,visible:"visible"===u,name:"Transition"})))})),Be=h((function(t,i){let n=null!==(0,e.useContext)(Se),o=null!==j();return e.createElement(e.Fragment,null,!n&&o?e.createElement(Ae,{ref:i,...t}):e.createElement(ze,{ref:i,...t}))})),Me=Object.assign(Ae,{Child:Be,Root:Ae});var Fe=i(485),Ge=i.n(Fe);const Re=({btnData:t,btnContent:i,content:n})=>(0,e.createElement)(ve,{className:"relative"},(0,e.createElement)(ve.Button,{className:t.className},i||(0,e.createElement)("img",{src:t.icon})),(0,e.createElement)(Me,{as:e.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1"},(0,e.createElement)(ve.Panel,{className:"ud-c-popover"},(0,e.createElement)("div",{className:"ud-c-popover__content"},(0,e.createElement)("div",{className:Ge()("ud-c-popover__content__wrap",t.contentClass)},n))))),$e=window.wp.apiFetch;var je=i.n($e);const He=window.wp.data,Ve=e=>(e=Object.assign({showCloseButton:!0},e),window.Swal.fire(e)),Xe=()=>{const{activeAccount:i,accounts:n}=EDBIData,o=(0,He.useSelect)((e=>e("dropbox-browser").getData("breadcrumbs"))),r=(0,He.useSelect)((e=>e("dropbox-browser").getData("refresh"))),s=(0,He.useSelect)((e=>e("dropbox-browser").getData("filter"))),l=(0,He.useSelect)((e=>e("dropbox-browser").getData("current_path"))),a=s.by?s.by:"name",c=s.direction?s.direction:"asc";console.log(s);const d=e=>{(0,He.dispatch)("dropbox-browser").setData("isLoading",!0),(0,He.dispatch)("dropbox-browser").setData("filter",{...s,by:e})},u=e=>{(0,He.dispatch)("dropbox-browser").setData("isLoading",!0),(0,He.dispatch)("dropbox-browser").setData("filter",{...s,direction:e})},[h,g]=(0,t.useState)(i);return(0,e.createElement)("div",{className:"edbi-file-browser__header"},(0,e.createElement)("nav",{className:"flex edbi-file-browser__header__breadcrumb","aria-label":"Breadcrumb"},(0,e.createElement)("ol",null,(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#"},(0,e.createElement)("svg",{"aria-hidden":"true",class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})),"Home")),o.map(((t,i)=>(0,e.createElement)("li",{"aria-current":"page",key:i,onClick:()=>{(0,He.dispatch)("dropbox-browser").setData("current_path",t.path.replace(/\/$/,""))}},(0,e.createElement)("div",{class:"flex items-center"},(0,e.createElement)("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})),(0,e.createElement)("a",{href:"#"},t.name))))))),(0,e.createElement)("div",{className:"edbi-file-browser__header__right"},(0,e.createElement)("div",{className:"edbi-file-browser__header__right__refresh edbi-file-browser__header__right__btn",onClick:()=>{(0,He.dispatch)("dropbox-browser").setData("refresh",!r),(0,He.dispatch)("dropbox-browser").setData("isLoading",!0)}},(0,e.createElement)("img",{src:EDBIData.assets+"images/refresh.svg"})),(0,e.createElement)(Re,{className:"relative",btnData:{className:"edbi-file-browser__header__right__filter edbi-file-browser__header__right__btn relative",icon:EDBIData.assets+"images/filter.svg",contentClass:"min-w-[200px]"},content:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"edbi-file-browser__header__right__filter__content"},(0,e.createElement)("div",{className:"edbi-file-browser__header__right__filter__content__title"},"Filter by"),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__filter__content__options"},(0,e.createElement)("ul",null,(0,e.createElement)("li",{className:Ge()("edbi-file-browser__header__right__filter__content__options__item",{"edbi-file-browser__header__right__filter__content__options__item--active":"name"===a}),onClick:()=>d("name")},"Name"),(0,e.createElement)("li",{className:Ge()("edbi-file-browser__header__right__filter__content__options__item",{"edbi-file-browser__header__right__filter__content__options__item--active":"size"===a}),onClick:()=>d("size")},"Size"),(0,e.createElement)("li",{className:Ge()("edbi-file-browser__header__right__filter__content__options__item",{"edbi-file-browser__header__right__filter__content__options__item--active":"modified"===a}),onClick:()=>d("modified")},"Modified"))),(0,e.createElement)("hr",null),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__filter__content__title"},"Sort Direction"),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__filter__content__options"},(0,e.createElement)("ul",null,(0,e.createElement)("li",{className:Ge()("edbi-file-browser__header__right__filter__content__options__item",{"edbi-file-browser__header__right__filter__content__options__item--active":"asc"===c}),onClick:()=>u("asc")},"ASC"),(0,e.createElement)("li",{className:Ge()("edbi-file-browser__header__right__filter__content__options__item",{"edbi-file-browser__header__right__filter__content__options__item--active":"desc"===c}),onClick:()=>u("desc")},"DESC")))))}),(0,e.createElement)(Re,{className:"relative",btnData:{className:"edbi-file-browser__header__right__more edbi-file-browser__header__right__btn relative",icon:EDBIData.assets+"images/more.svg",contentClass:"min-w-[200px]"},content:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"edbi-file-browser__header__right__more__content"},(0,e.createElement)("ul",null,(0,e.createElement)("li",{onClick:()=>{Ve({title:"New Folder",html:'\n\t\t\t\t\t<p>Create New Folder</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input id="swal-new-folder-input" class="swal2-input" placeholder="Create New Folder" />\n\t\t\t\t\t</div>\n\t\t\t\t',confirmButtonText:"Create"}).then((e=>{e.isConfirmed&&wp.ajax.post("idbwp_create_folder",{account_id:i.id,nonce:EDBIData?.ajaxNonce,path:l,name:document.getElementById("swal-new-folder-input").value}).then((e=>{Ve({title:"Success",text:e.message,icon:"success"}),(0,He.dispatch)("dropbox-browser").setData("isLoading",!0),(0,He.dispatch)("dropbox-browser").setData("refresh",!0)})).catch((e=>{Ve({title:"Error",text:e.message,icon:"error"})}))}))}},"New Folder"),(0,e.createElement)("li",{onClick:()=>(0,He.dispatch)("dropbox-browser").setData("showUploader",!0)},"Upload"),(0,e.createElement)("li",null,"Select All"),(0,e.createElement)("li",null,"Download"))))}),(0,e.createElement)(Re,{className:"relative",btnData:{className:"edbi-file-browser__header__right__user edbi-file-browser__header__right__btn relative",contentClass:"min-w-[200px]"},btnContent:(0,e.createElement)(e.Fragment,null,n?(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__info"},(0,e.createElement)("img",{src:h.photo,alt:h.name}),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__info__more"},(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__info__more__name"},h.name),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__info__more__email"},h.email))):(0,e.createElement)("button",{onClick:()=>{window.open(EDBIData.authUrl,"_blank","width=600,height=600,toolbar=yes,scrollbars=yes,resizable=yes")},className:"ud-c-btn ud-c-btn--primary"},"Add Account")),content:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__content"},n&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",null,"Switch Account"),Object.entries(n).map((t=>(t=t[1],(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:Ge()("edbi-file-browser__header__right__user__info",t.id===h.id?"edbi-file-browser__header__right__user__info--active":""),onClick:()=>{var e;e=t.id,je()({path:"/idb/v1/switch-account",method:"POST",data:{id:e}}).then((e=>{"success"===e.status&&((0,He.dispatch)("dropbox-browser").setData("refresh",!0),(0,He.dispatch)("dropbox-browser").setData("isLoading",!0)),window.location.reload()})),g(t)}},(0,e.createElement)("img",{src:t.photo,alt:t.name}),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__info__more"},(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__info__more__name"},t.name),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__info__more__email"},t.email)))))))),(0,e.createElement)("div",{className:"edbi-file-browser__header__right__user__content__add"},(0,e.createElement)("button",{onClick:()=>{window.open(EDBIData.authUrl,"_blank","width=600,height=600,toolbar=yes,scrollbars=yes,resizable=yes")},className:"ud-c-btn ud-c-btn--primary"},"Add Account"))))})))},We=window.wp.i18n,Ye=(e,t=2)=>{if(!+e)return"0 Bytes";const i=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,n)).toFixed(i))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}`},Ue=e=>{switch(e){case"mp3":return"dashicons-media-audio";case"mp4":return"dashicons-media-video";case"jpg":case"jpeg":case"png":case"gif":return"dashicons-format-image";case"pdf":return"dashicons-media-document";case"zip":return"dashicons-media-archive";default:return"dashicons-media-default"}},Ze=e=>{let t={};const i=EDBIData?.activeAccount,n=`${EDBIData.ajaxUrl}?action=idbwp_file_preview&account_id=${i.id}&nonce=${EDBIData?.ajaxNonce}&file=${e.id}`;if(["mp4","webm","ogg"].includes(e.ext)){const i={poster:e.preview,source:[{src:n,type:`video/${e.ext}`}],attributes:{controls:!0,preload:"auto",playsinline:"true"}};t["data-poster"]=e.thumbnail,t["data-video"]=JSON.stringify(i)}if(["mp3","wav","ogg"].includes(e.ext)){t["data-poster"]=e.thumbnail;const i={source:[{src:n,type:`audio/${e.ext}`}],attributes:{controls:!0,preload:"auto",playsinline:"true"}};t["data-video"]=JSON.stringify(i),t["data-iframe"]=!1}return["jpg","jpeg","png","gif"].includes(e.ext)&&(t.href=n),"svg"===e.ext&&(t["data-src"]=e.thumbnail,t["data-iframe"]=!0),"pdf"===e.ext&&(t["data-src"]=n,t["data-iframe"]=!0),"zip"===e.ext&&(t["data-src"]=n,t["data-iframe"]=!0),t["data-sub-html"]=`\n\t\t<h4>${e.name}</h4>\n\t\t<p>${Ye(e.size)}</p>\n\t`,t["data-ext"]=e.ext,t},qe=()=>{const{activeAccount:i}=EDBIData,[n,o]=(0,t.useState)("dropbox"),r=[{name:(0,We.__)("My Dropbox","integrate-dropbox-wp"),img:EDBIData.assets+"images/dropbox.svg",slug:"dropbox"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"edbi-file-browser__l"},(0,e.createElement)("div",{className:"edbi-file-browser__sidebar"},(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__content"},(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__upload"},(0,e.createElement)("button",{onClick:()=>(0,He.dispatch)("dropbox-browser").setData("showUploader",!0),className:"ud-c-btn ud-c-btn--secondary"},(0,e.createElement)("img",{src:EDBIData.assets+"images/upload.svg"}),(0,e.createElement)("span",null,"Upload Files"))),(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__items"},r.map(((t,i)=>(0,e.createElement)("div",{key:i,className:Ge()("edbi-file-browser__sidebar__item",{"edbi-file-browser__sidebar__item--active":t.slug===n}),onClick:()=>o(t.slug)},(0,e.createElement)("img",{src:t.img}),(0,e.createElement)("span",null,t.name))))),(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__storage-info"},(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__storage-info__img"},(0,e.createElement)("img",{src:EDBIData.assets+"images/storage.svg"})),(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__storage-info__more"},(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__storage-info__more__progress"},(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__storage-info__more__progress__bar",style:{width:`${i?.storage?.percent}%`}})),i.storage&&(0,e.createElement)("div",{className:"edbi-file-browser__sidebar__storage-info__more__text"},Ye(i?.storage?.used)," ","of"," ",Ye(i?.storage?.allocated))))))))};var Ke=function(){return Ke=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ke.apply(this,arguments)},Je="lgUpdateSlides",Qe="lgPosterClick",et="lgBeforeNextSlide",tt="lgBeforePrevSlide",it={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}},nt=function(){function e(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.prototype._getSelector=function(e,t){return void 0===t&&(t=document),"string"!=typeof e?e:(t=t||document,"#"===e.substring(0,1)?t.querySelector(e):t.querySelectorAll(e))},e.prototype._each=function(e){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,e):e(this.selector,0),this):this},e.prototype._setCssVendorPrefix=function(e,t,i){var n=t.replace(/-([a-z])/gi,(function(e,t){return t.toUpperCase()}));-1!==this.cssVenderPrefixes.indexOf(n)?(e.style[n.charAt(0).toLowerCase()+n.slice(1)]=i,e.style["webkit"+n]=i,e.style["moz"+n]=i,e.style["ms"+n]=i,e.style["o"+n]=i):e.style[n]=i},e.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},e.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter((function(e){return e})).every((function(e){return-1!==i.indexOf(e)}))},e.prototype.attr=function(e,t){return void 0===t?this.firstElement?this.firstElement.getAttribute(e):"":(this._each((function(i){i.setAttribute(e,t)})),this)},e.prototype.find=function(e){return ot(this._getSelector(e,this.selector))},e.prototype.first=function(){return this.selector&&void 0!==this.selector.length?ot(this.selector[0]):ot(this.selector)},e.prototype.eq=function(e){return ot(this.selector[e])},e.prototype.parent=function(){return ot(this.selector.parentElement)},e.prototype.get=function(){return this._getFirstEl()},e.prototype.removeAttr=function(e){var t=e.split(" ");return this._each((function(e){t.forEach((function(t){return e.removeAttribute(t)}))})),this},e.prototype.wrap=function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this},e.prototype.addClass=function(e){return void 0===e&&(e=""),this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.add(e)}))})),this},e.prototype.removeClass=function(e){return this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.remove(e)}))})),this},e.prototype.hasClass=function(e){return!!this.firstElement&&this.firstElement.classList.contains(e)},e.prototype.hasAttribute=function(e){return!!this.firstElement&&this.firstElement.hasAttribute(e)},e.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},e.prototype.css=function(e,t){var i=this;return this._each((function(n){i._setCssVendorPrefix(n,e,t)})),this},e.prototype.on=function(t,i){var n=this;return this.selector?(t.split(" ").forEach((function(t){Array.isArray(e.eventListeners[t])||(e.eventListeners[t]=[]),e.eventListeners[t].push(i),n.selector.addEventListener(t.split(".")[0],i)})),this):this},e.prototype.once=function(e,t){var i=this;return this.on(e,(function(){i.off(e),t(e)})),this},e.prototype.off=function(t){var i=this;return this.selector?(Object.keys(e.eventListeners).forEach((function(n){i.isEventMatched(t,n)&&(e.eventListeners[n].forEach((function(e){i.selector.removeEventListener(n.split(".")[0],e)})),e.eventListeners[n]=[])})),this):this},e.prototype.trigger=function(e,t){if(!this.firstElement)return this;var i=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(i),this},e.prototype.load=function(e){var t=this;return fetch(e).then((function(e){return e.text()})).then((function(e){t.selector.innerHTML=e})),this},e.prototype.html=function(e){return void 0===e?this.firstElement?this.firstElement.innerHTML:"":(this._each((function(t){t.innerHTML=e})),this)},e.prototype.append=function(e){return this._each((function(t){"string"==typeof e?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)})),this},e.prototype.prepend=function(e){return this._each((function(t){t.insertAdjacentHTML("afterbegin",e)})),this},e.prototype.remove=function(){return this._each((function(e){e.parentNode.removeChild(e)})),this},e.prototype.empty=function(){return this._each((function(e){e.innerHTML=""})),this},e.prototype.scrollTop=function(e){return void 0!==e?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},e.prototype.scrollLeft=function(e){return void 0!==e?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},e.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=ot("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}},e.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},e.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},e.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},e.eventListeners={},e}();function ot(e){return function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),new nt(e)}var rt=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function st(e){return"href"===e?"src":e=(e=(e=e.replace("data-","")).charAt(0).toLowerCase()+e.slice(1)).replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var lt=function(e,t,i,n){void 0===i&&(i=0);var o=ot(e).attr("data-lg-size")||n;if(o){var r=o.split(",");if(r[1])for(var s=window.innerWidth,l=0;l<r.length;l++){var a=r[l];if(parseInt(a.split("-")[2],10)>s){o=a;break}l===r.length-1&&(o=a)}var c=o.split("-"),d=parseInt(c[0],10),u=parseInt(c[1],10),h=t.width(),g=t.height()-i,m=Math.min(h,d),p=Math.min(g,u),f=Math.min(m/d,p/u);return{width:d*f,height:u*f}}},at=function(e,t,i,n,o){if(o){var r=ot(e).find("img").first();if(r.get()){var s=t.get().getBoundingClientRect(),l=s.width,a=t.height()-(i+n),c=r.width(),d=r.height(),u=r.style(),h=(l-c)/2-r.offset().left+(parseFloat(u.paddingLeft)||0)+(parseFloat(u.borderLeft)||0)+ot(window).scrollLeft()+s.left,g=(a-d)/2-r.offset().top+(parseFloat(u.paddingTop)||0)+(parseFloat(u.borderTop)||0)+ot(window).scrollTop()+i;return"translate3d("+(h*=-1)+"px, "+(g*=-1)+"px, 0) scale3d("+c/o.width+", "+d/o.height+", 1)"}}},ct=function(e,t,i,n,o,r){var s="<img "+i+" "+(n?'srcset="'+n+'"':"")+"  "+(o?'sizes="'+o+'"':"")+' class="lg-object lg-image" data-index="'+e+'" src="'+t+'" />',l="";return r&&(l=("string"==typeof r?JSON.parse(r):r).map((function(e){var t="";return Object.keys(e).forEach((function(i){t+=" "+i+'="'+e[i]+'"'})),"<source "+t+"></source>"}))),""+l+s},dt=0,ut=function(){function e(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(dt++,this.lgId=dt,this.el=e,this.LGel=ot(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return e.prototype.generateSettings=function(e){if(this.settings=Ke(Ke({},it),e),this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){var t=Ke(Ke({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=Ke(Ke({},this.settings),t)}},e.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},e.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger("lgInit",{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout((function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()}),50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},e.prototype.openGalleryOnItemClick=function(){for(var e=this,t=function(t){var n=i.items[t],o=ot(n),r=nt.generateUUID();o.attr("data-lg-id",r).on("click.lgcustom-item-"+r,(function(i){i.preventDefault();var o=e.settings.index||t;e.openGallery(o,n)}))},i=this,n=0;n<this.items.length;n++)t(n)},e.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach((function(t){e.plugins.push(new t(e,ot))}))},e.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},e.prototype.getSlideItem=function(e){return ot(this.getSlideItemId(e))},e.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},e.prototype.getIdName=function(e){return e+"-"+this.lgId},e.prototype.getElementById=function(e){return ot("#"+this.getIdName(e))},e.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},e.prototype.buildStructure=function(){var e=this;if(!this.$container||!this.$container.get()){var t="",i="";this.settings.controls&&(t='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(i='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var n="";this.settings.allowMediaOverlap&&(n+="lg-media-overlap ");var o=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",r=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",s="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),l=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",a=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",c='\n        <div class="'+s+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+o+" "+r+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+n+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+t+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+a+"\n                    "+l+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?i:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?i:"")+"\n                </div>\n            </div>\n        </div>\n        ";ot(this.settings.container).append(c),document.body!==this.settings.container&&ot(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var d=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(d+="lg-grab "),this.outer.addClass(d),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),ot(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,(function(){e.refreshOnResize()})),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},e.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var t=this.mediaContainerPosition,i=t.top,n=t.bottom;if(this.currentImageSize=lt(this.items[this.index],this.outer,i+n,e&&this.settings.videoMaxSize),e&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var o=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",o)}this.LGel.trigger("lgContainerResize")}},e.prototype.resizeVideoSlide=function(e,t){var i=this.getVideoContStyle(t);this.getSlideItem(e).find(".lg-video-cont").attr("style",i)},e.prototype.updateSlides=function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),1===e.length&&(this.index=0),e.length){var i=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var n=0;this.galleryItems.some((function(e,t){return e.src===i&&(n=t,!0)})),this.currentItemsInDom=this.organizeSlideItems(n,-1),this.loadContent(n,!0),this.getSlideItem(n).addClass("lg-current"),this.index=n,this.updateCurrentCounter(n),this.LGel.trigger(Je)}else this.closeGallery()},e.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if("this"===this.settings.selector)this.items.push(this.el);else if(this.settings.selector)if("string"==typeof this.settings.selector)if(this.settings.selectWithin){var e=ot(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return t=this.items,i=this.settings.extraProps,n=this.settings.getCaptionFromTitleOrAlt,o=this.settings.exThumbImage,r=[],s=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,l=r.length;s<l;s++,o++)n[o]=r[s];return n}(rt,i),[].forEach.call(t,(function(e){for(var t={},i=0;i<e.attributes.length;i++){var l=e.attributes[i];if(l.specified){var a=st(l.name),c="";s.indexOf(a)>-1&&(c=a),c&&(t[c]=l.value)}}var d=ot(e),u=d.find("img").first().attr("alt"),h=d.attr("title"),g=o?d.attr(o):d.find("img").first().attr("src");t.thumb=g,n&&!t.subHtml&&(t.subHtml=h||u||""),t.alt=u||h||"",r.push(t)})),r;var t,i,n,o,r,s},e.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},e.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(ot("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;ot(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),ot(document.body).addClass("lg-overlay-open")}},e.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(ot(document.body).css("padding-right",this.bodyPaddingRight+"px"),ot(document.body).removeClass("lg-overlay-open"))},e.prototype.openGallery=function(e,t){var i=this;if(void 0===e&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var n=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=n;var o="";n.forEach((function(e){o=o+'<div id="'+e+'" class="lg-item"></div>'})),this.$inner.append(o),this.addHtml(e);var r="";this.mediaContainerPosition=this.getMediaContainerPosition();var s=this.mediaContainerPosition,l=s.top,a=s.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(l,a);var c=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&t&&(this.currentImageSize=lt(t,this.outer,l+a,c&&this.settings.videoMaxSize),r=at(t,this.outer,l,a,this.currentImageSize)),this.zoomFromOrigin&&r||(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var d=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout((function(){i.outer.addClass("lg-components-open")}),d),this.index=e,this.LGel.trigger("lgBeforeOpen"),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=ot(window).scrollTop(),setTimeout((function(){if(i.zoomFromOrigin&&r){var t=i.getSlideItem(e);t.css("transform",r),setTimeout((function(){t.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")})),setTimeout((function(){t.css("transform","translate3d(0, 0, 0)")}),100)}setTimeout((function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")}),10),setTimeout((function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()}),i.settings.backdropDuration+50),i.zoomFromOrigin&&r||setTimeout((function(){i.outer.addClass("lg-visible")}),i.settings.backdropDuration),i.slide(e,!1,!1,!1),i.LGel.trigger("lgAfterOpen")})),document.body===this.settings.container&&ot("html").addClass("lg-on")}},e.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||t&&t.clientHeight||0,n=this.outer.find(".lg-thumb-outer").get();return{top:e,bottom:(n?n.clientHeight:0)+i}},e.prototype.setMediaContainerPosition=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.$content.css("top",e+"px").css("bottom",t+"px")},e.prototype.hideBars=function(){var e=this;setTimeout((function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",(function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout((function(){e.outer.addClass("lg-hide-items")}),e.settings.hideBarsDelay)})),e.outer.trigger("mousemove.lg"))}),this.settings.showBarsAfter)},e.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch(e){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},e.prototype.counter=function(){if(this.settings.counter){var e='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},e.prototype.addHtml=function(e){var t,i;if(this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!i)if(t){var n=t.substring(0,1);"."!==n&&"#"!==n||(t=this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?ot(this.items).eq(e).find(t).first().html():ot(t).first().html())}else t="";if(".lg-item"!==this.settings.appendSubHtmlTo)i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(t);else{var o=ot(this.getSlideItemId(e));i?o.load(i):o.append('<div class="lg-sub-html">'+t+"</div>")}null!=t&&(""===t?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger("lgAfterAppendSubHtml",{index:e})},e.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},e.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+"px;\n                margin-left: -"+e.width/2+"px;\n                margin-top: -"+e.height/2+"px;\n                height:"+e.height+"px":""},e.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+"px;\n                height:"+e.height+"px":""},e.prototype.getDummyImageContent=function(e,t,i){var n;if(this.settings.dynamic||(n=ot(this.items).eq(t)),n){var o;if(!(o=this.settings.exThumbImage?n.attr(this.settings.exThumbImage):n.find("img").first().attr("src")))return"";var r="<img "+i+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+o+'" />';return e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),r}return""},e.prototype.setImgMarkup=function(e,t,i){var n=this.galleryItems[i],o=n.alt,r=n.srcset,s=n.sizes,l=n.sources,a=o?'alt="'+o+'"':"",c='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(t,i,a):ct(i,e,a,r,s,l))+"</picture>";t.prepend(c)},e.prototype.onSlideObjectLoad=function(e,t,i,n){var o,r=e.find(".lg-object").first();(o=r.get())&&o.complete&&0!==o.naturalWidth||t?i():(r.on("load.lg error.lg",(function(){i&&i()})),r.on("error.lg",(function(){n&&n()})))},e.prototype.onLgObjectLoad=function(e,t,i,n,o,r){var s=this;this.onSlideObjectLoad(e,r,(function(){s.triggerSlideItemLoad(e,t,i,n,o)}),(function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+s.settings.strings.mediaLoadingFailed+"</span>")}))},e.prototype.triggerSlideItemLoad=function(e,t,i,n,o){var r=this,s=this.galleryItems[t],l=o&&"video"===this.getSlideType(s)&&!s.poster?n:0;setTimeout((function(){e.addClass("lg-complete lg-complete_"),r.LGel.trigger("lgSlideItemLoad",{index:t,delay:i||0,isFirstSlide:o})}),l)},e.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},e.prototype.addSlideVideoInfo=function(e){var t=this;e.forEach((function(e,i){e.__slideVideoInfo=function(e,t,i){if(!e)return t?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");var n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),o=e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),r=e.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return n?{youtube:n}:o?{vimeo:o}:r?{wistia:r}:void 0}(e.src,!!e.video,i),e.__slideVideoInfo&&t.settings.loadYouTubePoster&&!e.poster&&e.__slideVideoInfo.youtube&&(e.poster="//img.youtube.com/vi/"+e.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")}))},e.prototype.loadContent=function(e,t){var i=this,n=this.galleryItems[e],o=ot(this.getSlideItemId(e)),r=n.poster,s=n.srcset,l=n.sizes,a=n.sources,c=n.src,d=n.video,u=d&&"string"==typeof d?JSON.parse(d):d;if(n.responsive){var h=n.responsive.split(",");c=function(e){for(var t=[],i=[],n="",o=0;o<e.length;o++){var r=e[o].split(" ");""===r[0]&&r.splice(0,1),i.push(r[0]),t.push(r[1])}for(var s=window.innerWidth,l=0;l<t.length;l++)if(parseInt(t[l],10)>s){n=i[l];break}return n}(h)||c}var g=n.__slideVideoInfo,m="",p=!!n.iframe,f=!this.lGalleryOn,v=0;if(f&&(v=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),!o.hasClass("lg-loaded")){if(g){var b=this.mediaContainerPosition,y=b.top,w=b.bottom,_=lt(this.items[e],this.outer,y+w,g&&this.settings.videoMaxSize);m=this.getVideoContStyle(_)}if(p){var E=function(e,t,i,n,o,r){return'<div class="lg-video-cont lg-has-iframe" style="width:'+e+"; max-width:"+i+"; height: "+t+"; max-height:"+n+'">\n                    <iframe class="lg-object" frameborder="0" '+(r?'title="'+r+'"':"")+' src="'+o+'"  allowfullscreen="true"></iframe>\n                </div>'}(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,c,n.iframeTitle);o.prepend(E)}else if(r){var x="";f&&this.zoomFromOrigin&&this.currentImageSize&&(x=this.getDummyImageContent(o,e,"")),E=function(e,t,i,n,o){return'<div class="lg-video-cont '+(o&&o.youtube?"lg-has-youtube":o&&o.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+i+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+n+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+n+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(t||"")+'\n            <img class="lg-object lg-video-poster" src="'+e+'" />\n        </div>'}(r,x||"",m,this.settings.strings.playVideo,g),o.prepend(E)}else if(g)E='<div class="lg-video-cont " style="'+m+'"></div>',o.prepend(E);else if(this.setImgMarkup(c,o,e),s||a){var S=o.find(".lg-object");this.initPictureFill(S)}(r||g)&&this.LGel.trigger("lgHasVideo",{index:e,src:c,html5Video:u,hasPoster:!!r}),this.LGel.trigger("lgAfterAppendSlide",{index:e}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(e)}var C=0;v&&!ot(document.body).hasClass("lg-from-hash")&&(C=v),this.isFirstSlideWithZoomAnimation()&&(setTimeout((function(){o.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")}),this.settings.startAnimationDuration+100),o.hasClass("lg-loaded")||setTimeout((function(){if("image"===i.getSlideType(n)){var t=n.alt,d=t?'alt="'+t+'"':"";if(o.find(".lg-img-wrap").append(ct(e,c,d,s,l,n.sources)),s||a){var u=o.find(".lg-object");i.initPictureFill(u)}}("image"===i.getSlideType(n)||"video"===i.getSlideType(n)&&r)&&(i.onLgObjectLoad(o,e,v,C,!0,!1),i.onSlideObjectLoad(o,!(!g||!g.html5||r),(function(){i.loadContentOnFirstSlideLoad(e,o,C)}),(function(){i.loadContentOnFirstSlideLoad(e,o,C)})))}),this.settings.startAnimationDuration+100)),o.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(n)||r)||this.onLgObjectLoad(o,e,v,C,f,!(!g||!g.html5||r)),this.zoomFromOrigin&&this.currentImageSize||!o.hasClass("lg-complete_")||this.lGalleryOn||setTimeout((function(){o.addClass("lg-complete")}),this.settings.backdropDuration),this.lGalleryOn=!0,!0===t&&(o.hasClass("lg-complete_")?this.preload(e):o.find(".lg-object").first().on("load.lg error.lg",(function(){i.preload(e)})))},e.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var n=this;setTimeout((function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),n.outer.removeClass("lg-first-slide-loading"),n.isDummyImageRemoved=!0,n.preload(e)}),i+300)},e.prototype.getItemsToBeInsertedToDom=function(e,t,i){var n=this;void 0===i&&(i=0);var o=[],r=Math.max(i,3);r=Math.min(r,this.galleryItems.length);var s="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)return this.galleryItems.forEach((function(e,t){o.push("lg-item-"+n.lgId+"-"+t)})),o;if(e<(this.galleryItems.length-1)/2){for(var l=e;l>e-r/2&&l>=0;l--)o.push("lg-item-"+this.lgId+"-"+l);var a=o.length;for(l=0;l<r-a;l++)o.push("lg-item-"+this.lgId+"-"+(e+l+1))}else{for(l=e;l<=this.galleryItems.length-1&&l<e+r/2;l++)o.push("lg-item-"+this.lgId+"-"+l);for(a=o.length,l=0;l<r-a;l++)o.push("lg-item-"+this.lgId+"-"+(e-l-1))}return this.settings.loop&&(e===this.galleryItems.length-1?o.push("lg-item-"+this.lgId+"-0"):0===e&&o.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===o.indexOf(s)&&o.push("lg-item-"+this.lgId+"-"+t),o},e.prototype.organizeSlideItems=function(e,t){var i=this,n=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return n.forEach((function(e){-1===i.currentItemsInDom.indexOf(e)&&i.$inner.append('<div id="'+e+'" class="lg-item"></div>')})),this.currentItemsInDom.forEach((function(e){-1===n.indexOf(e)&&ot("#"+e).remove()})),n},e.prototype.getPreviousSlideIndex=function(){var e=0;try{var t=this.outer.find(".lg-current").first().attr("id");e=parseInt(t.split("-")[3])||0}catch(t){e=0}return e},e.prototype.setDownloadValue=function(e){if(this.settings.download){var t=this.galleryItems[e];if(!1===t.downloadUrl||"false"===t.downloadUrl)this.outer.addClass("lg-hide-download");else{var i=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),i.attr("href",t.downloadUrl||t.src),t.download&&i.attr("download",t.download)}}},e.prototype.makeSlideAnimation=function(e,t,i){var n=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout((function(){n.outer.addClass("lg-no-trans"),n.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout((function(){n.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),n.outer.removeClass("lg-no-trans")}),50)}),this.lGalleryOn?this.settings.slideDelay:0)},e.prototype.slide=function(e,t,i,n){var o=this,r=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,r),!this.lGalleryOn||r!==e){var s=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var l=this.getSlideItem(e),a=this.getSlideItem(r),c=this.galleryItems[e],d=c.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(c)),this.setDownloadValue(e),d){var u=this.mediaContainerPosition,h=u.top,g=u.bottom,m=lt(this.items[e],this.outer,h+g,d&&this.settings.videoMaxSize);this.resizeVideoSlide(e,m)}if(this.LGel.trigger("lgBeforeSlide",{prevIndex:r,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),n||(e<r?n="prev":e>r&&(n="next")),t){this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var p=void 0,f=void 0;s>2?(p=e-1,f=e+1,(0===e&&r===s-1||e===s-1&&0===r)&&(f=0,p=s-1)):(p=0,f=1),"prev"===n?this.getSlideItem(f).addClass("lg-next-slide"):this.getSlideItem(p).addClass("lg-prev-slide"),l.addClass("lg-current")}else this.makeSlideAnimation(n,l,a);this.lGalleryOn?setTimeout((function(){o.loadContent(e,!0),".lg-item"!==o.settings.appendSubHtmlTo&&o.addHtml(e)}),this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout((function(){o.lgBusy=!1,a.removeClass("lg-slide-progress"),o.LGel.trigger("lgAfterSlide",{prevIndex:r,index:e,fromTouch:t,fromThumb:i})}),(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))}this.index=e}},e.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},e.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},e.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},e.prototype.touchMove=function(e,t,i){var n=t.pageX-e.pageX,o=t.pageY-e.pageY,r=!1;if(this.swipeDirection?r=!0:Math.abs(n)>15?(this.swipeDirection="horizontal",r=!0):Math.abs(o)>15&&(this.swipeDirection="vertical",r=!0),r){var s=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==i||i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(s,n,0);var l=s.get().offsetWidth,a=15*l/100-Math.abs(10*n/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-l+n-a,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),l+n+a,0)}else if("vertical"===this.swipeDirection&&this.settings.swipeToClose){null==i||i.preventDefault(),this.$container.addClass("lg-dragging-vertical");var c=1-Math.abs(o)/window.innerHeight;this.$backdrop.css("opacity",c);var d=1-Math.abs(o)/(2*window.innerWidth);this.setTranslate(s,0,o,d,d),Math.abs(o)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},e.prototype.touchEnd=function(e,t,i){var n,o=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout((function(){o.$container.removeClass("lg-dragging-vertical"),o.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var r=!0;if("horizontal"===o.swipeDirection){n=e.pageX-t.pageX;var s=Math.abs(e.pageX-t.pageX);n<0&&s>o.settings.swipeThreshold?(o.goToNextSlide(!0),r=!1):n>0&&s>o.settings.swipeThreshold&&(o.goToPrevSlide(!0),r=!1)}else if("vertical"===o.swipeDirection){if(n=Math.abs(e.pageY-t.pageY),o.settings.closable&&o.settings.swipeToClose&&n>100)return void o.closeGallery();o.$backdrop.css("opacity",1)}if(o.outer.find(".lg-item").removeAttr("style"),r&&Math.abs(e.pageX-t.pageX)<5){var l=ot(i.target);o.isPosterElement(l)&&o.LGel.trigger(Qe)}o.swipeDirection=void 0})),setTimeout((function(){o.outer.hasClass("lg-dragging")||"lg-slide"===o.settings.mode||o.outer.removeClass("lg-slide")}),this.settings.speed+100)},e.prototype.enableSwipe=function(){var e=this,t={},i={},n=!1,o=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",(function(i){e.dragOrSwipeEnabled=!0;var n=e.getSlideItem(e.index);!ot(i.target).hasClass("lg-item")&&!n.get().contains(i.target)||e.outer.hasClass("lg-zoomed")||e.lgBusy||1!==i.touches.length||(o=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY})})),this.$inner.on("touchmove.lg",(function(r){o&&"swipe"===e.touchAction&&1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e.touchMove(t,i,r),n=!0)})),this.$inner.on("touchend.lg",(function(r){if("swipe"===e.touchAction){if(n)n=!1,e.touchEnd(i,t,r);else if(o){var s=ot(r.target);e.isPosterElement(s)&&e.LGel.trigger(Qe)}e.touchAction=void 0,o=!1}})))},e.prototype.enableDrag=function(){var e=this,t={},i={},n=!1,o=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",(function(i){e.dragOrSwipeEnabled=!0;var o=e.getSlideItem(e.index);(ot(i.target).hasClass("lg-item")||o.get().contains(i.target))&&(e.outer.hasClass("lg-zoomed")||e.lgBusy||(i.preventDefault(),e.lgBusy||(e.manageSwipeClass(),t={pageX:i.pageX,pageY:i.pageY},n=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger("lgDragStart"))))})),ot(window).on("mousemove.lg.global"+this.lgId,(function(r){n&&e.lgOpened&&(o=!0,i={pageX:r.pageX,pageY:r.pageY},e.touchMove(t,i),e.LGel.trigger("lgDragMove"))})),ot(window).on("mouseup.lg.global"+this.lgId,(function(r){if(e.lgOpened){var s=ot(r.target);o?(o=!1,e.touchEnd(i,t,r),e.LGel.trigger("lgDragEnd")):e.isPosterElement(s)&&e.LGel.trigger(Qe),n&&(n=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}})))},e.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",(function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(ot(t.target))&&e.LGel.trigger(Qe)}))},e.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(0===this.index?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},e.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(et,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(et,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout((function(){t.outer.removeClass("lg-right-end")}),400)))},e.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(tt,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(tt,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout((function(){t.outer.removeClass("lg-left-end")}),400)))},e.prototype.keyPress=function(){var e=this;ot(window).on("keydown.lg.global"+this.lgId,(function(t){e.lgOpened&&!0===e.settings.escKey&&27===t.keyCode&&(t.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(37===t.keyCode&&(t.preventDefault(),e.goToPrevSlide()),39===t.keyCode&&(t.preventDefault(),e.goToNextSlide()))}))},e.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",(function(){e.goToPrevSlide()})),this.getElementById("lg-next").on("click.lg",(function(){e.goToNextSlide()}))},e.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var t=this.getElementById("lg-prev"),i=this.getElementById("lg-next");e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),0===e?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}},e.prototype.setTranslate=function(e,t,i,n,o){void 0===n&&(n=1),void 0===o&&(o=1),e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+n+", "+o+", 1)")},e.prototype.mousewheel=function(){var e=this,t=0;this.outer.on("wheel.lg",(function(i){if(i.deltaY&&!(e.galleryItems.length<2)){i.preventDefault();var n=(new Date).getTime();n-t<1e3||(t=n,i.deltaY>0?e.goToNextSlide():i.deltaY<0&&e.goToPrevSlide())}}))},e.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")},e.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},e.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",(function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()}))},e.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=ot(this.items[e]);t.off("click.lgcustom-item-"+t.attr("data-lg-id"))}},e.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),ot(window).on("keydown.lg.global"+this.lgId,(function(t){if(e.lgOpened&&("Tab"===t.key||9===t.keyCode)){var i=(r=e.$container.get(),s=r.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),[].filter.call(s,(function(e){var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility}))),n=i[0],o=i[i.length-1];t.shiftKey?document.activeElement===n&&(o.focus(),t.preventDefault()):document.activeElement===o&&(n.focus(),t.preventDefault())}var r,s}))},e.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var t=!1;this.getElementById("lg-close").on("click.lg",(function(){e.closeGallery()})),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",(function(i){var n=ot(i.target);t=!!e.isSlideElement(n)})),this.outer.on("mousemove.lg",(function(){t=!1})),this.outer.on("mouseup.lg",(function(i){var n=ot(i.target);e.isSlideElement(n)&&t&&(e.outer.hasClass("lg-dragging")||e.closeGallery())})))}},e.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger("lgBeforeClose"),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&ot(window).scrollTop(this.prevScrollTop);var i,n=this.items[this.index];if(this.zoomFromOrigin&&n){var o=this.mediaContainerPosition,r=o.top,s=o.bottom,l=this.galleryItems[this.index],a=l.__slideVideoInfo,c=l.poster,d=lt(n,this.outer,r+s,a&&c&&this.settings.videoMaxSize);i=at(n,this.outer,r,s,d)}this.zoomFromOrigin&&i?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",i)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,ot("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var u=this.zoomFromOrigin&&i?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout((function(){t.zoomFromOrigin&&i&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger("lgAfterClose",{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1}),u+100),u+100},e.prototype.initModules=function(){this.plugins.forEach((function(e){try{e.init()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}}))},e.prototype.destroyModules=function(e){this.plugins.forEach((function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}}))},e.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),this.galleryItems=e||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(Je)},e.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},e.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),ot(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},e.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},e}();const ht=function(t){var i=t.children,n=t.elementClassNames,o=t.onAfterAppendSlide,r=t.onInit,s=t.onHasVideo,l=t.onContainerResize,a=t.onAfterAppendSubHtml,c=t.onBeforeOpen,d=t.onAfterOpen,u=t.onSlideItemLoad,h=t.onBeforeSlide,g=t.onAfterSlide,m=t.onPosterClick,p=t.onDragStart,f=t.onDragMove,v=t.onDragEnd,b=t.onBeforeNextSlide,y=t.onBeforePrevSlide,w=t.onBeforeClose,_=t.onAfterClose,E=t.onRotateLeft,x=t.onRotateRight,S=t.onFlipHorizontal,C=t.onFlipVertical,I=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(t,["children","elementClassNames","onAfterAppendSlide","onInit","onHasVideo","onContainerResize","onAfterAppendSubHtml","onBeforeOpen","onAfterOpen","onSlideItemLoad","onBeforeSlide","onAfterSlide","onPosterClick","onDragStart","onDragMove","onDragEnd","onBeforeNextSlide","onBeforePrevSlide","onBeforeClose","onAfterClose","onRotateLeft","onRotateRight","onFlipHorizontal","onFlipVertical"]),T=(0,e.useRef)(null),D=(0,e.useCallback)((function(){o&&T&&T.current&&T.current.addEventListener("lgAfterAppendSlide",(function(e){o(e.detail)})),r&&T&&T.current&&T.current.addEventListener("lgInit",(function(e){r(e.detail)})),s&&T&&T.current&&T.current.addEventListener("lgHasVideo",(function(e){s(e.detail)})),l&&T&&T.current&&T.current.addEventListener("lgContainerResize",(function(e){l(e.detail)})),a&&T&&T.current&&T.current.addEventListener("lgAfterAppendSubHtml",(function(e){a(e.detail)})),c&&T&&T.current&&T.current.addEventListener("lgBeforeOpen",(function(e){c(e.detail)})),d&&T&&T.current&&T.current.addEventListener("lgAfterOpen",(function(e){d(e.detail)})),u&&T&&T.current&&T.current.addEventListener("lgSlideItemLoad",(function(e){u(e.detail)})),h&&T&&T.current&&T.current.addEventListener("lgBeforeSlide",(function(e){h(e.detail)})),g&&T&&T.current&&T.current.addEventListener("lgAfterSlide",(function(e){g(e.detail)})),m&&T&&T.current&&T.current.addEventListener("lgPosterClick",(function(e){m(e.detail)})),p&&T&&T.current&&T.current.addEventListener("lgDragStart",(function(e){p(e.detail)})),f&&T&&T.current&&T.current.addEventListener("lgDragMove",(function(e){f(e.detail)})),v&&T&&T.current&&T.current.addEventListener("lgDragEnd",(function(e){v(e.detail)})),b&&T&&T.current&&T.current.addEventListener("lgBeforeNextSlide",(function(e){b(e.detail)})),y&&T&&T.current&&T.current.addEventListener("lgBeforePrevSlide",(function(e){y(e.detail)})),w&&T&&T.current&&T.current.addEventListener("lgBeforeClose",(function(e){w(e.detail)})),_&&T&&T.current&&T.current.addEventListener("lgAfterClose",(function(e){_(e.detail)})),E&&T&&T.current&&T.current.addEventListener("lgRotateLeft",(function(e){E(e.detail)})),x&&T&&T.current&&T.current.addEventListener("lgRotateRight",(function(e){x(e.detail)})),S&&T&&T.current&&T.current.addEventListener("lgFlipHorizontal",(function(e){S(e.detail)})),C&&T&&T.current&&T.current.addEventListener("lgFlipVertical",(function(e){C(e.detail)}))}),[o,a,_,E,x,S,C,d,g,w,b,c,y,h,l,v,f,p,s,r,m,u]);return(0,e.useEffect)((function(){D();var e,t=(e=T.current,new ut(e,I));return function(){t.destroy()}}),[D,I]),(0,e.createElement)("div",{className:"lg-react-element "+(n||""),ref:T},i)};var gt=function(){return gt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gt.apply(this,arguments)},mt={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},pt=function(){function e(e,t){return this.core=e,this.$LG=t,this.settings=gt(gt({},mt),this.core.settings),this}return e.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},e.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout((function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index&&t.setZoomEssentials())}),i+30)},e.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on("lgSlideItemLoad.zoom",this.enableZoom.bind(this))},e.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},e.prototype.getSwipeCords=function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},e.prototype.getDragAllowedAxises=function(e,t){var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),n=0,o=0,r=i.getBoundingClientRect();e?(n=i.offsetHeight*e,o=i.offsetWidth*e):t?(n=r.height+t*r.height,o=r.width+t*r.width):(n=r.height,o=r.width);var s=n>this.containerRect.height;return{allowX:o>this.containerRect.width,allowY:s}},e.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},e.prototype.zoomImage=function(e,t,i,n){if(!(Math.abs(t)<=0)){var o,r,s=this.containerRect.width/2+this.containerRect.left,l=this.containerRect.height/2+this.containerRect.top+this.scrollTop;1===e&&(this.positionChanged=!1);var a=this.getDragAllowedAxises(0,t),c=a.allowY,d=a.allowX;this.positionChanged&&(o=this.left/(this.scale-t),r=this.top/(this.scale-t),this.pageX=s-o,this.pageY=l-r,this.positionChanged=!1);var u,h,g=this.getPossibleSwipeDragCords(t),_x=s-this.pageX,m=l-this.pageY;if(e-t>1){var p=(e-t)/Math.abs(t);u=(_x=(t<0?-_x:_x)+this.left*(p+(t<0?-1:1)))/p,h=(m=(t<0?-m:m)+this.top*(p+(t<0?-1:1)))/p}else u=_x*(p=(e-t)*t),h=m*p;i&&(d?this.isBeyondPossibleLeft(u,g.minX)?u=g.minX:this.isBeyondPossibleRight(u,g.maxX)&&(u=g.maxX):e>1&&(u<g.minX?u=g.minX:u>g.maxX&&(u=g.maxX)),c?this.isBeyondPossibleTop(h,g.minY)?h=g.minY:this.isBeyondPossibleBottom(h,g.maxY)&&(h=g.maxY):e>1&&(h<g.minY?h=g.minY:h>g.maxY&&(h=g.maxY))),this.setZoomStyles({x:u,y:h,scale:e}),this.left=u,this.top=h,n&&this.setZoomImageSize()}},e.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var t=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout((function(){t.removeClass("no-transition")}),10)}},e.prototype.setZoomImageSize=function(){var e=this,t=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout((function(){var i=e.getCurrentImageActualSizeScale();e.scale>=i&&(t.addClass("no-transition"),e.imageReset=!0)}),500),setTimeout((function(){var i=e.getCurrentImageActualSizeScale();if(e.scale>=i){var n=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),n.allowX&&n.allowY?t.addClass("reset-transition"):n.allowX&&!n.allowY?t.addClass("reset-transition-x"):!n.allowX&&n.allowY&&t.addClass("reset-transition-y")}}),550)},e.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),n=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),n.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var o="translate3d("+e.x+"px, "+e.y+"px, 0)";t.css("transform",o)},e.prototype.setActualSize=function(e,t){var i=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var n=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout((function(){if(n.src&&!i.core.outer.hasClass("lg-first-slide-loading")){var e=i.getCurrentImageActualSizeScale(),o=i.scale;i.core.outer.hasClass("lg-zoomed")?i.scale=1:i.scale=i.getScale(e),i.setPageCords(t),i.beginZoom(i.scale),i.zoomImage(i.scale,i.scale-o,!0,!0)}}),50),setTimeout((function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")}),60),setTimeout((function(){i.zoomInProgress=!1}),610)}},e.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):t.get().naturalWidth},e.prototype.getActualSizeScale=function(e,t){return e>=t?e/t||2:1},e.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first().get().offsetWidth,t=this.getNaturalWidth(this.core.index)||e;return this.getActualSizeScale(t,e)},e.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var i=this.core.$content.get().getBoundingClientRect();t.x=i.width/2+i.left,t.y=i.height/2+this.scrollTop+i.top}return t},e.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},e.prototype.manageActualPixelClassNames=function(){this.core.getElementById("lg-actual-size").removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},e.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},e.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},e.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",(function(t){e.$LG(t.target).hasClass("lg-image")&&e.setActualSize(e.core.index,t)})),this.core.outer.on("touchstart.lg",(function(i){var n=e.$LG(i.target);1===i.touches.length&&n.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,i.preventDefault(),e.setActualSize(e.core.index,i)):t=setTimeout((function(){t=null}),300))})),this.core.LGel.on("lgContainerResize.zoom lgRotateRight.zoom lgRotateLeft.zoom lgFlipHorizontal.zoom lgFlipVertical.zoom",(function(){if(e.core.lgOpened&&e.isImageSlide(e.core.index)&&!e.core.touchAction){var t=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(t,{x:0,y:0}),e.positionChanged=!0}})),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,(function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())})),this.core.getElementById("lg-zoom-out").on("click.lg",(function(){if(e.isImageSlide(e.core.index)){var t=0;e.imageReset&&(e.resetImageTranslate(e.core.index),t=50),setTimeout((function(){var t=e.scale-e.settings.scale;t<1&&(t=1),e.beginZoom(t),e.zoomImage(t,-e.settings.scale,!0,!e.settings.infiniteZoom)}),t)}})),this.core.getElementById("lg-zoom-in").on("click.lg",(function(){e.zoomIn()})),this.core.getElementById("lg-actual-size").on("click.lg",(function(){e.setActualSize(e.core.index)})),this.core.LGel.on("lgBeforeOpen.zoom",(function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")})),this.core.LGel.on("lgAfterOpen.zoom",(function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1})),this.core.LGel.on("lgAfterSlide.zoom",(function(t){var i=t.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(i),e.resetImageTranslate(i),e.isImageSlide(e.core.index)&&e.setZoomEssentials()})),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},e.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},e.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(void 0!==e?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style"),i.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},e.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},e.prototype.pinchZoom=function(){var e=this,t=0,i=!1,n=1,o=0,r=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",(function(i){if(r=e.core.getSlideItem(e.core.index),e.isImageSlide(e.core.index)&&2===i.touches.length){if(i.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;n=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(i),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",t=e.getTouchDistance(i)}})),this.core.$inner.on("touchmove.lg",(function(s){if(2===s.touches.length&&"pinch"===e.core.touchAction&&(e.$LG(s.target).hasClass("lg-item")||r.get().contains(s.target))){s.preventDefault();var l=e.getTouchDistance(s),a=t-l;if(!i&&Math.abs(a)>5&&(i=!0),i){o=e.scale;var c=Math.max(1,n+.02*-a);e.scale=Math.round(100*(c+Number.EPSILON))/100;var d=e.scale-o;e.zoomImage(e.scale,Math.round(100*(d+Number.EPSILON))/100,!1,!1)}}})),this.core.$inner.on("touchend.lg",(function(n){if("pinch"===e.core.touchAction&&(e.$LG(n.target).hasClass("lg-item")||r.get().contains(n.target))){if(i=!1,t=0,e.scale<=1)e.resetZoom();else{var o=e.getCurrentImageActualSizeScale();if(e.scale>=o){var s=o-e.scale;0===s&&(s=.01),e.zoomImage(o,s,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}}))},e.prototype.touchendZoom=function(e,t,i,n,o){var r=t.x-e.x,s=t.y-e.y,l=Math.abs(r)/o+1,a=Math.abs(s)/o+1;l>2&&(l+=1),a>2&&(a+=1),r*=l,s*=a;var c=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),d={};d.x=this.left+r,d.y=this.top+s;var u=this.getPossibleSwipeDragCords();(Math.abs(r)>15||Math.abs(s)>15)&&(n&&(this.isBeyondPossibleTop(d.y,u.minY)?d.y=u.minY:this.isBeyondPossibleBottom(d.y,u.maxY)&&(d.y=u.maxY)),i&&(this.isBeyondPossibleLeft(d.x,u.minX)?d.x=u.minX:this.isBeyondPossibleRight(d.x,u.maxX)&&(d.x=u.maxX)),n?this.top=d.y:d.y=this.top,i?this.left=d.x:d.x=this.left,this.setZoomSwipeStyles(c,d),this.positionChanged=!0)},e.prototype.getZoomSwipeCords=function(e,t,i,n,o){var r={};if(n){if(r.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(r.y,o.minY)){var s=o.minY-r.y;r.y=o.minY-s/6}else if(this.isBeyondPossibleBottom(r.y,o.maxY)){var l=r.y-o.maxY;r.y=o.maxY+l/6}}else r.y=this.top;if(i){if(r.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(r.x,o.minX)){var a=o.minX-r.x;r.x=o.minX-a/6}else if(this.isBeyondPossibleRight(r.x,o.maxX)){var c=r.x-o.maxX;r.x=o.maxX+c/6}}else r.x=this.left;return r},e.prototype.isBeyondPossibleLeft=function(e,t){return e>=t},e.prototype.isBeyondPossibleRight=function(e,t){return e<=t},e.prototype.isBeyondPossibleTop=function(e,t){return e>=t},e.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},e.prototype.isImageSlide=function(e){var t=this.core.galleryItems[e];return"image"===this.core.getSlideType(t)},e.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,n=t.get().getBoundingClientRect(),o=n.height,r=n.width;return e&&(o+=e*o,r+=e*r),{minY:(o-this.containerRect.height)/2,maxY:(this.containerRect.height-o)/2+i,minX:(r-this.containerRect.width)/2,maxX:(this.containerRect.width-r)/2}},e.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},e.prototype.zoomSwipe=function(){var e,t,i=this,n={},o={},r=!1,s=!1,l=!1,a=new Date,c=(new Date,this.core.getSlideItem(this.core.index));this.core.$inner.on("touchstart.lg",(function(o){if(i.isImageSlide(i.core.index)&&(c=i.core.getSlideItem(i.core.index),(i.$LG(o.target).hasClass("lg-item")||c.get().contains(o.target))&&1===o.touches.length&&i.core.outer.hasClass("lg-zoomed"))){o.preventDefault(),a=new Date,i.core.touchAction="zoomSwipe",t=i.core.getSlideItem(i.core.index).find(".lg-img-wrap").first();var r=i.getDragAllowedAxises(0);l=r.allowY,((s=r.allowX)||l)&&(n=i.getSwipeCords(o)),e=i.getPossibleSwipeDragCords(),i.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}})),this.core.$inner.on("touchmove.lg",(function(a){if(1===a.touches.length&&"zoomSwipe"===i.core.touchAction&&(i.$LG(a.target).hasClass("lg-item")||c.get().contains(a.target))){a.preventDefault(),i.core.touchAction="zoomSwipe",o=i.getSwipeCords(a);var d=i.getZoomSwipeCords(n,o,s,l,e);(Math.abs(o.x-n.x)>15||Math.abs(o.y-n.y)>15)&&(r=!0,i.setZoomSwipeStyles(t,d))}})),this.core.$inner.on("touchend.lg",(function(e){if("zoomSwipe"===i.core.touchAction&&(i.$LG(e.target).hasClass("lg-item")||c.get().contains(e.target))){if(e.preventDefault(),i.core.touchAction=void 0,i.core.outer.removeClass("lg-zoom-dragging"),!r)return;r=!1;var t=(new Date).valueOf()-a.valueOf();i.touchendZoom(n,o,s,l,t)}}))},e.prototype.zoomDrag=function(){var e,t,i,n,o=this,r={},s={},l=!1,a=!1,c=!1,d=!1;this.core.outer.on("mousedown.lg.zoom",(function(t){if(o.isImageSlide(o.core.index)){var s=o.core.getSlideItem(o.core.index);if(o.$LG(t.target).hasClass("lg-item")||s.get().contains(t.target)){e=new Date,n=o.core.getSlideItem(o.core.index).find(".lg-img-wrap").first();var a=o.getDragAllowedAxises(0);d=a.allowY,c=a.allowX,o.core.outer.hasClass("lg-zoomed")&&o.$LG(t.target).hasClass("lg-object")&&(c||d)&&(t.preventDefault(),r=o.getDragCords(t),i=o.getPossibleSwipeDragCords(),l=!0,o.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}})),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,(function(e){if(l){a=!0,s=o.getDragCords(e);var t=o.getZoomSwipeCords(r,s,c,d,i);o.setZoomSwipeStyles(n,t)}})),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,(function(i){if(l){if(t=new Date,l=!1,o.core.outer.removeClass("lg-zoom-dragging"),a&&(r.x!==s.x||r.y!==s.y)){s=o.getDragCords(i);var n=t.valueOf()-e.valueOf();o.touchendZoom(r,s,c,d,n)}a=!1}o.core.outer.removeClass("lg-grabbing").addClass("lg-grab")}))},e.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},e.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},e}();const ft=pt;var vt=function(){return vt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vt.apply(this,arguments)},bt={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},yt=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},wt=function(){function e(e){return this.core=e,this.settings=vt(vt({},bt),this.core.settings),this}return e.prototype.init=function(){var e=this;this.core.LGel.on("lgHasVideo.video",this.onHasVideo.bind(this)),this.core.LGel.on("lgPosterClick.video",(function(){var t=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(t)})),this.core.LGel.on("lgSlideItemLoad.video",this.onSlideItemLoad.bind(this)),this.core.LGel.on("lgBeforeSlide.video",this.onBeforeSlide.bind(this)),this.core.LGel.on("lgAfterSlide.video",this.onAfterSlide.bind(this))},e.prototype.onSlideItemLoad=function(e){var t=this,i=e.detail,n=i.isFirstSlide,o=i.index;this.settings.autoplayFirstVideo&&n&&o===this.core.index&&setTimeout((function(){t.loadAndPlayVideo(o)}),200),!n&&this.settings.autoplayVideoOnSlide&&o===this.core.index&&this.loadAndPlayVideo(o)},e.prototype.onHasVideo=function(e){var t=e.detail,i=t.index,n=t.src,o=t.html5Video;t.hasPoster||(this.appendVideos(this.core.getSlideItem(i),{src:n,addClass:"lg-object",index:i,html5Video:o}),this.gotoNextSlideOnVideoEnd(n,i))},e.prototype.onBeforeSlide=function(e){if(this.core.lGalleryOn){var t=e.detail.prevIndex;this.pauseVideo(t)}},e.prototype.onAfterSlide=function(e){var t=this,i=e.detail,n=i.index,o=i.prevIndex,r=this.core.getSlideItem(n);this.settings.autoplayVideoOnSlide&&n!==o&&r.hasClass("lg-complete")&&setTimeout((function(){t.loadAndPlayVideo(n)}),100)},e.prototype.loadAndPlayVideo=function(e){var t=this.core.getSlideItem(e);this.core.galleryItems[e].poster?this.loadVideoOnPosterClick(t,!0):this.playVideo(e)},e.prototype.playVideo=function(e){this.controlVideo(e,"play")},e.prototype.pauseVideo=function(e){this.controlVideo(e,"pause")},e.prototype.getVideoHtml=function(e,t,i,n){var o="",r=this.core.galleryItems[i].__slideVideoInfo||{},s=this.core.galleryItems[i],l=s.title||s.alt;l=l?'title="'+l+'"':"";var a='allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';if(r.youtube){var c="lg-youtube"+i,d=function(e,t){if(!e.youtube)return"";var i,n=e.youtube[2]?(i=e.youtube[2].slice(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var i=t.map(decodeURIComponent),n=i[0],o=i[1];return e[n]=o,e}),{}),i):"",o=t||{},r=vt(vt(vt({},{wmode:"opaque",autoplay:0,mute:1,enablejsapi:1}),o),n);return"?"+yt(r)}(r,this.settings.youTubePlayerParams);o='<iframe allow="autoplay" id='+c+' class="lg-video-object lg-youtube '+t+'" '+l+' src="'+(e.includes("youtube-nocookie.com")?"//www.youtube-nocookie.com/":"//www.youtube.com/")+"embed/"+(r.youtube[1]+d)+'" '+a+"></iframe>"}else if(r.vimeo){c="lg-vimeo"+i;var u=function(e,t){if(!t||!t.vimeo)return"";var i=t.vimeo[2]||"",n=e&&0!==Object.keys(e).length?"&"+yt(e):"",o=((t.vimeo[0].split("/").pop()||"").split("?")[0]||"").split("#")[0],r=t.vimeo[1]!==o;return r&&(i=i.replace("/"+o,"")),"?autoplay=0&muted=1"+(r?"&h="+o:"")+n+("?"==i[0]?"&"+i.slice(1):i||"")}(this.settings.vimeoPlayerParams,r);o='<iframe allow="autoplay" id='+c+' class="lg-video-object lg-vimeo '+t+'" '+l+' src="//player.vimeo.com/video/'+(r.vimeo[1]+u)+'" '+a+"></iframe>"}else if(r.wistia){var h="lg-wistia"+i;u=(u=yt(this.settings.wistiaPlayerParams))?"?"+u:"",o='<iframe allow="autoplay" id="'+h+'" src="//fast.wistia.net/embed/iframe/'+(r.wistia[4]+u)+'" '+l+' class="wistia_embed lg-video-object lg-wistia '+t+'" name="wistia_embed" '+a+"></iframe>"}else if(r.html5){for(var g="",m=0;m<n.source.length;m++)g+='<source src="'+n.source[m].src+'" type="'+n.source[m].type+'">';if(n.tracks){var p=function(e){var t="",i=n.tracks[e];Object.keys(i||{}).forEach((function(e){t+=e+'="'+i[e]+'" '})),g+="<track "+t+">"};for(m=0;m<n.tracks.length;m++)p(m)}var f="",v=n.attributes||{};Object.keys(v||{}).forEach((function(e){f+=e+'="'+v[e]+'" '})),o='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+f+">\n                "+g+"\n                Your browser does not support HTML5 video.\n            </video>"}return o},e.prototype.appendVideos=function(e,t){var i,n=this.getVideoHtml(t.src,t.addClass,t.index,t.html5Video);e.find(".lg-video-cont").append(n);var o=e.find(".lg-video-object").first();if(t.html5Video&&o.on("mousedown.lg.video",(function(e){e.stopPropagation()})),this.settings.videojs&&(null===(i=this.core.galleryItems[t.index].__slideVideoInfo)||void 0===i?void 0:i.html5))try{return videojs(o.get(),this.settings.videojsOptions)}catch(e){console.error("lightGallery:- Make sure you have included videojs")}},e.prototype.gotoNextSlideOnVideoEnd=function(e,t){var i=this,n=this.core.getSlideItem(t).find(".lg-video-object").first(),o=this.core.galleryItems[t].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(o.html5)n.on("ended",(function(){i.core.goToNextSlide()}));else if(o.vimeo)try{new Vimeo.Player(n.get()).on("ended",(function(){i.core.goToNextSlide()}))}catch(e){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(o.wistia)try{window._wq=window._wq||[],window._wq.push({id:n.attr("id"),onReady:function(e){e.bind("end",(function(){i.core.goToNextSlide()}))}})}catch(e){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},e.prototype.controlVideo=function(e,t){var i=this.core.getSlideItem(e).find(".lg-video-object").first(),n=this.core.galleryItems[e].__slideVideoInfo||{};if(i.get())if(n.youtube)try{i.get().contentWindow.postMessage('{"event":"command","func":"'+t+'Video","args":""}',"*")}catch(e){console.error("lightGallery:- "+e)}else if(n.vimeo)try{new Vimeo.Player(i.get())[t]()}catch(e){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(n.html5)if(this.settings.videojs)try{videojs(i.get())[t]()}catch(e){console.error("lightGallery:- Make sure you have included videojs")}else i.get()[t]();else if(n.wistia)try{window._wq=window._wq||[],window._wq.push({id:i.attr("id"),onReady:function(e){e[t]()}})}catch(e){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},e.prototype.loadVideoOnPosterClick=function(e,t){var i=this;if(e.hasClass("lg-video-loaded"))t&&this.playVideo(this.core.index);else if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var n=void 0,o=this.core.galleryItems[this.core.index].src,r=this.core.galleryItems[this.core.index].video;r&&(n="string"==typeof r?JSON.parse(r):r);var s=this.appendVideos(e,{src:o,addClass:"",index:this.core.index,html5Video:n});this.gotoNextSlideOnVideoEnd(o,this.core.index);var l=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(l),e.addClass("lg-video-loading"),s&&s.ready((function(){s.on("loadedmetadata",(function(){i.onVideoLoadAfterPosterClick(e,i.core.index)}))})),e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",(function(){setTimeout((function(){i.onVideoLoadAfterPosterClick(e,i.core.index)}),50)}))}},e.prototype.onVideoLoadAfterPosterClick=function(e,t){e.addClass("lg-video-loaded"),this.playVideo(t)},e.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},e}();const _t=wt;var Et=function(){return Et=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Et.apply(this,arguments)},xt={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},St="lgBeforeSlide",Ct=function(){function e(e,t){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=e,this.$LG=t,this}return e.prototype.init=function(){this.settings=Et(Et({},xt),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},e.prototype.build=function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",(function(t){var i=e.$LG(t.target);i.hasAttribute("data-lg-item-id")&&setTimeout((function(){if(e.thumbClickable&&!e.core.lgBusy){var t=parseInt(i.attr("data-lg-item-id"));e.core.slide(t,!1,!0,!1)}}),50)})),this.core.LGel.on(St+".thumb",(function(t){var i=t.detail.index;e.animateThumb(i)})),this.core.LGel.on("lgBeforeOpen.thumb",(function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth})),this.core.LGel.on("lgUpdateSlides.thumb",(function(){e.rebuildThumbnails()})),this.core.LGel.on("lgContainerResize.thumb",(function(){e.core.lgOpened&&setTimeout((function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth,e.animateThumb(e.core.index),e.thumbOuterWidth=e.core.outer.get().offsetWidth}),50)}))},e.prototype.setThumbMarkup=function(){var e="lg-thumb-outer ";this.settings.alignThumbnails&&(e+="lg-thumb-align-"+this.settings.alignThumbnails);var t='<div class="'+e+'">\n        <div class="lg-thumb lg-group">\n        </div>\n        </div>';this.core.outer.addClass("lg-has-thumb"),".lg-components"===this.settings.appendThumbnailsTo?this.core.$lgComponents.append(t):this.core.outer.append(t),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},e.prototype.enableThumbDrag=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},i=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",(function(n){e.thumbTotalWidth>e.thumbOuterWidth&&(n.preventDefault(),t.cords.startX=n.pageX,t.startTime=new Date,e.thumbClickable=!1,i=!0,e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))})),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,(function(n){e.core.lgOpened&&i&&(t.cords.endX=n.pageX,t=e.onThumbTouchMove(t))})),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,(function(){e.core.lgOpened&&(t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0,i&&(i=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))}))},e.prototype.enableThumbSwipe=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",(function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.startX=i.targetTouches[0].pageX,e.thumbClickable=!1,t.startTime=new Date)})),this.$lgThumb.on("touchmove.lg",(function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.endX=i.targetTouches[0].pageX,t=e.onThumbTouchMove(t))})),this.$lgThumb.on("touchend.lg",(function(){t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0}))},e.prototype.rebuildThumbnails=function(){var e=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout((function(){e.thumbTotalWidth=e.core.galleryItems.length*(e.settings.thumbWidth+e.settings.thumbMargin),e.$lgThumb.css("width",e.thumbTotalWidth+"px"),e.$lgThumb.empty(),e.setThumbItemHtml(e.core.galleryItems),e.animateThumb(e.core.index)}),50),setTimeout((function(){e.$thumbOuter.removeClass("lg-rebuilding-thumbnails")}),200)},e.prototype.setTranslate=function(e){this.$lgThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")},e.prototype.getPossibleTransformX=function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e},e.prototype.animateThumb=function(e){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var t=0;switch(this.settings.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*e-1-t,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},e.prototype.onThumbTouchMove=function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=(new Date).valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),e},e.prototype.onThumbTouchEnd=function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var t=e.endTime.valueOf()-e.startTime.valueOf(),i=e.cords.endX-e.cords.startX,n=Math.abs(i)/t;return n>.15&&e.endTime.valueOf()-e.touchMoveTime<30?((n+=1)>2&&(n+=1),n+=n*(Math.abs(i)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(n-1,2)+"settings"),i*=n,this.translateX=this.getPossibleTransformX(this.translateX-i),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e},e.prototype.getThumbHtml=function(e,t,i){var n,o=this.core.galleryItems[t].__slideVideoInfo||{};n=o.youtube&&this.settings.loadYouTubeThumbnail?"//img.youtube.com/vi/"+o.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":e;var r=i?'alt="'+i+'"':"";return'<div data-lg-item-id="'+t+'" class="lg-thumb-item '+(t===this.core.index?" active":"")+'"\n        style="width:'+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+";\n            margin-right: "+this.settings.thumbMargin+'px;">\n            <img '+r+' data-lg-item-id="'+t+'" src="'+n+'" />\n        </div>'},e.prototype.getThumbItemHtml=function(e){for(var t="",i=0;i<e.length;i++)t+=this.getThumbHtml(e[i].thumb,i,e[i].alt);return t},e.prototype.setThumbItemHtml=function(e){var t=this.getThumbItemHtml(e);this.$lgThumb.html(t)},e.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},e.prototype.manageActiveClassOnSlideChange=function(){var e=this;this.core.LGel.on(St+".thumb",(function(t){var i=e.core.outer.find(".lg-thumb-item"),n=t.detail.index;i.removeClass("active"),i.eq(n).addClass("active")}))},e.prototype.toggleThumbBar=function(){var e=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",(function(){e.core.outer.toggleClass("lg-components-open")})))},e.prototype.thumbKeyPress=function(){var e=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,(function(t){e.core.lgOpened&&e.settings.toggleThumb&&(38===t.keyCode?(t.preventDefault(),e.core.outer.addClass("lg-components-open")):40===t.keyCode&&(t.preventDefault(),e.core.outer.removeClass("lg-components-open")))}))},e.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},e}();const It=Ct;function Tt(e){var t,i,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Tt(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const Dt=function(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=Tt(e))&&(n&&(n+=" "),n+=t);return n},Pt=window.ReactDOM;var Ot=(0,e.createContext)({}),Lt=()=>(0,e.useContext)(Ot),kt=t=>e.createElement(Ot.Provider,{...t}),Nt=function(){let e=new Map;return{on(t,i){return e.has(t)?e.get(t).add(i):e.set(t,new Set([i])),this},off(t,i){return e.has(t)&&e.get(t).delete(i),this},emit(t,i){return e.has(t)&&e.get(t).forEach((e=>{e(i)})),this}}}(),zt=()=>(0,e.useRef)(new Map).current,At=()=>{},Bt=["resize","contextmenu","click","scroll","blur"],Mt={show({event:e,id:t,props:i,position:n}){e.preventDefault&&e.preventDefault(),Nt.emit(0).emit(t,{event:e.nativeEvent||e,props:i,position:n})},hideAll(){Nt.emit(0)}};function Ft(e){return{show(t){Mt.show({...e,...t})},hideAll(){Mt.hideAll()}}}function Gt(e){return"function"==typeof e}function Rt(e){return"string"==typeof e}function $t(t,i){return e.Children.map(e.Children.toArray(t).filter(Boolean),(t=>(0,e.cloneElement)(t,i)))}function jt(e,t){return Gt(e)?e(t):e}function Ht(e,t){return{...e,...Gt(t)?t(e):t}}var Vt=({id:t,theme:i,style:n,className:o,children:r,animation:s="fade",preventDefaultOnKeydown:l=!0,disableBoundariesCheck:a=!1,onVisibilityChange:c,...d})=>{let[u,h]=(0,e.useReducer)(Ht,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),g=(0,e.useRef)(null),m=zt(),[p]=(0,e.useState)((()=>function(){let e,t,i,n,o=new Map,r=!1;function s(){n[e].node.focus()}function l(){return-1!==e||(a(),!1)}function a(){e+1<n.length?e++:e+1===n.length&&(e=0),r&&c(),s()}function c(){if(l()&&!i){let l=o.get(t);t.classList.remove("contexify_submenu-isOpen"),n=l.items,t=l.parentNode,l.isRoot&&(i=!0,o.clear()),r||(e=l.focusedIndex,s())}}return{init:function(t){n=Array.from(t.values()),e=-1,i=!0},moveDown:a,moveUp:function(){-1===e||0===e?e=n.length-1:e-1<n.length&&e--,r&&c(),s()},openSubmenu:function(){if(l()&&e>=0&&n[e].isSubmenu){let l=Array.from(n[e].submenuRefTracker.values()),{node:a,setSubmenuPosition:c}=n[e];return o.set(a,{isRoot:i,focusedIndex:e,parentNode:t||a,items:n}),c(),a.classList.add("contexify_submenu-isOpen"),t=a,l.length>0?(e=0,n=l):r=!0,i=!1,s(),!0}return!1},closeSubmenu:c,matchKeys:function(e){!function t(i){for(let n of i)n.isSubmenu&&n.submenuRefTracker&&t(Array.from(n.submenuRefTracker.values())),n.keyMatcher&&n.keyMatcher(e)}(n)}}}())),f=(0,e.useRef)(),v=(0,e.useRef)();function b(e,t){if(g.current&&!a){let{innerWidth:i,innerHeight:n}=window,{offsetWidth:o,offsetHeight:r}=g.current;e+o>i&&(e-=e+o-i),t+r>n&&(t-=t+r-n)}return{x:e,y:t}}function y({event:e,props:t,position:i}){e.stopPropagation();let n=i||function(e){let t={x:e.clientX,y:e.clientY},i=e.changedTouches;return i&&(t.x=i[0].clientX,t.y=i[0].clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(e),{x:o,y:r}=b(n.x,n.y);(0,Pt.flushSync)((()=>{h({visible:!0,willLeave:!1,x:o,y:r,triggerEvent:e,propsFromTrigger:t})})),clearTimeout(v.current),!f.current&&Gt(c)&&(c(!0),f.current=!0)}function w(e){null!=e&&(2===e.button||e.ctrlKey)&&"contextmenu"!==e.type||(s&&(Rt(s)||"exit"in s&&s.exit)?h((e=>({willLeave:e.visible}))):h((e=>({visible:!e.visible&&e.visible}))),v.current=setTimeout((()=>{Gt(c)&&c(!1),f.current=!1})))}(0,e.useEffect)((()=>(Nt.on(t,y).on(0,w),()=>{Nt.off(t,y).off(0,w)})),[t,s,a]),(0,e.useEffect)((()=>{u.visible?p.init(m):m.clear()}),[u.visible,p,m]),(0,e.useEffect)((()=>{u.visible&&h(b(u.x,u.y))}),[u.visible]),(0,e.useEffect)((()=>{function e(e){l&&e.preventDefault()}function t(t){switch(t.key){case"Enter":case" ":p.openSubmenu()||w();break;case"Escape":w();break;case"ArrowUp":e(t),p.moveUp();break;case"ArrowDown":e(t),p.moveDown();break;case"ArrowRight":e(t),p.openSubmenu();break;case"ArrowLeft":e(t),p.closeSubmenu();break;default:p.matchKeys(t)}}if(u.visible){window.addEventListener("keydown",t);for(let e of Bt)window.addEventListener(e,w)}return()=>{window.removeEventListener("keydown",t);for(let e of Bt)window.removeEventListener(e,w)}}),[u.visible,p,l]);let{visible:_,triggerEvent:E,propsFromTrigger:x,x:S,y:C,willLeave:I}=u,T=Dt("contexify",o,{[`contexify_theme-${i}`]:i},Rt(s)?Dt({[`contexify_willEnter-${s}`]:_&&!I,[`contexify_willLeave-${s} contexify_willLeave-'disabled'`]:_&&I}):s&&"enter"in s&&"exit"in s?Dt({[`contexify_willEnter-${s.enter}`]:s.enter&&_&&!I,[`contexify_willLeave-${s.exit} contexify_willLeave-'disabled'`]:s.exit&&_&&I}):null);return e.createElement(kt,{value:m},_&&e.createElement("div",{...d,className:T,onAnimationEnd:function(){u.willLeave&&u.visible&&(0,Pt.flushSync)((()=>h({visible:!1,willLeave:!1})))},style:{...n,left:S,top:C,opacity:1},ref:g,role:"menu"},$t(r,{propsFromTrigger:x,triggerEvent:E})))},Xt=({id:t,children:i,className:n,style:o,triggerEvent:r,data:s,propsFromTrigger:l,keyMatcher:a,onClick:c=At,disabled:d=!1,hidden:u=!1,closeOnClick:h=!0,handlerEvent:g="onClick",...m})=>{let p=(0,e.useRef)(),f=Lt(),v={id:t,data:s,triggerEvent:r,props:l},b=jt(d,v);function y(){let e=p.current;e.focus(),e.addEventListener("animationend",(()=>setTimeout(Mt.hideAll)),{once:!0}),e.classList.add("contexify_item-feedback"),c(v)}return jt(u,v)?null:e.createElement("div",{...m,[g]:function(e){v.event=e,e.stopPropagation(),b||(h?y():c(v))},className:Dt("contexify_item",n,{"contexify_item-disabled":b}),style:o,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),v.event=e,y())},ref:function(e){e&&!b&&(p.current=e,f.set(e,{node:e,isSubmenu:!1,keyMatcher:!b&&Gt(a)&&(e=>{a(e)&&(e.stopPropagation(),e.preventDefault(),v.event=e,y())})}))},tabIndex:-1,role:"menuitem","aria-disabled":b},e.createElement("div",{className:"contexify_itemContent"},i))},Wt=({triggerEvent:t,data:i,propsFromTrigger:n,hidden:o=!1})=>jt(o,{data:i,triggerEvent:t,props:n})?null:e.createElement("div",{className:"contexify_separator"}),Yt=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("polyline",{points:"9 18 15 12 9 6"})),Ut=({className:t,...i})=>e.createElement("div",{className:Dt("contexify_rightSlot",t),...i}),Zt=({arrow:t,children:i,disabled:n=!1,hidden:o=!1,label:r,className:s,triggerEvent:l,propsFromTrigger:a,style:c,...d})=>{let u=Lt(),h=zt(),g=(0,e.useRef)(null),m={triggerEvent:l,props:a},p=jt(n,m);function f(){let e=g.current;if(e){let t="contexify_submenu-bottom",i="contexify_submenu-right";e.classList.remove(t,i);let n=e.getBoundingClientRect();n.right>window.innerWidth&&e.classList.add(i),n.bottom>window.innerHeight&&e.classList.add(t)}}if(jt(o,m))return null;let v=Dt("contexify_item",s,{"contexify_item-disabled":p});return e.createElement(kt,{value:h},e.createElement("div",{...d,className:v,ref:function(e){e&&!p&&u.set(e,{node:e,isSubmenu:!0,submenuRefTracker:h,setSubmenuPosition:f})},tabIndex:-1,role:"menuitem","aria-haspopup":!0,"aria-disabled":p,onMouseEnter:f,onTouchStart:f},e.createElement("div",{className:"contexify_itemContent",onClick:e=>e.stopPropagation()},r,e.createElement(Ut,null,t||e.createElement(Yt,null))),e.createElement("div",{className:"contexify contexify_submenu",ref:g,style:c},$t(i,{propsFromTrigger:a,triggerEvent:l}))))};const qt=()=>{const{activeAccount:i}=EDBIData,n=(0,He.useSelect)((e=>e("dropbox-browser").getData("refresh"))),o=(0,He.useSelect)((e=>e("dropbox-browser").getData("current_path"))),r=(0,t.useRef)(null),s=(0,t.useRef)(null),[l,a]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(0),[g,m]=(0,t.useState)(0),[p,f]=(0,t.useState)(0);console.log({progressBar:p,uploadQueue:l}),(0,t.useEffect)((()=>{!c&&l.length>0&&v(l[u]),console.log({currentFileIndex:u,uploadedCount:g,uploadQueue:l})}),[l,c,u]),(0,t.useEffect)((()=>{h(0),m(0)}),[l]);const v=e=>{const t=new FormData;t.append("action","idbwp_upload"),t.append("nonce",EDBIData.ajaxNonce),t.append("path",o),t.append("account_id",i.id),t.append("file",e),jQuery.ajax({url:EDBIData.ajaxUrl,type:"POST",data:t,processData:!1,contentType:!1,success:function(e){console.log("Response:",e),m((e=>e+1)),a((e=>e.slice(1))),(0,He.dispatch)("dropbox-browser").setData("refresh",!n)},error:function(e){console.error("Error:",e)},complete:function(){d(!1)},xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;f(t)}}),!1),e}}),d(!0)},b=e=>{let t=e.target.files;0!==t.length&&(t=Array.from(t),a((e=>[...e,...t])),c||v(t[u]))};return(0,e.createElement)("div",{className:"edbi-file-browser__upload",onDragOver:e=>{e.preventDefault(),e.stopPropagation(),document.querySelector(".edbi-file-browser__upload__inner").style.border="2px dashed #ff0000"},onDragEnd:e=>{e.preventDefault(),e.stopPropagation(),document.querySelector(".edbi-file-browser__upload__inner").style.border="2px dashed #000000"},onDrop:e=>{e.preventDefault(),e.stopPropagation(),document.querySelector(".edbi-file-browser__upload__inner").style.border="2px dashed #000000";const t=Array.from(e.dataTransfer.files);a((e=>[...e,...t]))}},(0,e.createElement)("div",{className:"edbi-file-browser__upload__inner"},(0,e.createElement)("div",{className:"edbi-file-browser__upload__inner__header"},(0,e.createElement)("h3",null,"Uploader"),(0,e.createElement)("span",{onClick:()=>{(0,He.dispatch)("dropbox-browser").setData("showUploader",!1)}},(0,e.createElement)("i",{className:"dashicons dashicons-no"}))),(0,e.createElement)("div",{className:"edbi-file-browser__upload__inner__dropzone"},(0,e.createElement)("p",null,"Drag and drop files here"),(0,e.createElement)("p",null,"OR"),(0,e.createElement)("div",{className:"flex items-center justify-center gap-3"},(0,e.createElement)("button",{className:"px-6 ud-c-btn ud-c-btn--primary",onClick:()=>{r.current.click()}},"Select File"),(0,e.createElement)("button",{className:"px-6 ud-c-btn ud-c-btn--primary",onClick:()=>{s.current.click()}},"Select Folder")),(0,e.createElement)("input",{type:"file",ref:r,multiple:!0,onChange:b}),(0,e.createElement)("input",{type:"file",ref:s,directory:"",webkitdirectory:"",onChange:b}))),0!==l.length&&l.map(((t,i)=>{return(0,e.createElement)("div",{key:i,className:"edbi-file-browser__upload-progress"},(0,e.createElement)("div",{className:"edbi-file-browser__upload-progress__details"},(0,e.createElement)("div",{className:"edbi-file-browser__upload-progress__details__file_icon"},(0,e.createElement)("svg",{className:"w-8 h-8 ",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,e.createElement)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.createElement)("g",{id:"SVGRepo_iconCarrier"}," ",(0,e.createElement)("path",{d:"M9 17H13M9 13H13M9 9H10M17 18V21M17 15H17.01M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H13M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19M19 9V11.5",stroke:"#000000","stroke-width":"2",fill:"#3182ce","stroke-linecap":"round","stroke-linejoin":"round"})," "))),(0,e.createElement)("div",{className:"edbi-file-browser__upload-progress__details__content"},(0,e.createElement)("h3",{className:"edbi-file-browser__upload-progress__details__content__title"},t?.name),(0,e.createElement)("p",{className:"edbi-file-browser__upload-progress__details__content__file-size"},(n=t?.size,((n||0)/1048576).toFixed(2))," MB"))),100!==p?(0,e.createElement)("div",{className:"edbi-file-browser__upload-progress__check-icon"},(0,e.createElement)("div",{className:"flex flex-col w-[200px] gap-2"},(0,e.createElement)("div",{className:"flex h-3 w-full  items-center justify-center rounded-full bg-sky-300"},(0,e.createElement)("div",{style:{width:`${p}%`},className:"transition-width mr-auto h-3 w-0 rounded-full  bg-sky-600 duration-500"})),(0,e.createElement)("span",{className:"text-lg font-medium text-center text-sky-400"}," ",p," %"))):(0,e.createElement)("div",{className:"edbi-file-browser__upload-progress__check-icon"},(0,e.createElement)("svg",{className:"w-6 h-6 ",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),(0,e.createElement)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.createElement)("g",{id:"SVGRepo_iconCarrier"}," ",(0,e.createElement)("path",{fill:"#3182ce","fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.6097 5.20743C21.0475 5.54416 21.1294 6.17201 20.7926 6.60976L10.7926 19.6098C10.6172 19.8378 10.352 19.9793 10.0648 19.9979C9.77765 20.0166 9.49637 19.9106 9.29289 19.7072L4.29289 14.7072C3.90237 14.3166 3.90237 13.6835 4.29289 13.2929C4.68342 12.9024 5.31658 12.9024 5.70711 13.2929L9.90178 17.4876L19.2074 5.39034C19.5441 4.95258 20.172 4.87069 20.6097 5.20743Z"})," "))));var n})))},Kt="file-browser-folder",Jt="file-browser-file",Qt=()=>{const i=(0,He.useSelect)((e=>e("dropbox-browser").getData("filter"))),n=(0,He.useSelect)((e=>e("dropbox-browser").getData("refresh"))),o=(0,He.useSelect)((e=>e("dropbox-browser").getData("isLoading"))),r=(0,He.useSelect)((e=>e("dropbox-browser").getData("current_path"))),s=(0,He.useSelect)((e=>e("dropbox-browser").getData("previous_path"))),l=(0,He.useSelect)((e=>e("dropbox-browser").getData("showUploader"))),[a,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),{activeAccount:h}=EDBIData,[g,m]=(0,t.useState)([]),p=e=>{(0,He.dispatch)("dropbox-browser").setData("isLoading",!0),(0,He.dispatch)("dropbox-browser").setData("current_path",e)};(0,t.useEffect)((()=>{0!==h.length&&((0,He.dispatch)("dropbox-browser").setData("isLoading",!0),je()({path:"/idb/v1/get-files",method:"POST",data:{path:r,accountId:h.id,filter:i}}).then((e=>{(0,He.dispatch)("dropbox-browser").setData("breadcrumbs",e.data.breadcrumbs),m(e.data.files),(0,He.dispatch)("dropbox-browser").setData("previous_path",e.data.previous_path),(0,He.dispatch)("dropbox-browser").setData("isLoading",!1)})).catch((e=>{console.log(e)})))}),[r,n,i]);const f=g.filter((e=>e.is_dir?e:"")),v=g.filter((e=>e.is_file?e:"")),b=(e,t,i)=>{const{show:n}=Ft({id:t});n({event:e,props:{data:i}})},y=({id:e,event:t,props:i})=>{const{item:o}=i.data;switch(e){case"rename":Ve({title:"Rename",html:`\n\t\t\t\t\t<p>Rename the file</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input id="swal-rename-input" class="swal2-input" value="${o.name}" autofocus />\n\t\t\t\t\t</div>\n\t\t\t\t`,confirmButtonText:"Rename"}).then((e=>{e.isConfirmed&&wp.ajax.post("idbwp_rename",{account_id:h.id,nonce:EDBIData?.ajaxNonce,old_name:o.name,new_name:document.getElementById("swal-rename-input").value}).then((e=>{Ve({title:"Success",text:e.message,icon:"success"}),(0,He.dispatch)("dropbox-browser").setData("refresh",!n)})).catch((e=>{Ve({title:"Error",text:e.message,icon:"error"})}))}));break;case"duplicate":break;case"cut":console.log(t,i);break;case"delete":Ve({title:"Are you sure?",html:'\n\t\t\t\t\t<h4 style="color:red">You won\'t be able to revert this!</h4>\n\t\t\t\t',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&wp.ajax.post("idbwp_delete",{account_id:h.id,nonce:EDBIData?.ajaxNonce,path:o.path}).then((e=>{Ve({title:"Deleted!",text:"Your file has been deleted",icon:"success"}),(0,He.dispatch)("dropbox-browser").setData("refresh",!n)})).catch((e=>{Ve({title:"Error",text:e.message,icon:"error"})}))}))}};return console.log(v),(0,e.createElement)(e.Fragment,null,l&&(0,e.createElement)(qt,null),(0,e.createElement)(Vt,{id:Jt},(0,e.createElement)(Xt,{id:"preview",onClick:y},"Preview"),(0,e.createElement)(Xt,{id:"preview",onClick:y},"Preview in a new window"),(0,e.createElement)(Xt,{id:"direct-link",onClick:y},"Direct Link"),(0,e.createElement)(Xt,{id:"share",onClick:y},"Share"),(0,e.createElement)(Xt,{id:"download",onClick:y},"Download"),(0,e.createElement)(Wt,null),(0,e.createElement)(Xt,{id:"rename",onClick:y},"Rename"),(0,e.createElement)(Xt,{id:"move-to",onClick:y},"Move to"),(0,e.createElement)(Xt,{id:"duplicate",onClick:y},"Duplicate"),(0,e.createElement)(Wt,null),(0,e.createElement)(Xt,{id:"delete",onClick:y},"Delete")),(0,e.createElement)(Vt,{id:Kt},(0,e.createElement)(Xt,{id:"direct-link",onClick:y},"Direct Link"),(0,e.createElement)(Xt,{id:"share",onClick:y},"Share"),(0,e.createElement)(Xt,{id:"download",onClick:y},"Download"),(0,e.createElement)(Wt,null),(0,e.createElement)(Xt,{id:"rename",onClick:y},"Rename"),(0,e.createElement)(Xt,{id:"move-to",onClick:y},"Move to"),(0,e.createElement)(Xt,{id:"duplicate",onClick:y},"Duplicate"),(0,e.createElement)(Wt,null),(0,e.createElement)(Xt,{id:"delete",onClick:y},"Delete")),(0,e.createElement)("div",{className:"edbi-file-browser__content"},0===h.length?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"edbi-notice"},(0,e.createElement)("h3",null,"No Accounts"),(0,e.createElement)("p",null,"Please Add your account to continue"),(0,e.createElement)("button",{onClick:()=>{window.open(EDBIData.authUrl,"_blank","width=600,height=600,toolbar=yes,scrollbars=yes,resizable=yes")},className:"ud-c-btn ud-c-btn--primary"},"Add Account"))):(0,e.createElement)(e.Fragment,null,o?(0,e.createElement)("div",{className:"edbi-file-browser__loading"},(0,e.createElement)("div",{className:"edbi-file-browser__loading__spinner"},(0,e.createElement)("div",{className:"edbi-file-browser__loading__spinner--bounce1"}),(0,e.createElement)("div",{className:"edbi-file-browser__loading__spinner--bounce2"}),(0,e.createElement)("div",{className:"edbi-file-browser__loading__spinner--bounce3"}))):"",(0,e.createElement)("div",{className:"edbi-file-browser__file-list"},s&&(0,e.createElement)("div",{className:"edbi-file-browser__file-list__item edbi-file-browser__file-list__prev edbi-file-browser__file-list__item--folder",onClick:()=>{p(s)}},(0,e.createElement)("div",{className:"edbi-file-browser__file-list__item__info"},(0,e.createElement)("i",{class:"dashicons dashicons-arrow-left-alt2"}),(0,e.createElement)("span",null,"Previous Folder"))),f.length>0&&f.map(((t,i)=>(0,e.createElement)("div",{className:Ge()("edbi-file-browser__file-list__item","edbi-file-browser__file-list__item--folder"),key:i,onClick:e=>{t.is_dir&&p(t.path)},onContextMenu:e=>{b(e,Kt,{type:"folder",path:t.path,item:t})}},(0,e.createElement)("div",{className:"edbi-file-browser__file-list__item__info"},(0,e.createElement)("i",{class:"dashicons dashicons-open-folder"}),(0,e.createElement)("span",null,t.name)))))),v.length?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ht,{plugins:[ft,_t,It],mode:"lg-fade",pager:!1,thumbnail:!0,galleryId:"nature",autoplayFirstVideo:!1,elementClassNames:"edbi-file-browser__file-list",mobileSettings:{controls:!0,showCloseIcon:!0,download:!0,rotate:!0},licenseKey:"DEC07C11-66CA-441B-91EB-78600E170147"},v.map(((t,i)=>(0,e.createElement)("a",{className:Ge()("edbi-file-browser__file-list__item","edbi-file-browser__file-list__item--file","gallery-item"),...Ze(t),key:i,onContextMenu:e=>{b(e,Jt,{type:"file",path:t.path,item:t})}},t.can_preview&&t.thumbnail?(0,e.createElement)("div",{className:"edbi-file-browser__file-list__item__thumb"},(0,e.createElement)("img",{src:t.thumbnail})):(0,e.createElement)("div",{className:"edbi-file-browser__file-list__item__icon"},(0,e.createElement)("span",{className:Ge()("dashicons",Ue(t.ext))})),(0,e.createElement)("div",{className:"edbi-file-browser__file-list__item__info"},(0,e.createElement)("i",{class:Ge()("dashicons",Ue(t.ext))}),(0,e.createElement)("span",null,t.name))))))):"")))},ei="file-browser",ti=()=>{const{show:t}=Ft({id:ei});function i({event:e,props:t,triggerEvent:i,data:n}){console.log(e,t,i,n)}return(0,e.createElement)("div",null,(0,e.createElement)(Vt,{id:ei},(0,e.createElement)(Xt,{onClick:i},"Item 1"),(0,e.createElement)(Xt,{onClick:i},"Item 2"),(0,e.createElement)(Wt,null),(0,e.createElement)(Xt,{disabled:!0},"Disabled"),(0,e.createElement)(Wt,null),(0,e.createElement)(Zt,{label:"Submenu"},(0,e.createElement)(Xt,{onClick:i},"Sub Item 1"),(0,e.createElement)(Xt,{onClick:i},"Sub Item 2"))))},ii={data:{filter:{by:"name",direction:"asc"},refresh:!1,current_path:"",breadcrumbs:[],previous_path:"",isLoading:!1,showUploader:!1}},ni=(0,He.createReduxStore)("dropbox-browser",{reducer:(e=ii,t)=>"SET_DATA"===t.type?{...e,data:{...e.data,[t.item]:t.value}}:e,actions:{setData:(e,t)=>({type:"SET_DATA",item:e,value:t})},selectors:{getData(e,t){const{data:i}=e;return i[t]}}});(0,He.register)(ni);const oi=document.getElementById("edbi-file-browser");oi&&(0,t.render)((0,e.createElement)((()=>(0,e.createElement)("div",{className:"edbi-file-browser"},(0,e.createElement)(ti,null),(0,e.createElement)(Xe,null),(0,e.createElement)("div",{className:"edbi-file-browser__body"},(0,e.createElement)(qe,null),(0,e.createElement)(Qt,null)))),null),oi)})()})();