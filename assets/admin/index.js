!function(){var e={184:function(e,t){var i;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var r=s.apply(null,i);r&&e.push(r)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var l in i)n.call(i,l)&&i[l]&&e.push(l)}}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(i=function(){return s}.apply(t,[]))||(e.exports=i)}()}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.React;function n(e,t,...i){if(e in t){let n=t[e];return"function"==typeof n?n(...i):n}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,n),s}function s(...e){return e.filter(Boolean).join(" ")}var o,r,l=((r=l||{})[r.None=0]="None",r[r.RenderStrategy=1]="RenderStrategy",r[r.Static=2]="Static",r),a=((o=a||{})[o.Unmount=0]="Unmount",o[o.Hidden=1]="Hidden",o);function c({ourProps:e,theirProps:t,slot:i,defaultTag:s,features:o,visible:r=!0,name:l}){let a=d(t,e);if(r)return u(a,i,s,l);let c=null!=o?o:0;if(2&c){let{static:e=!1,...t}=a;if(e)return u(t,i,s,l)}if(1&c){let{unmount:e=!0,...t}=a;return n(e?0:1,{0:()=>null,1:()=>u({...t,hidden:!0,style:{display:"none"}},i,s,l)})}return u(a,i,s,l)}function u(e,i={},n,o){var r;let{as:l=n,children:a,refName:c="ref",...u}=m(e,["unmount","static"]),h=void 0!==e.ref?{[c]:e.ref}:{},p="function"==typeof a?a(i):a;u.className&&"function"==typeof u.className&&(u.className=u.className(i));let f={};if(i){let e=!1,t=[];for(let[n,s]of Object.entries(i))"boolean"==typeof s&&(e=!0),!0===s&&t.push(n);e&&(f["data-headlessui-state"]=t.join(" "))}if(l===t.Fragment&&Object.keys(g(u)).length>0){if(!(0,t.isValidElement)(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let e=s(null==(r=p.props)?void 0:r.className,u.className),i=e?{className:e}:{};return(0,t.cloneElement)(p,Object.assign({},d(p.props,g(m(u,["ref"]))),f,h,function(...e){return{ref:e.every((e=>null==e))?void 0:t=>{for(let i of e)null!=i&&("function"==typeof i?i(t):i.current=t)}}}(p.ref,h.ref),i))}return(0,t.createElement)(l,Object.assign({},m(u,["ref"]),l!==t.Fragment&&h,l!==t.Fragment&&f),p)}function d(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},i={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=i[e]||(i[e]=[]),i[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(i).map((e=>[e,void 0]))));for(let e in i)Object.assign(t,{[e](t,...n){let s=i[e];for(let e of s){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...n)}}});return t}function h(e){var i;return Object.assign((0,t.forwardRef)(e),{displayName:null!=(i=e.displayName)?i:e.name})}function g(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function m(e,t=[]){let i=Object.assign({},e);for(let e of t)e in i&&delete i[e];return i}var p=Object.defineProperty,f=(e,t,i)=>(((e,t,i)=>{t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);let v=new class{constructor(){f(this,"current",this.detect()),f(this,"handoffState","pending"),f(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},b=(e,i)=>{v.isServer?(0,t.useEffect)(e,i):(0,t.useLayoutEffect)(e,i)};function y(e){let i=(0,t.useRef)(e);return b((()=>{i.current=e}),[e]),i}let w=function(e){let i=y(e);return t.useCallback(((...e)=>i.current(...e)),[i])},_=Symbol();function x(e,t=!0){return Object.assign(e,{[_]:t})}function S(...e){let i=(0,t.useRef)(e);(0,t.useEffect)((()=>{i.current=e}),[e]);let n=w((e=>{for(let t of i.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[_])))?void 0:n}function C(){let[e,i]=(0,t.useState)(v.isHandoffComplete);return e&&!1===v.isHandoffComplete&&i(!1),(0,t.useEffect)((()=>{!0!==e&&i(!0)}),[e]),(0,t.useEffect)((()=>v.handoff()),[]),e}var E;let I=null!=(E=t.useId)?E:function(){let e=C(),[i,n]=t.useState(e?()=>v.nextId():null);return b((()=>{null===i&&n(v.nextId())}),[i]),null!=i?""+i:void 0};var T=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(T||{});function P(e){let t=e.parentElement,i=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(i=t),t=t.parentElement;let n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(i))&&n}function O(e){return v.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let L=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var D,k=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(k||{}),z=((D=z||{})[D.Error=0]="Error",D[D.Overflow=1]="Overflow",D[D.Success=2]="Success",D[D.Underflow=3]="Underflow",D),A=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(A||{});function N(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(L)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var M=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(M||{});function F(e,t=0){var i;return e!==(null==(i=O(e))?void 0:i.body)&&n(t,{0:()=>e.matches(L),1(){let t=e;for(;null!==t;){if(t.matches(L))return!0;t=t.parentElement}return!1}})}let B=["textarea","input"].join(",");function G(e,t,{sorted:i=!0,relativeTo:n=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,r=Array.isArray(e)?i?function(e,t=(e=>e)){return e.slice().sort(((e,i)=>{let n=t(e),s=t(i);if(null===n||null===s)return 0;let o=n.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(e):e:N(e);s.length>0&&r.length>1&&(r=r.filter((e=>!s.includes(e)))),n=null!=n?n:o.activeElement;let l,a=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,r.indexOf(n))-1;if(4&t)return Math.max(0,r.indexOf(n))+1;if(8&t)return r.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,h=r.length;do{if(d>=h||d+h<=0)return 0;let e=c+d;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}l=r[e],null==l||l.focus(u),d+=a}while(l!==o.activeElement);return 6&t&&function(e){var t,i;return null!=(i=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,B))&&i}(l)&&l.select(),l.hasAttribute("tabindex")||l.setAttribute("tabindex","0"),2}let $=(0,t.createContext)(null);$.displayName="OpenClosedContext";var R=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(R||{});function j(){return(0,t.useContext)($)}function X({value:e,children:i}){return t.createElement($.Provider,{value:e},i)}function H(e){var t;if(e.type)return e.type;let i=null!=(t=e.as)?t:"button";return"string"==typeof i&&"button"===i.toLowerCase()?"button":void 0}function V(e,i,n){let s=y(i);(0,t.useEffect)((()=>{function t(e){s.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)}),[e,n])}function W(...e){return(0,t.useMemo)((()=>O(...e)),[...e])}var Y=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Y||{});let Z=h((function(e,t){let{features:i=1,...n}=e;return c({ourProps:{ref:t,"aria-hidden":2==(2&i)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&i)&&2!=(2&i)&&{display:"none"}}},theirProps:n,slot:{},defaultTag:"div",name:"Hidden"})}));var U=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(U||{});function q(){let e=(0,t.useRef)(0);return function(e,i,n){let s=y(i);(0,t.useEffect)((()=>{function t(e){s.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}var K,J,Q=((J=Q||{})[J.Open=0]="Open",J[J.Closed=1]="Closed",J),ee=((K=ee||{})[K.TogglePopover=0]="TogglePopover",K[K.ClosePopover=1]="ClosePopover",K[K.SetButton=2]="SetButton",K[K.SetButtonId=3]="SetButtonId",K[K.SetPanel=4]="SetPanel",K[K.SetPanelId=5]="SetPanelId",K);let te={0:e=>({...e,popoverState:n(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},ie=(0,t.createContext)(null);function ne(e){let i=(0,t.useContext)(ie);if(null===i){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return i}ie.displayName="PopoverContext";let se=(0,t.createContext)(null);function oe(e){let i=(0,t.useContext)(se);if(null===i){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,oe),t}return i}se.displayName="PopoverAPIContext";let re=(0,t.createContext)(null);function le(){return(0,t.useContext)(re)}re.displayName="PopoverGroupContext";let ae=(0,t.createContext)(null);function ce(e,t){return n(t.type,te,e,t)}ae.displayName="PopoverPanelContext";let ue=h((function(e,i){var s;let o=(0,t.useRef)(null),r=S(i,x((e=>{o.current=e}))),l=(0,t.useRef)([]),a=(0,t.useReducer)(ce,{popoverState:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,t.createRef)(),afterPanelSentinel:(0,t.createRef)()}),[{popoverState:u,button:d,buttonId:h,panel:g,panelId:m,beforePanelSentinel:p,afterPanelSentinel:f},v]=a,b=W(null!=(s=o.current)?s:d),_=(0,t.useMemo)((()=>{if(!d||!g)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(d))^Number(null==e?void 0:e.contains(g)))return!0;let e=N(),t=e.indexOf(d),i=(t+e.length-1)%e.length,n=(t+1)%e.length,s=e[i],o=e[n];return!g.contains(s)&&!g.contains(o)}),[d,g]),C=y(h),E=y(m),I=(0,t.useMemo)((()=>({buttonId:C,panelId:E,close:()=>v({type:1})})),[C,E,v]),T=le(),P=null==T?void 0:T.registerPopover,O=w((()=>{var e;return null!=(e=null==T?void 0:T.isFocusWithinPopoverGroup())?e:(null==b?void 0:b.activeElement)&&((null==d?void 0:d.contains(b.activeElement))||(null==g?void 0:g.contains(b.activeElement)))}));(0,t.useEffect)((()=>null==P?void 0:P(I)),[P,I]),function(e,i,n,s){let o=y(n);(0,t.useEffect)((()=>{function t(e){o.current(e)}return(e=null!=e?e:window).addEventListener(i,t,s),()=>e.removeEventListener(i,t,s)}),[e,i,s])}(null==b?void 0:b.defaultView,"focus",(e=>{var t,i,n,s;0===u&&(O()||!d||!g||e.target!==window&&(null!=(i=null==(t=p.current)?void 0:t.contains)&&i.call(t,e.target)||null!=(s=null==(n=f.current)?void 0:n.contains)&&s.call(n,e.target)||v({type:1})))}),!0),function(e,i,n=!0){let s=(0,t.useRef)(!1);function o(t,n){if(!s.current||t.defaultPrevented)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),r=n(t);if(null!==r&&r.getRootNode().contains(r)){for(let e of o){if(null===e)continue;let i=e instanceof HTMLElement?e:e.current;if(null!=i&&i.contains(r)||t.composed&&t.composedPath().includes(i))return}return!F(r,M.Loose)&&-1!==r.tabIndex&&t.preventDefault(),i(t,r)}}(0,t.useEffect)((()=>{requestAnimationFrame((()=>{s.current=n}))}),[n]);let r=(0,t.useRef)(null);V("mousedown",(e=>{var t,i;s.current&&(r.current=(null==(i=null==(t=e.composedPath)?void 0:t.call(e))?void 0:i[0])||e.target)}),!0),V("click",(e=>{!r.current||(o(e,(()=>r.current)),r.current=null)}),!0),V("blur",(e=>o(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}([d,g],((e,t)=>{v({type:1}),F(t,M.Loose)||(e.preventDefault(),null==d||d.focus())}),0===u);let L=w((e=>{v({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:d:d;null==t||t.focus()})),D=(0,t.useMemo)((()=>({close:L,isPortalled:_})),[L,_]),k=(0,t.useMemo)((()=>({open:0===u,close:L})),[u,L]),z=e,A={ref:r};return t.createElement(ie.Provider,{value:a},t.createElement(se.Provider,{value:D},t.createElement(X,{value:n(u,{0:R.Open,1:R.Closed})},c({ourProps:A,theirProps:z,slot:k,defaultTag:"div",name:"Popover"}))))})),de=h((function(e,i){let s=I(),{id:o=`headlessui-popover-button-${s}`,...r}=e,[l,a]=ne("Popover.Button"),{isPortalled:u}=oe("Popover.Button"),d=(0,t.useRef)(null),h=`headlessui-focus-sentinel-${I()}`,g=le(),m=null==g?void 0:g.closeOthers,p=null!==(0,t.useContext)(ae);(0,t.useEffect)((()=>{if(!p)return a({type:3,buttonId:o}),()=>{a({type:3,buttonId:null})}}),[p,o,a]);let[f]=(0,t.useState)((()=>Symbol())),v=S(d,i,p?null:e=>{if(e)l.buttons.current.push(f);else{let e=l.buttons.current.indexOf(f);-1!==e&&l.buttons.current.splice(e,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&a({type:2,button:e})}),y=S(d,i),_=W(d),x=w((e=>{var t,i,n;if(p){if(1===l.popoverState)return;switch(e.key){case T.Space:case T.Enter:e.preventDefault(),null==(i=(t=e.target).click)||i.call(t),a({type:1}),null==(n=l.button)||n.focus()}}else switch(e.key){case T.Space:case T.Enter:e.preventDefault(),e.stopPropagation(),1===l.popoverState&&(null==m||m(l.buttonId)),a({type:0});break;case T.Escape:if(0!==l.popoverState)return null==m?void 0:m(l.buttonId);if(!d.current||(null==_?void 0:_.activeElement)&&!d.current.contains(_.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1})}})),C=w((e=>{p||e.key===T.Space&&e.preventDefault()})),E=w((t=>{var i,n;P(t.currentTarget)||e.disabled||(p?(a({type:1}),null==(i=l.button)||i.focus()):(t.preventDefault(),t.stopPropagation(),1===l.popoverState&&(null==m||m(l.buttonId)),a({type:0}),null==(n=l.button)||n.focus()))})),O=w((e=>{e.preventDefault(),e.stopPropagation()})),L=0===l.popoverState,D=(0,t.useMemo)((()=>({open:L})),[L]),A=function(e,i){let[n,s]=(0,t.useState)((()=>H(e)));return b((()=>{s(H(e))}),[e.type,e.as]),b((()=>{n||!i.current||i.current instanceof HTMLButtonElement&&!i.current.hasAttribute("type")&&s("button")}),[n,i]),n}(e,d),M=p?{ref:y,type:A,onKeyDown:x,onClick:E}:{ref:v,id:l.buttonId,type:A,"aria-expanded":e.disabled?void 0:0===l.popoverState,"aria-controls":l.panel?l.panelId:void 0,onKeyDown:x,onKeyUp:C,onClick:E,onMouseDown:O},F=q(),B=w((()=>{let e=l.panel;e&&n(F.current,{[U.Forwards]:()=>G(e,k.First),[U.Backwards]:()=>G(e,k.Last)})===z.Error&&G(N().filter((e=>"true"!==e.dataset.headlessuiFocusGuard)),n(F.current,{[U.Forwards]:k.Next,[U.Backwards]:k.Previous}),{relativeTo:l.button})}));return t.createElement(t.Fragment,null,c({ourProps:M,theirProps:r,slot:D,defaultTag:"button",name:"Popover.Button"}),L&&!p&&u&&t.createElement(Z,{id:h,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:B}))})),he=l.RenderStrategy|l.Static,ge=h((function(e,i){let n=I(),{id:s=`headlessui-popover-overlay-${n}`,...o}=e,[{popoverState:r},l]=ne("Popover.Overlay"),a=S(i),u=j(),d=null!==u?(u&R.Open)===R.Open:0===r,h=w((e=>{if(P(e.currentTarget))return e.preventDefault();l({type:1})}));return c({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:h},theirProps:o,slot:(0,t.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",features:he,visible:d,name:"Popover.Overlay"})})),me=l.RenderStrategy|l.Static,pe=h((function(e,i){let s=I(),{id:o=`headlessui-popover-panel-${s}`,focus:r=!1,...l}=e,[a,u]=ne("Popover.Panel"),{close:d,isPortalled:h}=oe("Popover.Panel"),g=`headlessui-focus-sentinel-before-${I()}`,m=`headlessui-focus-sentinel-after-${I()}`,p=(0,t.useRef)(null),f=S(p,i,(e=>{u({type:4,panel:e})})),v=W(p);b((()=>(u({type:5,panelId:o}),()=>{u({type:5,panelId:null})})),[o,u]);let y=j(),_=null!==y?(y&R.Open)===R.Open:0===a.popoverState,x=w((e=>{var t;if(e.key===T.Escape){if(0!==a.popoverState||!p.current||(null==v?void 0:v.activeElement)&&!p.current.contains(v.activeElement))return;e.preventDefault(),e.stopPropagation(),u({type:1}),null==(t=a.button)||t.focus()}}));(0,t.useEffect)((()=>{var t;e.static||1===a.popoverState&&(null==(t=e.unmount)||t)&&u({type:4,panel:null})}),[a.popoverState,e.unmount,e.static,u]),(0,t.useEffect)((()=>{if(!r||0!==a.popoverState||!p.current)return;let e=null==v?void 0:v.activeElement;p.current.contains(e)||G(p.current,k.First)}),[r,p,a.popoverState]);let C=(0,t.useMemo)((()=>({open:0===a.popoverState,close:d})),[a,d]),E={ref:f,id:o,onKeyDown:x,onBlur:r&&0===a.popoverState?e=>{var t,i,n,s,o;let r=e.relatedTarget;!r||!p.current||null!=(t=p.current)&&t.contains(r)||(u({type:1}),((null==(n=null==(i=a.beforePanelSentinel.current)?void 0:i.contains)?void 0:n.call(i,r))||(null==(o=null==(s=a.afterPanelSentinel.current)?void 0:s.contains)?void 0:o.call(s,r)))&&r.focus({preventScroll:!0}))}:void 0,tabIndex:-1},P=q(),O=w((()=>{let e=p.current;e&&n(P.current,{[U.Forwards]:()=>{var t;G(e,k.First)===z.Error&&(null==(t=a.afterPanelSentinel.current)||t.focus())},[U.Backwards]:()=>{var e;null==(e=a.button)||e.focus({preventScroll:!0})}})})),L=w((()=>{let e=p.current;e&&n(P.current,{[U.Forwards]:()=>{var e;if(!a.button)return;let t=N(),i=t.indexOf(a.button),n=t.slice(0,i+1),s=[...t.slice(i+1),...n];for(let t of s.slice())if("true"===t.dataset.headlessuiFocusGuard||(null==(e=a.panel)?void 0:e.contains(t))){let e=s.indexOf(t);-1!==e&&s.splice(e,1)}G(s,k.First,{sorted:!1})},[U.Backwards]:()=>{var t;G(e,k.Previous)===z.Error&&(null==(t=a.button)||t.focus())}})}));return t.createElement(ae.Provider,{value:o},_&&h&&t.createElement(Z,{id:g,ref:a.beforePanelSentinel,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}),c({ourProps:E,theirProps:l,slot:C,defaultTag:"div",features:me,visible:_,name:"Popover.Panel"}),_&&h&&t.createElement(Z,{id:m,ref:a.afterPanelSentinel,features:Y.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}))})),fe=h((function(e,i){let n=(0,t.useRef)(null),s=S(n,i),[o,r]=(0,t.useState)([]),l=w((e=>{r((t=>{let i=t.indexOf(e);if(-1!==i){let e=t.slice();return e.splice(i,1),e}return t}))})),a=w((e=>(r((t=>[...t,e])),()=>l(e)))),u=w((()=>{var e;let t=O(n);if(!t)return!1;let i=t.activeElement;return!(null==(e=n.current)||!e.contains(i))||o.some((e=>{var n,s;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(i))||(null==(s=t.getElementById(e.panelId.current))?void 0:s.contains(i))}))})),d=w((e=>{for(let t of o)t.buttonId.current!==e&&t.close()})),h=(0,t.useMemo)((()=>({registerPopover:a,unregisterPopover:l,isFocusWithinPopoverGroup:u,closeOthers:d})),[a,l,u,d]),g=(0,t.useMemo)((()=>({})),[]),m=e,p={ref:s};return t.createElement(re.Provider,{value:h},c({ourProps:p,theirProps:m,slot:g,defaultTag:"div",name:"Popover.Group"}))})),ve=Object.assign(ue,{Button:de,Overlay:ge,Panel:pe,Group:fe});function be(){let e=(0,t.useRef)(!1);return b((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function ye(){let e=[],t=[],i={enqueue(e){t.push(e)},addEventListener:(e,t,n,s)=>(e.addEventListener(t,n,s),i.add((()=>e.removeEventListener(t,n,s)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return i.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>i.requestAnimationFrame((()=>i.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return i.add((()=>clearTimeout(t)))},microTask(...e){let t={current:!0};return function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{t.current&&e[0]()})),i.add((()=>{t.current=!1}))},add:t=>(e.push(t),()=>{let i=e.indexOf(t);if(i>=0){let[t]=e.splice(i,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()},style(e,t,i){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:i}),this.add((()=>{Object.assign(e.style,{[t]:n})}))}};return i}function we(e,...t){e&&t.length>0&&e.classList.add(...t)}function _e(e,...t){e&&t.length>0&&e.classList.remove(...t)}function xe(){let[e]=(0,t.useState)(ye);return(0,t.useEffect)((()=>()=>e.dispose()),[e]),e}function Se(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let Ce=(0,t.createContext)(null);Ce.displayName="TransitionContext";var Ee,Ie=((Ee=Ie||{}).Visible="visible",Ee.Hidden="hidden",Ee);let Te=(0,t.createContext)(null);function Pe(e){return"children"in e?Pe(e.children):e.current.filter((({el:e})=>null!==e.current)).filter((({state:e})=>"visible"===e)).length>0}function Oe(e,i){let s=y(e),o=(0,t.useRef)([]),r=be(),l=xe(),c=w(((e,t=a.Hidden)=>{let i=o.current.findIndex((({el:t})=>t===e));-1!==i&&(n(t,{[a.Unmount](){o.current.splice(i,1)},[a.Hidden](){o.current[i].state="hidden"}}),l.microTask((()=>{var e;!Pe(o)&&r.current&&(null==(e=s.current)||e.call(s))})))})),u=w((e=>{let t=o.current.find((({el:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):o.current.push({el:e,state:"visible"}),()=>c(e,a.Unmount)})),d=(0,t.useRef)([]),h=(0,t.useRef)(Promise.resolve()),g=(0,t.useRef)({enter:[],leave:[],idle:[]}),m=w(((e,t,n)=>{d.current.splice(0),i&&(i.chains.current[t]=i.chains.current[t].filter((([t])=>t!==e))),null==i||i.chains.current[t].push([e,new Promise((e=>{d.current.push(e)}))]),null==i||i.chains.current[t].push([e,new Promise((e=>{Promise.all(g.current[t].map((([e,t])=>t))).then((()=>e()))}))]),"enter"===t?h.current=h.current.then((()=>null==i?void 0:i.wait.current)).then((()=>n(t))):n(t)})),p=w(((e,t,i)=>{Promise.all(g.current[t].splice(0).map((([e,t])=>t))).then((()=>{var e;null==(e=d.current.shift())||e()})).then((()=>i(t)))}));return(0,t.useMemo)((()=>({children:o,register:u,unregister:c,onStart:m,onStop:p,wait:h,chains:g})),[u,c,o,m,p,g,h])}function Le(){}Te.displayName="NestingContext";let De=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ke(e){var t;let i={};for(let n of De)i[n]=null!=(t=e[n])?t:Le;return i}let ze=l.RenderStrategy,Ae=h((function(e,i){let{beforeEnter:o,afterEnter:r,beforeLeave:l,afterLeave:u,enter:d,enterFrom:h,enterTo:g,entered:m,leave:p,leaveFrom:f,leaveTo:_,...x}=e,E=(0,t.useRef)(null),I=S(E,i),T=x.unmount?a.Unmount:a.Hidden,{show:P,appear:O,initial:L}=function(){let e=(0,t.useContext)(Ce);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[D,k]=(0,t.useState)(P?"visible":"hidden"),z=function(){let e=(0,t.useContext)(Te);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:A,unregister:N}=z,M=(0,t.useRef)(null);(0,t.useEffect)((()=>A(E)),[A,E]),(0,t.useEffect)((()=>{if(T===a.Hidden&&E.current)return P&&"visible"!==D?void k("visible"):n(D,{hidden:()=>N(E),visible:()=>A(E)})}),[D,E,A,N,P,T]);let F=y({enter:Se(d),enterFrom:Se(h),enterTo:Se(g),entered:Se(m),leave:Se(p),leaveFrom:Se(f),leaveTo:Se(_)}),B=function(e){let i=(0,t.useRef)(ke(e));return(0,t.useEffect)((()=>{i.current=ke(e)}),[e]),i}({beforeEnter:o,afterEnter:r,beforeLeave:l,afterLeave:u}),G=C();(0,t.useEffect)((()=>{if(G&&"visible"===D&&null===E.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[E,D,G]);let $=L&&!O,j=!G||$||M.current===P?"idle":P?"enter":"leave",H=function(e=0){let[i,n]=(0,t.useState)(e),s=(0,t.useCallback)((e=>n((t=>t|e))),[i]),o=(0,t.useCallback)((e=>Boolean(i&e)),[i]),r=(0,t.useCallback)((e=>n((t=>t&~e))),[n]),l=(0,t.useCallback)((e=>n((t=>t^e))),[n]);return{flags:i,addFlag:s,hasFlag:o,removeFlag:r,toggleFlag:l}}(0),V=w((e=>n(e,{enter:()=>{H.addFlag(R.Opening),B.current.beforeEnter()},leave:()=>{H.addFlag(R.Closing),B.current.beforeLeave()},idle:()=>{}}))),W=w((e=>n(e,{enter:()=>{H.removeFlag(R.Opening),B.current.afterEnter()},leave:()=>{H.removeFlag(R.Closing),B.current.afterLeave()},idle:()=>{}}))),Y=Oe((()=>{k("hidden"),N(E)}),z);(function({container:e,direction:t,classes:i,onStart:s,onStop:o}){let r=be(),l=xe(),a=y(t);b((()=>{let t=ye();l.add(t.dispose);let c=e.current;if(c&&"idle"!==a.current&&r.current)return t.dispose(),s.current(a.current),t.add(function(e,t,i,s){let o=i?"enter":"leave",r=ye(),l=void 0!==s?function(e){let t={called:!1};return(...i)=>{if(!t.called)return t.called=!0,e(...i)}}(s):()=>{};"enter"===o&&(e.removeAttribute("hidden"),e.style.display="");let a=n(o,{enter:()=>t.enter,leave:()=>t.leave}),c=n(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=n(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return _e(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),we(e,...a,...u),r.nextFrame((()=>{_e(e,...u),we(e,...c),function(e,t){let i=ye();if(!e)return i.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(e),[o,r]=[n,s].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(o+r!==0){let n=i.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t(),n())}))}else t();i.add((()=>t())),i.dispose}(e,(()=>(_e(e,...a),we(e,...t.entered),l())))})),r.dispose}(c,i.current,"enter"===a.current,(()=>{t.dispose(),o.current(a.current)}))),t.dispose}),[t])})({container:E,classes:F,direction:j,onStart:y((e=>{Y.onStart(E,e,V)})),onStop:y((e=>{Y.onStop(E,e,W),"leave"===e&&!Pe(Y)&&(k("hidden"),N(E))}))}),(0,t.useEffect)((()=>{!$||(T===a.Hidden?M.current=null:M.current=P)}),[P,$,D]);let Z=x,U={ref:I};return O&&P&&v.isServer&&(Z={...Z,className:s(x.className,...F.current.enter,...F.current.enterFrom)}),t.createElement(Te.Provider,{value:Y},t.createElement(X,{value:n(D,{visible:R.Open,hidden:R.Closed})|H.flags},c({ourProps:U,theirProps:Z,defaultTag:"div",features:ze,visible:"visible"===D,name:"Transition.Child"})))})),Ne=h((function(e,i){let{show:n,appear:s=!1,unmount:o,...r}=e,l=(0,t.useRef)(null),a=S(l,i);C();let u=j();if(void 0===n&&null!==u&&(n=(u&R.Open)===R.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=(0,t.useState)(n?"visible":"hidden"),g=Oe((()=>{h("hidden")})),[m,p]=(0,t.useState)(!0),f=(0,t.useRef)([n]);b((()=>{!1!==m&&f.current[f.current.length-1]!==n&&(f.current.push(n),p(!1))}),[f,n]);let v=(0,t.useMemo)((()=>({show:n,appear:s,initial:m})),[n,s,m]);(0,t.useEffect)((()=>{if(n)h("visible");else if(Pe(g)){let e=l.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&h("hidden")}else h("hidden")}),[n,g]);let y={unmount:o};return t.createElement(Te.Provider,{value:g},t.createElement(Ce.Provider,{value:v},c({ourProps:{...y,as:t.Fragment,children:t.createElement(Ae,{ref:a,...y,...r})},theirProps:{},defaultTag:t.Fragment,features:ze,visible:"visible"===d,name:"Transition"})))})),Me=h((function(e,i){let n=null!==(0,t.useContext)(Ce),s=null!==j();return t.createElement(t.Fragment,null,!n&&s?t.createElement(Ne,{ref:i,...e}):t.createElement(Ae,{ref:i,...e}))})),Fe=Object.assign(Ne,{Child:Me,Root:Ne});var Be=i(184),Ge=i.n(Be),$e=i=>{let{btnData:n,btnContent:s,content:o}=i;return(0,e.createElement)(ve,{className:"relative"},(0,e.createElement)(ve.Button,{className:n.className},s||(0,e.createElement)("img",{src:n.icon})),(0,e.createElement)(Fe,{as:t.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1"},(0,e.createElement)(ve.Panel,{className:"ud-c-popover"},(0,e.createElement)("div",{className:"ud-c-popover__content"},(0,e.createElement)("div",{className:Ge()("ud-c-popover__content__wrap",n.contentClass)},o)))))},Re=window.wp.apiFetch,je=i.n(Re),Xe=window.wp.data,He=()=>{const{activeAccount:i,accounts:n}=IDBAdmin,{dispatch:s,select:o}=wp.data,r=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("breadcrumbs"))),l=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("refresh"))),a=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("filter"))),c=a.by?a.by:"name",u=a.direction?a.direction:"asc";console.log(a);const d=e=>{s("dropbox-browser").setData("isLoading",!0),s("dropbox-browser").setData("filter",{...a,by:e})},h=e=>{s("dropbox-browser").setData("isLoading",!0),s("dropbox-browser").setData("filter",{...a,direction:e})},[g,m]=(0,e.useState)(i);return(0,e.createElement)("div",{className:"ud-c-file-browser__header"},(0,e.createElement)("nav",{className:"flex ud-c-file-browser__header__breadcrumb","aria-label":"Breadcrumb"},(0,e.createElement)("ol",null,(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#"},(0,e.createElement)("svg",{"aria-hidden":"true",class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})),"Home")),r.map(((t,i)=>(0,e.createElement)("li",{"aria-current":"page",key:i,onClick:()=>{s("dropbox-browser").setData("current_path",t.path.replace(/\/$/,""))}},(0,e.createElement)("div",{class:"flex items-center"},(0,e.createElement)("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})),(0,e.createElement)("a",{href:"#"},t.name))))))),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right"},(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__search ud-c-file-browser__header__right__btn"},(0,e.createElement)("img",{src:IDBAdmin.assets+"images/search.svg"})),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__refresh ud-c-file-browser__header__right__btn",onClick:()=>{s("dropbox-browser").setData("refresh",!l),s("dropbox-browser").setData("isLoading",!0)}},(0,e.createElement)("img",{src:IDBAdmin.assets+"images/refresh.svg"})),(0,e.createElement)($e,{className:"relative",btnData:{className:"ud-c-file-browser__header__right__filter ud-c-file-browser__header__right__btn relative",icon:IDBAdmin.assets+"images/filter.svg",contentClass:"min-w-[200px]"},content:(0,e.createElement)(t.Fragment,null,(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__filter__content"},(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__filter__content__title"},"Filter by"),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__filter__content__options"},(0,e.createElement)("ul",null,(0,e.createElement)("li",{className:Ge()("ud-c-file-browser__header__right__filter__content__options__item",{"ud-c-file-browser__header__right__filter__content__options__item--active":"name"===c}),onClick:()=>d("name")},"Name"),(0,e.createElement)("li",{className:Ge()("ud-c-file-browser__header__right__filter__content__options__item",{"ud-c-file-browser__header__right__filter__content__options__item--active":"size"===c}),onClick:()=>d("size")},"Size"),(0,e.createElement)("li",{className:Ge()("ud-c-file-browser__header__right__filter__content__options__item",{"ud-c-file-browser__header__right__filter__content__options__item--active":"modified"===c}),onClick:()=>d("modified")},"Modified"))),(0,e.createElement)("hr",null),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__filter__content__title"},"Sort Direction"),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__filter__content__options"},(0,e.createElement)("ul",null,(0,e.createElement)("li",{className:Ge()("ud-c-file-browser__header__right__filter__content__options__item",{"ud-c-file-browser__header__right__filter__content__options__item--active":"asc"===u}),onClick:()=>h("asc")},"ASC"),(0,e.createElement)("li",{className:Ge()("ud-c-file-browser__header__right__filter__content__options__item",{"ud-c-file-browser__header__right__filter__content__options__item--active":"desc"===u}),onClick:()=>h("desc")},"DESC")))))}),(0,e.createElement)($e,{className:"relative",btnData:{className:"ud-c-file-browser__header__right__more ud-c-file-browser__header__right__btn relative",icon:IDBAdmin.assets+"images/more.svg",contentClass:"min-w-[200px]"},content:(0,e.createElement)("h2",null,"More")}),(0,e.createElement)($e,{className:"relative",btnData:{className:"ud-c-file-browser__header__right__user ud-c-file-browser__header__right__btn relative",contentClass:"min-w-[200px]"},btnContent:(0,e.createElement)(t.Fragment,null,n?(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__info"},(0,e.createElement)("img",{src:g.photo,alt:g.name}),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__info__more"},(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__info__more__name"},g.name),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__info__more__email"},g.email))):(0,e.createElement)("button",{onClick:()=>{window.open(IDBAdmin.authUrl,"_blank","width=600,height=600,toolbar=yes,scrollbars=yes,resizable=yes")},className:"ud-c-btn ud-c-btn--primary"},"Add Account")),content:(0,e.createElement)(t.Fragment,null,(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__content"},n&&(0,e.createElement)(t.Fragment,null,(0,e.createElement)("h3",null,"Switch Account"),Object.entries(n).map((i=>(i=i[1],(0,e.createElement)(t.Fragment,null,(0,e.createElement)("div",{className:Ge()("ud-c-file-browser__header__right__user__info",i.id===g.id?"ud-c-file-browser__header__right__user__info--active":""),onClick:()=>{var e;e=i.id,je()({path:"/idb/v1/switch-account",method:"POST",data:{id:e}}).then((e=>{"success"===e.status&&(s("dropbox-browser").setData("refresh",!0),s("dropbox-browser").setData("isLoading",!0)),window.location.reload()})),m(i)}},(0,e.createElement)("img",{src:i.photo,alt:i.name}),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__info__more"},(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__info__more__name"},i.name),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__info__more__email"},i.email)))))))),(0,e.createElement)("div",{className:"ud-c-file-browser__header__right__user__content__add"},(0,e.createElement)("button",{onClick:()=>{window.open(IDBAdmin.authUrl,"_blank","width=600,height=600,toolbar=yes,scrollbars=yes,resizable=yes")},className:"ud-c-btn ud-c-btn--primary"},"Add Account"))))})))},Ve=window.wp.i18n;const We=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";const i=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,n)).toFixed(i))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}`},Ye=e=>{switch(e){case"mp3":return"dashicons-media-audio";case"mp4":return"dashicons-media-video";case"jpg":case"jpeg":case"png":case"gif":return"dashicons-format-image";case"pdf":return"dashicons-media-document";case"zip":return"dashicons-media-archive";default:return"dashicons-media-default"}};var Ze=()=>{const{activeAccount:t}=IDBAdmin,[i,n]=(0,e.useState)("dropbox"),s=[{name:(0,Ve.__)("My Dropbox","integrate-dropbox"),img:IDBAdmin.assets+"images/dropbox.svg",slug:"dropbox"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ud-c-file-browser__l"},(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar"},(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__content"},(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__upload"},(0,e.createElement)("button",{onClick:()=>{},className:"ud-c-btn ud-c-btn--secondary"},(0,e.createElement)("img",{src:IDBAdmin.assets+"images/upload.svg"}),(0,e.createElement)("span",null,"Upload Files"))),(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__items"},s.map(((t,s)=>(0,e.createElement)("div",{key:s,className:Ge()("ud-c-file-browser__sidebar__item",{"ud-c-file-browser__sidebar__item--active":t.slug===i}),onClick:()=>n(t.slug)},(0,e.createElement)("img",{src:t.img}),(0,e.createElement)("span",null,t.name))))),(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__storage-info"},(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__storage-info__img"},(0,e.createElement)("img",{src:IDBAdmin.assets+"images/storage.svg"})),(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__storage-info__more"},(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__storage-info__more__progress"},(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__storage-info__more__progress__bar",style:{width:`${t?.storage?.percent}%`}})),t.storage&&(0,e.createElement)("div",{className:"ud-c-file-browser__sidebar__storage-info__more__text"},We(t?.storage?.used)," ","of"," ",We(t?.storage?.allocated))))))))};function Ue(e){var t,i,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Ue(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var qe=function(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=Ue(e))&&(n&&(n+=" "),n+=t);return n},Ke=window.ReactDOM,Je=(0,t.createContext)({}),Qe=()=>(0,t.useContext)(Je),et=e=>t.createElement(Je.Provider,{...e}),tt=function(){let e=new Map;return{on(t,i){return e.has(t)?e.get(t).add(i):e.set(t,new Set([i])),this},off(t,i){return e.has(t)&&e.get(t).delete(i),this},emit(t,i){return e.has(t)&&e.get(t).forEach((e=>{e(i)})),this}}}(),it=()=>(0,t.useRef)(new Map).current,nt=()=>{},st=["resize","contextmenu","click","scroll","blur"],ot={show({event:e,id:t,props:i,position:n}){e.preventDefault&&e.preventDefault(),tt.emit(0).emit(t,{event:e.nativeEvent||e,props:i,position:n})},hideAll(){tt.emit(0)}};function rt(e){return{show(t){ot.show({...e,...t})},hideAll(){ot.hideAll()}}}function lt(e){return"function"==typeof e}function at(e){return"string"==typeof e}function ct(e,i){return t.Children.map(t.Children.toArray(e).filter(Boolean),(e=>(0,t.cloneElement)(e,i)))}function ut(e,t){return lt(e)?e(t):e}function dt(e,t){return{...e,...lt(t)?t(e):t}}var ht=({id:e,theme:i,style:n,className:s,children:o,animation:r="fade",preventDefaultOnKeydown:l=!0,disableBoundariesCheck:a=!1,onVisibilityChange:c,...u})=>{let[d,h]=(0,t.useReducer)(dt,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),g=(0,t.useRef)(null),m=it(),[p]=(0,t.useState)((()=>function(){let e,t,i,n,s=new Map,o=!1;function r(){n[e].node.focus()}function l(){return-1!==e||(a(),!1)}function a(){e+1<n.length?e++:e+1===n.length&&(e=0),o&&c(),r()}function c(){if(l()&&!i){let l=s.get(t);t.classList.remove("contexify_submenu-isOpen"),n=l.items,t=l.parentNode,l.isRoot&&(i=!0,s.clear()),o||(e=l.focusedIndex,r())}}return{init:function(t){n=Array.from(t.values()),e=-1,i=!0},moveDown:a,moveUp:function(){-1===e||0===e?e=n.length-1:e-1<n.length&&e--,o&&c(),r()},openSubmenu:function(){if(l()&&e>=0&&n[e].isSubmenu){let l=Array.from(n[e].submenuRefTracker.values()),{node:a,setSubmenuPosition:c}=n[e];return s.set(a,{isRoot:i,focusedIndex:e,parentNode:t||a,items:n}),c(),a.classList.add("contexify_submenu-isOpen"),t=a,l.length>0?(e=0,n=l):o=!0,i=!1,r(),!0}return!1},closeSubmenu:c,matchKeys:function(e){!function t(i){for(let n of i)n.isSubmenu&&n.submenuRefTracker&&t(Array.from(n.submenuRefTracker.values())),n.keyMatcher&&n.keyMatcher(e)}(n)}}}())),f=(0,t.useRef)(),v=(0,t.useRef)();function b(e,t){if(g.current&&!a){let{innerWidth:i,innerHeight:n}=window,{offsetWidth:s,offsetHeight:o}=g.current;e+s>i&&(e-=e+s-i),t+o>n&&(t-=t+o-n)}return{x:e,y:t}}function y({event:e,props:t,position:i}){e.stopPropagation();let n=i||function(e){let t={x:e.clientX,y:e.clientY},i=e.changedTouches;return i&&(t.x=i[0].clientX,t.y=i[0].clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(e),{x:s,y:o}=b(n.x,n.y);(0,Ke.flushSync)((()=>{h({visible:!0,willLeave:!1,x:s,y:o,triggerEvent:e,propsFromTrigger:t})})),clearTimeout(v.current),!f.current&&lt(c)&&(c(!0),f.current=!0)}function w(e){null!=e&&(2===e.button||e.ctrlKey)&&"contextmenu"!==e.type||(r&&(at(r)||"exit"in r&&r.exit)?h((e=>({willLeave:e.visible}))):h((e=>({visible:!e.visible&&e.visible}))),v.current=setTimeout((()=>{lt(c)&&c(!1),f.current=!1})))}(0,t.useEffect)((()=>(tt.on(e,y).on(0,w),()=>{tt.off(e,y).off(0,w)})),[e,r,a]),(0,t.useEffect)((()=>{d.visible?p.init(m):m.clear()}),[d.visible,p,m]),(0,t.useEffect)((()=>{d.visible&&h(b(d.x,d.y))}),[d.visible]),(0,t.useEffect)((()=>{function e(e){l&&e.preventDefault()}function t(t){switch(t.key){case"Enter":case" ":p.openSubmenu()||w();break;case"Escape":w();break;case"ArrowUp":e(t),p.moveUp();break;case"ArrowDown":e(t),p.moveDown();break;case"ArrowRight":e(t),p.openSubmenu();break;case"ArrowLeft":e(t),p.closeSubmenu();break;default:p.matchKeys(t)}}if(d.visible){window.addEventListener("keydown",t);for(let e of st)window.addEventListener(e,w)}return()=>{window.removeEventListener("keydown",t);for(let e of st)window.removeEventListener(e,w)}}),[d.visible,p,l]);let{visible:_,triggerEvent:x,propsFromTrigger:S,x:C,y:E,willLeave:I}=d,T=qe("contexify",s,{[`contexify_theme-${i}`]:i},at(r)?qe({[`contexify_willEnter-${r}`]:_&&!I,[`contexify_willLeave-${r} contexify_willLeave-'disabled'`]:_&&I}):r&&"enter"in r&&"exit"in r?qe({[`contexify_willEnter-${r.enter}`]:r.enter&&_&&!I,[`contexify_willLeave-${r.exit} contexify_willLeave-'disabled'`]:r.exit&&_&&I}):null);return t.createElement(et,{value:m},_&&t.createElement("div",{...u,className:T,onAnimationEnd:function(){d.willLeave&&d.visible&&(0,Ke.flushSync)((()=>h({visible:!1,willLeave:!1})))},style:{...n,left:C,top:E,opacity:1},ref:g,role:"menu"},ct(o,{propsFromTrigger:S,triggerEvent:x})))},gt=({id:e,children:i,className:n,style:s,triggerEvent:o,data:r,propsFromTrigger:l,keyMatcher:a,onClick:c=nt,disabled:u=!1,hidden:d=!1,closeOnClick:h=!0,handlerEvent:g="onClick",...m})=>{let p=(0,t.useRef)(),f=Qe(),v={id:e,data:r,triggerEvent:o,props:l},b=ut(u,v);function y(){let e=p.current;e.focus(),e.addEventListener("animationend",(()=>setTimeout(ot.hideAll)),{once:!0}),e.classList.add("contexify_item-feedback"),c(v)}return ut(d,v)?null:t.createElement("div",{...m,[g]:function(e){v.event=e,e.stopPropagation(),b||(h?y():c(v))},className:qe("contexify_item",n,{"contexify_item-disabled":b}),style:s,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),v.event=e,y())},ref:function(e){e&&!b&&(p.current=e,f.set(e,{node:e,isSubmenu:!1,keyMatcher:!b&&lt(a)&&(e=>{a(e)&&(e.stopPropagation(),e.preventDefault(),v.event=e,y())})}))},tabIndex:-1,role:"menuitem","aria-disabled":b},t.createElement("div",{className:"contexify_itemContent"},i))},mt=({triggerEvent:e,data:i,propsFromTrigger:n,hidden:s=!1})=>ut(s,{data:i,triggerEvent:e,props:n})?null:t.createElement("div",{className:"contexify_separator"}),pt=()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t.createElement("polyline",{points:"9 18 15 12 9 6"})),ft=({className:e,...i})=>t.createElement("div",{className:qe("contexify_rightSlot",e),...i}),vt=({arrow:e,children:i,disabled:n=!1,hidden:s=!1,label:o,className:r,triggerEvent:l,propsFromTrigger:a,style:c,...u})=>{let d=Qe(),h=it(),g=(0,t.useRef)(null),m={triggerEvent:l,props:a},p=ut(n,m);function f(){let e=g.current;if(e){let t="contexify_submenu-bottom",i="contexify_submenu-right";e.classList.remove(t,i);let n=e.getBoundingClientRect();n.right>window.innerWidth&&e.classList.add(i),n.bottom>window.innerHeight&&e.classList.add(t)}}if(ut(s,m))return null;let v=qe("contexify_item",r,{"contexify_item-disabled":p});return t.createElement(et,{value:h},t.createElement("div",{...u,className:v,ref:function(e){e&&!p&&d.set(e,{node:e,isSubmenu:!0,submenuRefTracker:h,setSubmenuPosition:f})},tabIndex:-1,role:"menuitem","aria-haspopup":!0,"aria-disabled":p,onMouseEnter:f,onTouchStart:f},t.createElement("div",{className:"contexify_itemContent",onClick:e=>e.stopPropagation()},o,t.createElement(ft,null,e||t.createElement(pt,null))),t.createElement("div",{className:"contexify contexify_submenu",ref:g,style:c},ct(i,{propsFromTrigger:a,triggerEvent:l}))))},bt=function(){return bt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},bt.apply(this,arguments)},yt="lgUpdateSlides",wt="lgPosterClick",_t="lgBeforeNextSlide",xt="lgBeforePrevSlide",St={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video"}},Ct=function(){function e(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.prototype._getSelector=function(e,t){return void 0===t&&(t=document),"string"!=typeof e?e:(t=t||document,"#"===e.substring(0,1)?t.querySelector(e):t.querySelectorAll(e))},e.prototype._each=function(e){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,e):e(this.selector,0),this):this},e.prototype._setCssVendorPrefix=function(e,t,i){var n=t.replace(/-([a-z])/gi,(function(e,t){return t.toUpperCase()}));-1!==this.cssVenderPrefixes.indexOf(n)?(e.style[n.charAt(0).toLowerCase()+n.slice(1)]=i,e.style["webkit"+n]=i,e.style["moz"+n]=i,e.style["ms"+n]=i,e.style["o"+n]=i):e.style[n]=i},e.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},e.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter((function(e){return e})).every((function(e){return-1!==i.indexOf(e)}))},e.prototype.attr=function(e,t){return void 0===t?this.firstElement?this.firstElement.getAttribute(e):"":(this._each((function(i){i.setAttribute(e,t)})),this)},e.prototype.find=function(e){return Et(this._getSelector(e,this.selector))},e.prototype.first=function(){return this.selector&&void 0!==this.selector.length?Et(this.selector[0]):Et(this.selector)},e.prototype.eq=function(e){return Et(this.selector[e])},e.prototype.parent=function(){return Et(this.selector.parentElement)},e.prototype.get=function(){return this._getFirstEl()},e.prototype.removeAttr=function(e){var t=e.split(" ");return this._each((function(e){t.forEach((function(t){return e.removeAttribute(t)}))})),this},e.prototype.wrap=function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this},e.prototype.addClass=function(e){return void 0===e&&(e=""),this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.add(e)}))})),this},e.prototype.removeClass=function(e){return this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.remove(e)}))})),this},e.prototype.hasClass=function(e){return!!this.firstElement&&this.firstElement.classList.contains(e)},e.prototype.hasAttribute=function(e){return!!this.firstElement&&this.firstElement.hasAttribute(e)},e.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},e.prototype.css=function(e,t){var i=this;return this._each((function(n){i._setCssVendorPrefix(n,e,t)})),this},e.prototype.on=function(t,i){var n=this;return this.selector?(t.split(" ").forEach((function(t){Array.isArray(e.eventListeners[t])||(e.eventListeners[t]=[]),e.eventListeners[t].push(i),n.selector.addEventListener(t.split(".")[0],i)})),this):this},e.prototype.once=function(e,t){var i=this;return this.on(e,(function(){i.off(e),t(e)})),this},e.prototype.off=function(t){var i=this;return this.selector?(Object.keys(e.eventListeners).forEach((function(n){i.isEventMatched(t,n)&&(e.eventListeners[n].forEach((function(e){i.selector.removeEventListener(n.split(".")[0],e)})),e.eventListeners[n]=[])})),this):this},e.prototype.trigger=function(e,t){if(!this.firstElement)return this;var i=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(i),this},e.prototype.load=function(e){var t=this;return fetch(e).then((function(e){return e.text()})).then((function(e){t.selector.innerHTML=e})),this},e.prototype.html=function(e){return void 0===e?this.firstElement?this.firstElement.innerHTML:"":(this._each((function(t){t.innerHTML=e})),this)},e.prototype.append=function(e){return this._each((function(t){"string"==typeof e?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)})),this},e.prototype.prepend=function(e){return this._each((function(t){t.insertAdjacentHTML("afterbegin",e)})),this},e.prototype.remove=function(){return this._each((function(e){e.parentNode.removeChild(e)})),this},e.prototype.empty=function(){return this._each((function(e){e.innerHTML=""})),this},e.prototype.scrollTop=function(e){return void 0!==e?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},e.prototype.scrollLeft=function(e){return void 0!==e?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},e.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=Et("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}},e.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},e.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},e.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},e.eventListeners={},e}();function Et(e){return function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),new Ct(e)}var It=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function Tt(e){return"href"===e?"src":e=(e=(e=e.replace("data-","")).charAt(0).toLowerCase()+e.slice(1)).replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var Pt=function(e,t,i,n){void 0===i&&(i=0);var s=Et(e).attr("data-lg-size")||n;if(s){var o=s.split(",");if(o[1])for(var r=window.innerWidth,l=0;l<o.length;l++){var a=o[l];if(parseInt(a.split("-")[2],10)>r){s=a;break}l===o.length-1&&(s=a)}var c=s.split("-"),u=parseInt(c[0],10),d=parseInt(c[1],10),h=t.width(),g=t.height()-i,m=Math.min(h,u),p=Math.min(g,d),f=Math.min(m/u,p/d);return{width:u*f,height:d*f}}},Ot=function(e,t,i,n,s){if(s){var o=Et(e).find("img").first();if(o.get()){var r=t.get().getBoundingClientRect(),l=r.width,a=t.height()-(i+n),c=o.width(),u=o.height(),d=o.style(),h=(l-c)/2-o.offset().left+(parseFloat(d.paddingLeft)||0)+(parseFloat(d.borderLeft)||0)+Et(window).scrollLeft()+r.left,g=(a-u)/2-o.offset().top+(parseFloat(d.paddingTop)||0)+(parseFloat(d.borderTop)||0)+Et(window).scrollTop()+i;return"translate3d("+(h*=-1)+"px, "+(g*=-1)+"px, 0) scale3d("+c/s.width+", "+u/s.height+", 1)"}}},Lt=function(e,t,i,n,s,o){var r="<img "+i+" "+(n?'srcset="'+n+'"':"")+"  "+(s?'sizes="'+s+'"':"")+' class="lg-object lg-image" data-index="'+e+'" src="'+t+'" />',l="";return o&&(l=("string"==typeof o?JSON.parse(o):o).map((function(e){var t="";return Object.keys(e).forEach((function(i){t+=" "+i+'="'+e[i]+'"'})),"<source "+t+"></source>"}))),""+l+r},Dt=0;!function(){function e(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(Dt++,this.lgId=Dt,this.el=e,this.LGel=Et(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}e.prototype.generateSettings=function(e){if(this.settings=bt(bt({},St),e),this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){var t=bt(bt({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=bt(bt({},this.settings),t)}},e.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},e.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger("lgInit",{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout((function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()}),50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},e.prototype.openGalleryOnItemClick=function(){for(var e=this,t=function(t){var n=i.items[t],s=Et(n),o=Ct.generateUUID();s.attr("data-lg-id",o).on("click.lgcustom-item-"+o,(function(i){i.preventDefault();var s=e.settings.index||t;e.openGallery(s,n)}))},i=this,n=0;n<this.items.length;n++)t(n)},e.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach((function(t){e.plugins.push(new t(e,Et))}))},e.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},e.prototype.getSlideItem=function(e){return Et(this.getSlideItemId(e))},e.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},e.prototype.getIdName=function(e){return e+"-"+this.lgId},e.prototype.getElementById=function(e){return Et("#"+this.getIdName(e))},e.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},e.prototype.buildStructure=function(){var e=this;if(!this.$container||!this.$container.get()){var t="",i="";this.settings.controls&&(t='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(i='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var n="";this.settings.allowMediaOverlap&&(n+="lg-media-overlap ");var s=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",o=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",r="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),l=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",a=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",c='\n        <div class="'+r+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+s+" "+o+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+n+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+t+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+a+"\n                    "+l+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?i:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?i:"")+"\n                </div>\n            </div>\n        </div>\n        ";Et(this.settings.container).append(c),document.body!==this.settings.container&&Et(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var u=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(u+="lg-grab "),this.outer.addClass(u),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),Et(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,(function(){e.refreshOnResize()})),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},e.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var t=this.mediaContainerPosition,i=t.top,n=t.bottom;if(this.currentImageSize=Pt(this.items[this.index],this.outer,i+n,e&&this.settings.videoMaxSize),e&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var s=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",s)}this.LGel.trigger("lgContainerResize")}},e.prototype.resizeVideoSlide=function(e,t){var i=this.getVideoContStyle(t);this.getSlideItem(e).find(".lg-video-cont").attr("style",i)},e.prototype.updateSlides=function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),1===e.length&&(this.index=0),e.length){var i=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var n=0;this.galleryItems.some((function(e,t){return e.src===i&&(n=t,!0)})),this.currentItemsInDom=this.organizeSlideItems(n,-1),this.loadContent(n,!0),this.getSlideItem(n).addClass("lg-current"),this.index=n,this.updateCurrentCounter(n),this.LGel.trigger(yt)}else this.closeGallery()},e.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if("this"===this.settings.selector)this.items.push(this.el);else if(this.settings.selector)if("string"==typeof this.settings.selector)if(this.settings.selectWithin){var e=Et(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return t=this.items,i=this.settings.extraProps,n=this.settings.getCaptionFromTitleOrAlt,s=this.settings.exThumbImage,o=[],r=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var o=arguments[t],r=0,l=o.length;r<l;r++,s++)n[s]=o[r];return n}(It,i),[].forEach.call(t,(function(e){for(var t={},i=0;i<e.attributes.length;i++){var l=e.attributes[i];if(l.specified){var a=Tt(l.name),c="";r.indexOf(a)>-1&&(c=a),c&&(t[c]=l.value)}}var u=Et(e),d=u.find("img").first().attr("alt"),h=u.attr("title"),g=s?u.attr(s):u.find("img").first().attr("src");t.thumb=g,n&&!t.subHtml&&(t.subHtml=h||d||""),t.alt=d||h||"",o.push(t)})),o;var t,i,n,s,o,r},e.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},e.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(Et("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;Et(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),Et(document.body).addClass("lg-overlay-open")}},e.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(Et(document.body).css("padding-right",this.bodyPaddingRight+"px"),Et(document.body).removeClass("lg-overlay-open"))},e.prototype.openGallery=function(e,t){var i=this;if(void 0===e&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var n=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=n;var s="";n.forEach((function(e){s=s+'<div id="'+e+'" class="lg-item"></div>'})),this.$inner.append(s),this.addHtml(e);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var r=this.mediaContainerPosition,l=r.top,a=r.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(l,a);var c=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&t&&(this.currentImageSize=Pt(t,this.outer,l+a,c&&this.settings.videoMaxSize),o=Ot(t,this.outer,l,a,this.currentImageSize)),this.zoomFromOrigin&&o||(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var u=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout((function(){i.outer.addClass("lg-components-open")}),u),this.index=e,this.LGel.trigger("lgBeforeOpen"),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=Et(window).scrollTop(),setTimeout((function(){if(i.zoomFromOrigin&&o){var t=i.getSlideItem(e);t.css("transform",o),setTimeout((function(){t.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")})),setTimeout((function(){t.css("transform","translate3d(0, 0, 0)")}),100)}setTimeout((function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")}),10),setTimeout((function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()}),i.settings.backdropDuration+50),i.zoomFromOrigin&&o||setTimeout((function(){i.outer.addClass("lg-visible")}),i.settings.backdropDuration),i.slide(e,!1,!1,!1),i.LGel.trigger("lgAfterOpen")})),document.body===this.settings.container&&Et("html").addClass("lg-on")}},e.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||t&&t.clientHeight||0,n=this.outer.find(".lg-thumb-outer").get();return{top:e,bottom:(n?n.clientHeight:0)+i}},e.prototype.setMediaContainerPosition=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.$content.css("top",e+"px").css("bottom",t+"px")},e.prototype.hideBars=function(){var e=this;setTimeout((function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",(function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout((function(){e.outer.addClass("lg-hide-items")}),e.settings.hideBarsDelay)})),e.outer.trigger("mousemove.lg"))}),this.settings.showBarsAfter)},e.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch(e){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},e.prototype.counter=function(){if(this.settings.counter){var e='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},e.prototype.addHtml=function(e){var t,i;if(this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!i)if(t){var n=t.substring(0,1);"."!==n&&"#"!==n||(t=this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?Et(this.items).eq(e).find(t).first().html():Et(t).first().html())}else t="";if(".lg-item"!==this.settings.appendSubHtmlTo)i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(t);else{var s=Et(this.getSlideItemId(e));i?s.load(i):s.append('<div class="lg-sub-html">'+t+"</div>")}null!=t&&(""===t?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger("lgAfterAppendSubHtml",{index:e})},e.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},e.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+"px;\n                margin-left: -"+e.width/2+"px;\n                margin-top: -"+e.height/2+"px;\n                height:"+e.height+"px":""},e.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+"px;\n                height:"+e.height+"px":""},e.prototype.getDummyImageContent=function(e,t,i){var n;if(this.settings.dynamic||(n=Et(this.items).eq(t)),n){var s;if(!(s=this.settings.exThumbImage?n.attr(this.settings.exThumbImage):n.find("img").first().attr("src")))return"";var o="<img "+i+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+s+'" />';return e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),o}return""},e.prototype.setImgMarkup=function(e,t,i){var n=this.galleryItems[i],s=n.alt,o=n.srcset,r=n.sizes,l=n.sources,a=s?'alt="'+s+'"':"",c='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(t,i,a):Lt(i,e,a,o,r,l))+"</picture>";t.prepend(c)},e.prototype.onSlideObjectLoad=function(e,t,i,n){var s,o=e.find(".lg-object").first();(s=o.get())&&s.complete&&0!==s.naturalWidth||t?i():(o.on("load.lg error.lg",(function(){i&&i()})),o.on("error.lg",(function(){n&&n()})))},e.prototype.onLgObjectLoad=function(e,t,i,n,s,o){var r=this;this.onSlideObjectLoad(e,o,(function(){r.triggerSlideItemLoad(e,t,i,n,s)}),(function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">Oops... Failed to load content...</span>')}))},e.prototype.triggerSlideItemLoad=function(e,t,i,n,s){var o=this,r=this.galleryItems[t],l=s&&"video"===this.getSlideType(r)&&!r.poster?n:0;setTimeout((function(){e.addClass("lg-complete lg-complete_"),o.LGel.trigger("lgSlideItemLoad",{index:t,delay:i||0,isFirstSlide:s})}),l)},e.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},e.prototype.addSlideVideoInfo=function(e){var t=this;e.forEach((function(e,i){e.__slideVideoInfo=function(e,t,i){if(!e)return t?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");var n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),s=e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),o=e.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return n?{youtube:n}:s?{vimeo:s}:o?{wistia:o}:void 0}(e.src,!!e.video,i),e.__slideVideoInfo&&t.settings.loadYouTubePoster&&!e.poster&&e.__slideVideoInfo.youtube&&(e.poster="//img.youtube.com/vi/"+e.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")}))},e.prototype.loadContent=function(e,t){var i=this,n=this.galleryItems[e],s=Et(this.getSlideItemId(e)),o=n.poster,r=n.srcset,l=n.sizes,a=n.sources,c=n.src,u=n.video,d=u&&"string"==typeof u?JSON.parse(u):u;if(n.responsive){var h=n.responsive.split(",");c=function(e){for(var t=[],i=[],n="",s=0;s<e.length;s++){var o=e[s].split(" ");""===o[0]&&o.splice(0,1),i.push(o[0]),t.push(o[1])}for(var r=window.innerWidth,l=0;l<t.length;l++)if(parseInt(t[l],10)>r){n=i[l];break}return n}(h)||c}var g=n.__slideVideoInfo,m="",p=!!n.iframe,f=!this.lGalleryOn,v=0;if(f&&(v=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),!s.hasClass("lg-loaded")){if(g){var b=this.mediaContainerPosition,y=b.top,w=b.bottom,_=Pt(this.items[e],this.outer,y+w,g&&this.settings.videoMaxSize);m=this.getVideoContStyle(_)}if(p){var x=function(e,t,i,n,s,o){return'<div class="lg-video-cont lg-has-iframe" style="width:'+e+"; max-width:"+i+"; height: "+t+"; max-height:"+n+'">\n                    <iframe class="lg-object" frameborder="0" '+(o?'title="'+o+'"':"")+' src="'+s+'"  allowfullscreen="true"></iframe>\n                </div>'}(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,c,n.iframeTitle);s.prepend(x)}else if(o){var S="";f&&this.zoomFromOrigin&&this.currentImageSize&&(S=this.getDummyImageContent(s,e,"")),x=function(e,t,i,n,s){return'<div class="lg-video-cont '+(s&&s.youtube?"lg-has-youtube":s&&s.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+i+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+n+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+n+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(t||"")+'\n            <img class="lg-object lg-video-poster" src="'+e+'" />\n        </div>'}(o,S||"",m,this.settings.strings.playVideo,g),s.prepend(x)}else if(g)x='<div class="lg-video-cont " style="'+m+'"></div>',s.prepend(x);else if(this.setImgMarkup(c,s,e),r||a){var C=s.find(".lg-object");this.initPictureFill(C)}(o||g)&&this.LGel.trigger("lgHasVideo",{index:e,src:c,html5Video:d,hasPoster:!!o}),this.LGel.trigger("lgAfterAppendSlide",{index:e}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(e)}var E=0;v&&!Et(document.body).hasClass("lg-from-hash")&&(E=v),this.isFirstSlideWithZoomAnimation()&&(setTimeout((function(){s.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")}),this.settings.startAnimationDuration+100),s.hasClass("lg-loaded")||setTimeout((function(){if("image"===i.getSlideType(n)){var t=n.alt,u=t?'alt="'+t+'"':"";if(s.find(".lg-img-wrap").append(Lt(e,c,u,r,l,n.sources)),r||a){var d=s.find(".lg-object");i.initPictureFill(d)}}("image"===i.getSlideType(n)||"video"===i.getSlideType(n)&&o)&&(i.onLgObjectLoad(s,e,v,E,!0,!1),i.onSlideObjectLoad(s,!(!g||!g.html5||o),(function(){i.loadContentOnFirstSlideLoad(e,s,E)}),(function(){i.loadContentOnFirstSlideLoad(e,s,E)})))}),this.settings.startAnimationDuration+100)),s.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(n)||o)||this.onLgObjectLoad(s,e,v,E,f,!(!g||!g.html5||o)),this.zoomFromOrigin&&this.currentImageSize||!s.hasClass("lg-complete_")||this.lGalleryOn||setTimeout((function(){s.addClass("lg-complete")}),this.settings.backdropDuration),this.lGalleryOn=!0,!0===t&&(s.hasClass("lg-complete_")?this.preload(e):s.find(".lg-object").first().on("load.lg error.lg",(function(){i.preload(e)})))},e.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var n=this;setTimeout((function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),n.outer.removeClass("lg-first-slide-loading"),n.isDummyImageRemoved=!0,n.preload(e)}),i+300)},e.prototype.getItemsToBeInsertedToDom=function(e,t,i){var n=this;void 0===i&&(i=0);var s=[],o=Math.max(i,3);o=Math.min(o,this.galleryItems.length);var r="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)return this.galleryItems.forEach((function(e,t){s.push("lg-item-"+n.lgId+"-"+t)})),s;if(e<(this.galleryItems.length-1)/2){for(var l=e;l>e-o/2&&l>=0;l--)s.push("lg-item-"+this.lgId+"-"+l);var a=s.length;for(l=0;l<o-a;l++)s.push("lg-item-"+this.lgId+"-"+(e+l+1))}else{for(l=e;l<=this.galleryItems.length-1&&l<e+o/2;l++)s.push("lg-item-"+this.lgId+"-"+l);for(a=s.length,l=0;l<o-a;l++)s.push("lg-item-"+this.lgId+"-"+(e-l-1))}return this.settings.loop&&(e===this.galleryItems.length-1?s.push("lg-item-"+this.lgId+"-0"):0===e&&s.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===s.indexOf(r)&&s.push("lg-item-"+this.lgId+"-"+t),s},e.prototype.organizeSlideItems=function(e,t){var i=this,n=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return n.forEach((function(e){-1===i.currentItemsInDom.indexOf(e)&&i.$inner.append('<div id="'+e+'" class="lg-item"></div>')})),this.currentItemsInDom.forEach((function(e){-1===n.indexOf(e)&&Et("#"+e).remove()})),n},e.prototype.getPreviousSlideIndex=function(){var e=0;try{var t=this.outer.find(".lg-current").first().attr("id");e=parseInt(t.split("-")[3])||0}catch(t){e=0}return e},e.prototype.setDownloadValue=function(e){if(this.settings.download){var t=this.galleryItems[e];if(!1===t.downloadUrl||"false"===t.downloadUrl)this.outer.addClass("lg-hide-download");else{var i=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),i.attr("href",t.downloadUrl||t.src),t.download&&i.attr("download",t.download)}}},e.prototype.makeSlideAnimation=function(e,t,i){var n=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout((function(){n.outer.addClass("lg-no-trans"),n.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout((function(){n.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),n.outer.removeClass("lg-no-trans")}),50)}),this.lGalleryOn?this.settings.slideDelay:0)},e.prototype.slide=function(e,t,i,n){var s=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,o),!this.lGalleryOn||o!==e){var r=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var l=this.getSlideItem(e),a=this.getSlideItem(o),c=this.galleryItems[e],u=c.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(c)),this.setDownloadValue(e),u){var d=this.mediaContainerPosition,h=d.top,g=d.bottom,m=Pt(this.items[e],this.outer,h+g,u&&this.settings.videoMaxSize);this.resizeVideoSlide(e,m)}if(this.LGel.trigger("lgBeforeSlide",{prevIndex:o,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),n||(e<o?n="prev":e>o&&(n="next")),t){this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var p=void 0,f=void 0;r>2?(p=e-1,f=e+1,(0===e&&o===r-1||e===r-1&&0===o)&&(f=0,p=r-1)):(p=0,f=1),"prev"===n?this.getSlideItem(f).addClass("lg-next-slide"):this.getSlideItem(p).addClass("lg-prev-slide"),l.addClass("lg-current")}else this.makeSlideAnimation(n,l,a);this.lGalleryOn?setTimeout((function(){s.loadContent(e,!0),".lg-item"!==s.settings.appendSubHtmlTo&&s.addHtml(e)}),this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout((function(){s.lgBusy=!1,a.removeClass("lg-slide-progress"),s.LGel.trigger("lgAfterSlide",{prevIndex:o,index:e,fromTouch:t,fromThumb:i})}),(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))}this.index=e}},e.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},e.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},e.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},e.prototype.touchMove=function(e,t,i){var n=t.pageX-e.pageX,s=t.pageY-e.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(n)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(s)>15&&(this.swipeDirection="vertical",o=!0),o){var r=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==i||i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(r,n,0);var l=r.get().offsetWidth,a=15*l/100-Math.abs(10*n/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-l+n-a,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),l+n+a,0)}else if("vertical"===this.swipeDirection&&this.settings.swipeToClose){null==i||i.preventDefault(),this.$container.addClass("lg-dragging-vertical");var c=1-Math.abs(s)/window.innerHeight;this.$backdrop.css("opacity",c);var u=1-Math.abs(s)/(2*window.innerWidth);this.setTranslate(r,0,s,u,u),Math.abs(s)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},e.prototype.touchEnd=function(e,t,i){var n,s=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout((function(){s.$container.removeClass("lg-dragging-vertical"),s.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var o=!0;if("horizontal"===s.swipeDirection){n=e.pageX-t.pageX;var r=Math.abs(e.pageX-t.pageX);n<0&&r>s.settings.swipeThreshold?(s.goToNextSlide(!0),o=!1):n>0&&r>s.settings.swipeThreshold&&(s.goToPrevSlide(!0),o=!1)}else if("vertical"===s.swipeDirection){if(n=Math.abs(e.pageY-t.pageY),s.settings.closable&&s.settings.swipeToClose&&n>100)return void s.closeGallery();s.$backdrop.css("opacity",1)}if(s.outer.find(".lg-item").removeAttr("style"),o&&Math.abs(e.pageX-t.pageX)<5){var l=Et(i.target);s.isPosterElement(l)&&s.LGel.trigger(wt)}s.swipeDirection=void 0})),setTimeout((function(){s.outer.hasClass("lg-dragging")||"lg-slide"===s.settings.mode||s.outer.removeClass("lg-slide")}),this.settings.speed+100)},e.prototype.enableSwipe=function(){var e=this,t={},i={},n=!1,s=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",(function(i){e.dragOrSwipeEnabled=!0;var n=e.getSlideItem(e.index);!Et(i.target).hasClass("lg-item")&&!n.get().contains(i.target)||e.outer.hasClass("lg-zoomed")||e.lgBusy||1!==i.touches.length||(s=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY})})),this.$inner.on("touchmove.lg",(function(o){s&&"swipe"===e.touchAction&&1===o.touches.length&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e.touchMove(t,i,o),n=!0)})),this.$inner.on("touchend.lg",(function(o){if("swipe"===e.touchAction){if(n)n=!1,e.touchEnd(i,t,o);else if(s){var r=Et(o.target);e.isPosterElement(r)&&e.LGel.trigger(wt)}e.touchAction=void 0,s=!1}})))},e.prototype.enableDrag=function(){var e=this,t={},i={},n=!1,s=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",(function(i){e.dragOrSwipeEnabled=!0;var s=e.getSlideItem(e.index);(Et(i.target).hasClass("lg-item")||s.get().contains(i.target))&&(e.outer.hasClass("lg-zoomed")||e.lgBusy||(i.preventDefault(),e.lgBusy||(e.manageSwipeClass(),t={pageX:i.pageX,pageY:i.pageY},n=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger("lgDragStart"))))})),Et(window).on("mousemove.lg.global"+this.lgId,(function(o){n&&e.lgOpened&&(s=!0,i={pageX:o.pageX,pageY:o.pageY},e.touchMove(t,i),e.LGel.trigger("lgDragMove"))})),Et(window).on("mouseup.lg.global"+this.lgId,(function(o){if(e.lgOpened){var r=Et(o.target);s?(s=!1,e.touchEnd(i,t,o),e.LGel.trigger("lgDragEnd")):e.isPosterElement(r)&&e.LGel.trigger(wt),n&&(n=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}})))},e.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",(function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(Et(t.target))&&e.LGel.trigger(wt)}))},e.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(0===this.index?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},e.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(_t,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(_t,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout((function(){t.outer.removeClass("lg-right-end")}),400)))},e.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(xt,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(xt,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout((function(){t.outer.removeClass("lg-left-end")}),400)))},e.prototype.keyPress=function(){var e=this;Et(window).on("keydown.lg.global"+this.lgId,(function(t){e.lgOpened&&!0===e.settings.escKey&&27===t.keyCode&&(t.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(37===t.keyCode&&(t.preventDefault(),e.goToPrevSlide()),39===t.keyCode&&(t.preventDefault(),e.goToNextSlide()))}))},e.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",(function(){e.goToPrevSlide()})),this.getElementById("lg-next").on("click.lg",(function(){e.goToNextSlide()}))},e.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var t=this.getElementById("lg-prev"),i=this.getElementById("lg-next");e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),0===e?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}},e.prototype.setTranslate=function(e,t,i,n,s){void 0===n&&(n=1),void 0===s&&(s=1),e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+n+", "+s+", 1)")},e.prototype.mousewheel=function(){var e=this,t=0;this.outer.on("wheel.lg",(function(i){if(i.deltaY&&!(e.galleryItems.length<2)){i.preventDefault();var n=(new Date).getTime();n-t<1e3||(t=n,i.deltaY>0?e.goToNextSlide():i.deltaY<0&&e.goToPrevSlide())}}))},e.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")},e.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},e.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",(function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()}))},e.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=Et(this.items[e]);t.off("click.lgcustom-item-"+t.attr("data-lg-id"))}},e.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),Et(window).on("keydown.lg.global"+this.lgId,(function(t){if(e.lgOpened&&("Tab"===t.key||9===t.keyCode)){var i=(o=e.$container.get(),r=o.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),[].filter.call(r,(function(e){var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility}))),n=i[0],s=i[i.length-1];t.shiftKey?document.activeElement===n&&(s.focus(),t.preventDefault()):document.activeElement===s&&(n.focus(),t.preventDefault())}var o,r}))},e.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var t=!1;this.getElementById("lg-close").on("click.lg",(function(){e.closeGallery()})),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",(function(i){var n=Et(i.target);t=!!e.isSlideElement(n)})),this.outer.on("mousemove.lg",(function(){t=!1})),this.outer.on("mouseup.lg",(function(i){var n=Et(i.target);e.isSlideElement(n)&&t&&(e.outer.hasClass("lg-dragging")||e.closeGallery())})))}},e.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger("lgBeforeClose"),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&Et(window).scrollTop(this.prevScrollTop);var i,n=this.items[this.index];if(this.zoomFromOrigin&&n){var s=this.mediaContainerPosition,o=s.top,r=s.bottom,l=this.galleryItems[this.index],a=l.__slideVideoInfo,c=l.poster,u=Pt(n,this.outer,o+r,a&&c&&this.settings.videoMaxSize);i=Ot(n,this.outer,o,r,u)}this.zoomFromOrigin&&i?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",i)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,Et("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var d=this.zoomFromOrigin&&i?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout((function(){t.zoomFromOrigin&&i&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger("lgAfterClose",{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1}),d+100),d+100},e.prototype.initModules=function(){this.plugins.forEach((function(e){try{e.init()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}}))},e.prototype.destroyModules=function(e){this.plugins.forEach((function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}}))},e.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),this.galleryItems=e||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(yt)},e.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},e.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),Et(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},e.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e}}();var kt=function(){return kt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},kt.apply(this,arguments)},zt={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},At="lgBeforeSlide",Nt=(function(){function e(e,t){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=e,this.$LG=t,this}e.prototype.init=function(){this.settings=kt(kt({},zt),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},e.prototype.build=function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",(function(t){var i=e.$LG(t.target);i.hasAttribute("data-lg-item-id")&&setTimeout((function(){if(e.thumbClickable&&!e.core.lgBusy){var t=parseInt(i.attr("data-lg-item-id"));e.core.slide(t,!1,!0,!1)}}),50)})),this.core.LGel.on(At+".thumb",(function(t){var i=t.detail.index;e.animateThumb(i)})),this.core.LGel.on("lgBeforeOpen.thumb",(function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth})),this.core.LGel.on("lgUpdateSlides.thumb",(function(){e.rebuildThumbnails()})),this.core.LGel.on("lgContainerResize.thumb",(function(){e.core.lgOpened&&setTimeout((function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth,e.animateThumb(e.core.index),e.thumbOuterWidth=e.core.outer.get().offsetWidth}),50)}))},e.prototype.setThumbMarkup=function(){var e="lg-thumb-outer ";this.settings.alignThumbnails&&(e+="lg-thumb-align-"+this.settings.alignThumbnails);var t='<div class="'+e+'">\n        <div class="lg-thumb lg-group">\n        </div>\n        </div>';this.core.outer.addClass("lg-has-thumb"),".lg-components"===this.settings.appendThumbnailsTo?this.core.$lgComponents.append(t):this.core.outer.append(t),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},e.prototype.enableThumbDrag=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},i=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",(function(n){e.thumbTotalWidth>e.thumbOuterWidth&&(n.preventDefault(),t.cords.startX=n.pageX,t.startTime=new Date,e.thumbClickable=!1,i=!0,e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))})),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,(function(n){e.core.lgOpened&&i&&(t.cords.endX=n.pageX,t=e.onThumbTouchMove(t))})),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,(function(){e.core.lgOpened&&(t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0,i&&(i=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))}))},e.prototype.enableThumbSwipe=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",(function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.startX=i.targetTouches[0].pageX,e.thumbClickable=!1,t.startTime=new Date)})),this.$lgThumb.on("touchmove.lg",(function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.endX=i.targetTouches[0].pageX,t=e.onThumbTouchMove(t))})),this.$lgThumb.on("touchend.lg",(function(){t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0}))},e.prototype.rebuildThumbnails=function(){var e=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout((function(){e.thumbTotalWidth=e.core.galleryItems.length*(e.settings.thumbWidth+e.settings.thumbMargin),e.$lgThumb.css("width",e.thumbTotalWidth+"px"),e.$lgThumb.empty(),e.setThumbItemHtml(e.core.galleryItems),e.animateThumb(e.core.index)}),50),setTimeout((function(){e.$thumbOuter.removeClass("lg-rebuilding-thumbnails")}),200)},e.prototype.setTranslate=function(e){this.$lgThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")},e.prototype.getPossibleTransformX=function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e},e.prototype.animateThumb=function(e){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var t=0;switch(this.settings.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*e-1-t,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},e.prototype.onThumbTouchMove=function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=(new Date).valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),e},e.prototype.onThumbTouchEnd=function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var t=e.endTime.valueOf()-e.startTime.valueOf(),i=e.cords.endX-e.cords.startX,n=Math.abs(i)/t;return n>.15&&e.endTime.valueOf()-e.touchMoveTime<30?((n+=1)>2&&(n+=1),n+=n*(Math.abs(i)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(n-1,2)+"settings"),i*=n,this.translateX=this.getPossibleTransformX(this.translateX-i),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e},e.prototype.getThumbHtml=function(e,t){var i,n=this.core.galleryItems[t].__slideVideoInfo||{};return i=n.youtube&&this.settings.loadYouTubeThumbnail?"//img.youtube.com/vi/"+n.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":e,'<div data-lg-item-id="'+t+'" class="lg-thumb-item '+(t===this.core.index?" active":"")+'" \n        style="width:'+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+";\n            margin-right: "+this.settings.thumbMargin+'px;">\n            <img data-lg-item-id="'+t+'" src="'+i+'" />\n        </div>'},e.prototype.getThumbItemHtml=function(e){for(var t="",i=0;i<e.length;i++)t+=this.getThumbHtml(e[i].thumb,i);return t},e.prototype.setThumbItemHtml=function(e){var t=this.getThumbItemHtml(e);this.$lgThumb.html(t)},e.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},e.prototype.manageActiveClassOnSlideChange=function(){var e=this;this.core.LGel.on(At+".thumb",(function(t){var i=e.core.outer.find(".lg-thumb-item"),n=t.detail.index;i.removeClass("active"),i.eq(n).addClass("active")}))},e.prototype.toggleThumbBar=function(){var e=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",(function(){e.core.outer.toggleClass("lg-components-open")})))},e.prototype.thumbKeyPress=function(){var e=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,(function(t){e.core.lgOpened&&e.settings.toggleThumb&&(38===t.keyCode?(t.preventDefault(),e.core.outer.addClass("lg-components-open")):40===t.keyCode&&(t.preventDefault(),e.core.outer.removeClass("lg-components-open")))}))},e.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))}}(),function(){return Nt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Nt.apply(this,arguments)}),Mt={scale:1,zoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},Ft=(function(){function e(e,t){return this.core=e,this.$LG=t,this.settings=Nt(Nt({},Mt),this.core.settings),this}e.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},e.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout((function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index&&t.setZoomEssentials())}),i+30)},e.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on("lgSlideItemLoad.zoom",this.enableZoom.bind(this))},e.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},e.prototype.getSwipeCords=function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},e.prototype.getDragAllowedAxises=function(e,t){var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),n=0,s=0,o=i.getBoundingClientRect();e?(n=i.offsetHeight*e,s=i.offsetWidth*e):t?(n=o.height+t*o.height,s=o.width+t*o.width):(n=o.height,s=o.width);var r=n>this.containerRect.height;return{allowX:s>this.containerRect.width,allowY:r}},e.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},e.prototype.zoomImage=function(e,t,i,n){if(!(Math.abs(t)<=0)){var s,o,r=this.containerRect.width/2+this.containerRect.left,l=this.containerRect.height/2+this.containerRect.top+this.scrollTop;1===e&&(this.positionChanged=!1);var a=this.getDragAllowedAxises(0,t),c=a.allowY,u=a.allowX;this.positionChanged&&(s=this.left/(this.scale-t),o=this.top/(this.scale-t),this.pageX=r-s,this.pageY=l-o,this.positionChanged=!1);var d,h,g=this.getPossibleSwipeDragCords(t),_x=r-this.pageX,m=l-this.pageY;if(e-t>1){var p=(e-t)/Math.abs(t);d=(_x=(t<0?-_x:_x)+this.left*(p+(t<0?-1:1)))/p,h=(m=(t<0?-m:m)+this.top*(p+(t<0?-1:1)))/p}else d=_x*(p=(e-t)*t),h=m*p;i&&(u?this.isBeyondPossibleLeft(d,g.minX)?d=g.minX:this.isBeyondPossibleRight(d,g.maxX)&&(d=g.maxX):e>1&&(d<g.minX?d=g.minX:d>g.maxX&&(d=g.maxX)),c?this.isBeyondPossibleTop(h,g.minY)?h=g.minY:this.isBeyondPossibleBottom(h,g.maxY)&&(h=g.maxY):e>1&&(h<g.minY?h=g.minY:h>g.maxY&&(h=g.maxY))),this.setZoomStyles({x:d,y:h,scale:e}),this.left=d,this.top=h,n&&this.setZoomImageSize()}},e.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var t=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout((function(){t.removeClass("no-transition")}),10)}},e.prototype.setZoomImageSize=function(){var e=this,t=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout((function(){var i=e.getCurrentImageActualSizeScale();e.scale>=i&&(t.addClass("no-transition"),e.imageReset=!0)}),500),setTimeout((function(){var i=e.getCurrentImageActualSizeScale();if(e.scale>=i){var n=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),n.allowX&&n.allowY?t.addClass("reset-transition"):n.allowX&&!n.allowY?t.addClass("reset-transition-x"):!n.allowX&&n.allowY&&t.addClass("reset-transition-y")}}),550)},e.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),n=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),n.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var s="translate3d("+e.x+"px, "+e.y+"px, 0)";t.css("transform",s)},e.prototype.setActualSize=function(e,t){var i=this,n=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout((function(){if(n.src&&!i.core.outer.hasClass("lg-first-slide-loading")){var e=i.getCurrentImageActualSizeScale(),s=i.scale;i.core.outer.hasClass("lg-zoomed")?i.scale=1:i.scale=i.getScale(e),i.setPageCords(t),i.beginZoom(i.scale),i.zoomImage(i.scale,i.scale-s,!0,!0),setTimeout((function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")}),10)}}),50)},e.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):t.get().naturalWidth},e.prototype.getActualSizeScale=function(e,t){return e>=t?e/t||2:1},e.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first().get().offsetWidth,t=this.getNaturalWidth(this.core.index)||e;return this.getActualSizeScale(t,e)},e.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var i=this.core.$content.get().getBoundingClientRect();t.x=i.width/2+i.left,t.y=i.height/2+this.scrollTop+i.top}return t},e.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},e.prototype.manageActualPixelClassNames=function(){this.core.getElementById("lg-actual-size").removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},e.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},e.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},e.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",(function(t){e.$LG(t.target).hasClass("lg-image")&&e.setActualSize(e.core.index,t)})),this.core.outer.on("touchstart.lg",(function(i){var n=e.$LG(i.target);1===i.touches.length&&n.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,i.preventDefault(),e.setActualSize(e.core.index,i)):t=setTimeout((function(){t=null}),300))})),this.core.LGel.on("lgContainerResize.zoom lgRotateRight.zoom lgRotateLeft.zoom lgFlipHorizontal.zoom lgFlipVertical.zoom",(function(){if(e.core.lgOpened&&e.isImageSlide(e.core.index)&&!e.core.touchAction){var t=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(t,{x:0,y:0}),e.positionChanged=!0}})),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,(function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())})),this.core.getElementById("lg-zoom-out").on("click.lg",(function(){if(e.isImageSlide(e.core.index)){var t=0;e.imageReset&&(e.resetImageTranslate(e.core.index),t=50),setTimeout((function(){var t=e.scale-e.settings.scale;t<1&&(t=1),e.beginZoom(t),e.zoomImage(t,-e.settings.scale,!0,!0)}),t)}})),this.core.getElementById("lg-zoom-in").on("click.lg",(function(){e.zoomIn()})),this.core.getElementById("lg-actual-size").on("click.lg",(function(){e.setActualSize(e.core.index)})),this.core.LGel.on("lgBeforeOpen.zoom",(function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")})),this.core.LGel.on("lgAfterOpen.zoom",(function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1})),this.core.LGel.on("lgAfterSlide.zoom",(function(t){var i=t.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.resetZoom(i),e.resetImageTranslate(i),e.isImageSlide(e.core.index)&&e.setZoomEssentials()})),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1}},e.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;e=this.getScale(e),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!0)}},e.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(void 0!==e?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style"),i.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},e.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},e.prototype.pinchZoom=function(){var e=this,t=0,i=!1,n=1,s=0,o=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",(function(i){if(o=e.core.getSlideItem(e.core.index),e.isImageSlide(e.core.index)&&2===i.touches.length){if(i.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;n=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(i),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",t=e.getTouchDistance(i)}})),this.core.$inner.on("touchmove.lg",(function(r){if(2===r.touches.length&&"pinch"===e.core.touchAction&&(e.$LG(r.target).hasClass("lg-item")||o.get().contains(r.target))){r.preventDefault();var l=e.getTouchDistance(r),a=t-l;if(!i&&Math.abs(a)>5&&(i=!0),i){s=e.scale;var c=Math.max(1,n+.02*-a);e.scale=Math.round(100*(c+Number.EPSILON))/100;var u=e.scale-s;e.zoomImage(e.scale,Math.round(100*(u+Number.EPSILON))/100,!1,!1)}}})),this.core.$inner.on("touchend.lg",(function(n){if("pinch"===e.core.touchAction&&(e.$LG(n.target).hasClass("lg-item")||o.get().contains(n.target))){if(i=!1,t=0,e.scale<=1)e.resetZoom();else{var s=e.getCurrentImageActualSizeScale();if(e.scale>=s){var r=s-e.scale;0===r&&(r=.01),e.zoomImage(s,r,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}}))},e.prototype.touchendZoom=function(e,t,i,n,s){var o=t.x-e.x,r=t.y-e.y,l=Math.abs(o)/s+1,a=Math.abs(r)/s+1;l>2&&(l+=1),a>2&&(a+=1),o*=l,r*=a;var c=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),u={};u.x=this.left+o,u.y=this.top+r;var d=this.getPossibleSwipeDragCords();(Math.abs(o)>15||Math.abs(r)>15)&&(n&&(this.isBeyondPossibleTop(u.y,d.minY)?u.y=d.minY:this.isBeyondPossibleBottom(u.y,d.maxY)&&(u.y=d.maxY)),i&&(this.isBeyondPossibleLeft(u.x,d.minX)?u.x=d.minX:this.isBeyondPossibleRight(u.x,d.maxX)&&(u.x=d.maxX)),n?this.top=u.y:u.y=this.top,i?this.left=u.x:u.x=this.left,this.setZoomSwipeStyles(c,u),this.positionChanged=!0)},e.prototype.getZoomSwipeCords=function(e,t,i,n,s){var o={};if(n){if(o.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(o.y,s.minY)){var r=s.minY-o.y;o.y=s.minY-r/6}else if(this.isBeyondPossibleBottom(o.y,s.maxY)){var l=o.y-s.maxY;o.y=s.maxY+l/6}}else o.y=this.top;if(i){if(o.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(o.x,s.minX)){var a=s.minX-o.x;o.x=s.minX-a/6}else if(this.isBeyondPossibleRight(o.x,s.maxX)){var c=o.x-s.maxX;o.x=s.maxX+c/6}}else o.x=this.left;return o},e.prototype.isBeyondPossibleLeft=function(e,t){return e>=t},e.prototype.isBeyondPossibleRight=function(e,t){return e<=t},e.prototype.isBeyondPossibleTop=function(e,t){return e>=t},e.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},e.prototype.isImageSlide=function(e){var t=this.core.galleryItems[e];return"image"===this.core.getSlideType(t)},e.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,n=t.get().getBoundingClientRect(),s=n.height,o=n.width;return e&&(s+=e*s,o+=e*o),{minY:(s-this.containerRect.height)/2,maxY:(this.containerRect.height-s)/2+i,minX:(o-this.containerRect.width)/2,maxX:(this.containerRect.width-o)/2}},e.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},e.prototype.zoomSwipe=function(){var e,t,i=this,n={},s={},o=!1,r=!1,l=!1,a=new Date,c=(new Date,this.core.getSlideItem(this.core.index));this.core.$inner.on("touchstart.lg",(function(s){if(i.isImageSlide(i.core.index)&&(c=i.core.getSlideItem(i.core.index),(i.$LG(s.target).hasClass("lg-item")||c.get().contains(s.target))&&1===s.touches.length&&i.core.outer.hasClass("lg-zoomed"))){s.preventDefault(),a=new Date,i.core.touchAction="zoomSwipe",t=i.core.getSlideItem(i.core.index).find(".lg-img-wrap").first();var o=i.getDragAllowedAxises(0);l=o.allowY,((r=o.allowX)||l)&&(n=i.getSwipeCords(s)),e=i.getPossibleSwipeDragCords(),i.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}})),this.core.$inner.on("touchmove.lg",(function(a){if(1===a.touches.length&&"zoomSwipe"===i.core.touchAction&&(i.$LG(a.target).hasClass("lg-item")||c.get().contains(a.target))){a.preventDefault(),i.core.touchAction="zoomSwipe",s=i.getSwipeCords(a);var u=i.getZoomSwipeCords(n,s,r,l,e);(Math.abs(s.x-n.x)>15||Math.abs(s.y-n.y)>15)&&(o=!0,i.setZoomSwipeStyles(t,u))}})),this.core.$inner.on("touchend.lg",(function(e){if("zoomSwipe"===i.core.touchAction&&(i.$LG(e.target).hasClass("lg-item")||c.get().contains(e.target))){if(e.preventDefault(),i.core.touchAction=void 0,i.core.outer.removeClass("lg-zoom-dragging"),!o)return;o=!1;var t=(new Date).valueOf()-a.valueOf();i.touchendZoom(n,s,r,l,t)}}))},e.prototype.zoomDrag=function(){var e,t,i,n,s=this,o={},r={},l=!1,a=!1,c=!1,u=!1;this.core.outer.on("mousedown.lg.zoom",(function(t){if(s.isImageSlide(s.core.index)){var r=s.core.getSlideItem(s.core.index);if(s.$LG(t.target).hasClass("lg-item")||r.get().contains(t.target)){e=new Date,n=s.core.getSlideItem(s.core.index).find(".lg-img-wrap").first();var a=s.getDragAllowedAxises(0);u=a.allowY,c=a.allowX,s.core.outer.hasClass("lg-zoomed")&&s.$LG(t.target).hasClass("lg-object")&&(c||u)&&(t.preventDefault(),o=s.getDragCords(t),i=s.getPossibleSwipeDragCords(),l=!0,s.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}})),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,(function(e){if(l){a=!0,r=s.getDragCords(e);var t=s.getZoomSwipeCords(o,r,c,u,i);s.setZoomSwipeStyles(n,t)}})),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,(function(i){if(l){if(t=new Date,l=!1,s.core.outer.removeClass("lg-zoom-dragging"),a&&(o.x!==r.x||o.y!==r.y)){r=s.getDragCords(i);var n=t.valueOf()-e.valueOf();s.touchendZoom(o,r,c,u,n)}a=!1}s.core.outer.removeClass("lg-grabbing").addClass("lg-grab")}))},e.prototype.closeGallery=function(){this.resetZoom()},e.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1}}(),function(){return Ft=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ft.apply(this,arguments)}),Bt={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},Gt=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")};!function(){function e(e){return this.core=e,this.settings=Ft(Ft({},Bt),this.core.settings),this}e.prototype.init=function(){var e=this;this.core.LGel.on("lgHasVideo.video",this.onHasVideo.bind(this)),this.core.LGel.on("lgPosterClick.video",(function(){var t=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(t)})),this.core.LGel.on("lgSlideItemLoad.video",this.onSlideItemLoad.bind(this)),this.core.LGel.on("lgBeforeSlide.video",this.onBeforeSlide.bind(this)),this.core.LGel.on("lgAfterSlide.video",this.onAfterSlide.bind(this))},e.prototype.onSlideItemLoad=function(e){var t=this,i=e.detail,n=i.isFirstSlide,s=i.index;this.settings.autoplayFirstVideo&&n&&s===this.core.index&&setTimeout((function(){t.loadAndPlayVideo(s)}),200),!n&&this.settings.autoplayVideoOnSlide&&s===this.core.index&&this.loadAndPlayVideo(s)},e.prototype.onHasVideo=function(e){var t=e.detail,i=t.index,n=t.src,s=t.html5Video;t.hasPoster||(this.appendVideos(this.core.getSlideItem(i),{src:n,addClass:"lg-object",index:i,html5Video:s}),this.gotoNextSlideOnVideoEnd(n,i))},e.prototype.onBeforeSlide=function(e){if(this.core.lGalleryOn){var t=e.detail.prevIndex;this.pauseVideo(t)}},e.prototype.onAfterSlide=function(e){var t=this,i=e.detail,n=i.index,s=i.prevIndex,o=this.core.getSlideItem(n);this.settings.autoplayVideoOnSlide&&n!==s&&o.hasClass("lg-complete")&&setTimeout((function(){t.loadAndPlayVideo(n)}),100)},e.prototype.loadAndPlayVideo=function(e){var t=this.core.getSlideItem(e);this.core.galleryItems[e].poster?this.loadVideoOnPosterClick(t,!0):this.playVideo(e)},e.prototype.playVideo=function(e){this.controlVideo(e,"play")},e.prototype.pauseVideo=function(e){this.controlVideo(e,"pause")},e.prototype.getVideoHtml=function(e,t,i,n){var s="",o=this.core.galleryItems[i].__slideVideoInfo||{},r=this.core.galleryItems[i],l=r.title||r.alt;l=l?'title="'+l+'"':"";var a='allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';if(o.youtube){var c="lg-youtube"+i,u=function(e,t){if(!e.youtube)return"";var i,n=e.youtube[2]?(i=e.youtube[2].slice(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var i=t.map(decodeURIComponent),n=i[0],s=i[1];return e[n]=s,e}),{}),i):"",s=t||{},o=Ft(Ft(Ft({},{wmode:"opaque",autoplay:0,mute:1,enablejsapi:1}),s),n);return"?"+Gt(o)}(o,this.settings.youTubePlayerParams);s='<iframe allow="autoplay" id='+c+' class="lg-video-object lg-youtube '+t+'" '+l+' src="'+(e.includes("youtube-nocookie.com")?"//www.youtube-nocookie.com/":"//www.youtube.com/")+"embed/"+(o.youtube[1]+u)+'" '+a+"></iframe>"}else if(o.vimeo){c="lg-vimeo"+i;var d=function(e,t){if(!t||!t.vimeo)return"";var i=t.vimeo[2]||"",n=e&&0!==Object.keys(e).length?"&"+Gt(e):"",s=((t.vimeo[0].split("/").pop()||"").split("?")[0]||"").split("#")[0],o=t.vimeo[1]!==s;return o&&(i=i.replace("/"+s,"")),"?autoplay=0&muted=1"+(o?"&h="+s:"")+n+("?"==i[0]?"&"+i.slice(1):i||"")}(this.settings.vimeoPlayerParams,o);s='<iframe allow="autoplay" id='+c+' class="lg-video-object lg-vimeo '+t+'" '+l+' src="//player.vimeo.com/video/'+(o.vimeo[1]+d)+'" '+a+"></iframe>"}else if(o.wistia){var h="lg-wistia"+i;d=(d=Gt(this.settings.wistiaPlayerParams))?"?"+d:"",s='<iframe allow="autoplay" id="'+h+'" src="//fast.wistia.net/embed/iframe/'+(o.wistia[4]+d)+'" '+l+' class="wistia_embed lg-video-object lg-wistia '+t+'" name="wistia_embed" '+a+"></iframe>"}else if(o.html5){for(var g="",m=0;m<n.source.length;m++)g+='<source src="'+n.source[m].src+'" type="'+n.source[m].type+'">';if(n.tracks){var p=function(e){var t="",i=n.tracks[e];Object.keys(i||{}).forEach((function(e){t+=e+'="'+i[e]+'" '})),g+="<track "+t+">"};for(m=0;m<n.tracks.length;m++)p(m)}var f="",v=n.attributes||{};Object.keys(v||{}).forEach((function(e){f+=e+'="'+v[e]+'" '})),s='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+f+">\n                "+g+"\n                Your browser does not support HTML5 video.\n            </video>"}return s},e.prototype.appendVideos=function(e,t){var i,n=this.getVideoHtml(t.src,t.addClass,t.index,t.html5Video);e.find(".lg-video-cont").append(n);var s=e.find(".lg-video-object").first();if(t.html5Video&&s.on("mousedown.lg.video",(function(e){e.stopPropagation()})),this.settings.videojs&&(null===(i=this.core.galleryItems[t.index].__slideVideoInfo)||void 0===i?void 0:i.html5))try{return videojs(s.get(),this.settings.videojsOptions)}catch(e){console.error("lightGallery:- Make sure you have included videojs")}},e.prototype.gotoNextSlideOnVideoEnd=function(e,t){var i=this,n=this.core.getSlideItem(t).find(".lg-video-object").first(),s=this.core.galleryItems[t].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(s.html5)n.on("ended",(function(){i.core.goToNextSlide()}));else if(s.vimeo)try{new Vimeo.Player(n.get()).on("ended",(function(){i.core.goToNextSlide()}))}catch(e){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(s.wistia)try{window._wq=window._wq||[],window._wq.push({id:n.attr("id"),onReady:function(e){e.bind("end",(function(){i.core.goToNextSlide()}))}})}catch(e){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},e.prototype.controlVideo=function(e,t){var i=this.core.getSlideItem(e).find(".lg-video-object").first(),n=this.core.galleryItems[e].__slideVideoInfo||{};if(i.get())if(n.youtube)try{i.get().contentWindow.postMessage('{"event":"command","func":"'+t+'Video","args":""}',"*")}catch(e){console.error("lightGallery:- "+e)}else if(n.vimeo)try{new Vimeo.Player(i.get())[t]()}catch(e){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(n.html5)if(this.settings.videojs)try{videojs(i.get())[t]()}catch(e){console.error("lightGallery:- Make sure you have included videojs")}else i.get()[t]();else if(n.wistia)try{window._wq=window._wq||[],window._wq.push({id:i.attr("id"),onReady:function(e){e[t]()}})}catch(e){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},e.prototype.loadVideoOnPosterClick=function(e,t){var i=this;if(e.hasClass("lg-video-loaded"))t&&this.playVideo(this.core.index);else if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var n=void 0,s=this.core.galleryItems[this.core.index].src,o=this.core.galleryItems[this.core.index].video;o&&(n="string"==typeof o?JSON.parse(o):o);var r=this.appendVideos(e,{src:s,addClass:"",index:this.core.index,html5Video:n});this.gotoNextSlideOnVideoEnd(s,this.core.index);var l=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(l),e.addClass("lg-video-loading"),r&&r.ready((function(){r.on("loadedmetadata",(function(){i.onVideoLoadAfterPosterClick(e,i.core.index)}))})),e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",(function(){setTimeout((function(){i.onVideoLoadAfterPosterClick(e,i.core.index)}),50)}))}},e.prototype.onVideoLoadAfterPosterClick=function(e,t){e.addClass("lg-video-loaded"),this.playVideo(t)},e.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")}}();var $t=()=>{const t=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("filter"))),i=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("refresh"))),n=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("isLoading"))),s=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("current_path"))),o=(0,Xe.useSelect)((e=>e("dropbox-browser").getData("previous_path"))),{activeAccount:r}=IDBAdmin,[l,a]=(0,e.useState)([]),c=e=>{(0,Xe.dispatch)("dropbox-browser").setData("isLoading",!0),(0,Xe.dispatch)("dropbox-browser").setData("current_path",e)};(0,e.useEffect)((()=>{je()({path:"/idb/v1/get-files",method:"POST",data:{path:s,accountId:r.id,filter:t}}).then((e=>{(0,Xe.dispatch)("dropbox-browser").setData("breadcrumbs",e.data.breadcrumbs),a(e.data.files),(0,Xe.dispatch)("dropbox-browser").setData("previous_path",e.data.previous_path),(0,Xe.dispatch)("dropbox-browser").setData("isLoading",!1)})).catch((e=>{console.log(e)}))}),[s,i,t]);const u=l.filter((e=>e.is_dir?e:"")),d=l.filter((e=>e.is_file?e:""));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ud-c-file-browser__content"},n?(0,e.createElement)("div",{className:"ud-c-file-browser__loading"},(0,e.createElement)("div",{className:"ud-c-file-browser__loading__spinner"},(0,e.createElement)("div",{className:"ud-c-file-browser__loading__spinner--bounce1"}),(0,e.createElement)("div",{className:"ud-c-file-browser__loading__spinner--bounce2"}),(0,e.createElement)("div",{className:"ud-c-file-browser__loading__spinner--bounce3"}))):"",(0,e.createElement)("div",{className:"ud-c-file-browser__file-list"},o&&(0,e.createElement)("div",{className:"ud-c-file-browser__file-list__item ud-c-file-browser__file-list__prev ud-c-file-browser__file-list__item--folder",onClick:()=>{c(o)}},(0,e.createElement)("div",{className:"ud-c-file-browser__file-list__item__info"},(0,e.createElement)("i",{class:"dashicons dashicons-arrow-left-alt2"}),(0,e.createElement)("span",null,"Previous Folder"))),u.length>0&&u.map(((t,i)=>(0,e.createElement)("div",{className:Ge()("ud-c-file-browser__file-list__item","ud-c-file-browser__file-list__item--folder"),key:i,onClick:e=>{t.is_dir&&c(t.path)},onContextMenu:e=>{((e,t,i)=>{const{show:n}=rt({id:"file-browser"});n({event:e,props:{data:i}})})(e,0,{type:"folder",path:t.path})}},(0,e.createElement)("div",{className:"ud-c-file-browser__file-list__item__info"},(0,e.createElement)("i",{class:"dashicons dashicons-open-folder"}),(0,e.createElement)("span",null,t.name)))))),d.length?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ud-c-file-browser__file-list"},d.map(((t,i)=>(0,e.createElement)("div",{className:Ge()("ud-c-file-browser__file-list__item","ud-c-file-browser__file-list__item--file"),key:i,onClick:()=>{console.log(t)}},t.can_preview&&t.thumbnail?(0,e.createElement)("div",{className:"ud-c-file-browser__file-list__item__thumb"},(0,e.createElement)("img",{src:t.thumbnail})):(0,e.createElement)("div",{className:"ud-c-file-browser__file-list__item__icon"},(0,e.createElement)("span",{className:Ge()("dashicons",Ye(t.ext))})),(0,e.createElement)("div",{className:"ud-c-file-browser__file-list__item__info"},(0,e.createElement)("i",{class:Ge()("dashicons",Ye(t.ext))}),(0,e.createElement)("span",null,t.name))))))):""))};const Rt="file-browser",jt=()=>{const{show:t}=rt({id:Rt});function i(e){let{event:t,props:i,triggerEvent:n,data:s}=e;console.log(t,i,n,s)}return(0,e.createElement)("div",null,(0,e.createElement)(ht,{id:Rt},(0,e.createElement)(gt,{onClick:i},"Item 1"),(0,e.createElement)(gt,{onClick:i},"Item 2"),(0,e.createElement)(mt,null),(0,e.createElement)(gt,{disabled:!0},"Disabled"),(0,e.createElement)(mt,null),(0,e.createElement)(vt,{label:"Submenu"},(0,e.createElement)(gt,{onClick:i},"Sub Item 1"),(0,e.createElement)(gt,{onClick:i},"Sub Item 2"))))};const Xt={data:{filter:{by:"name",direction:"asc"},refresh:!1,current_path:"",breadcrumbs:[],previous_path:"",isLoading:!1}},Ht=(0,Xe.createReduxStore)("dropbox-browser",{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;return"SET_DATA"===t.type?{...e,data:{...e.data,[t.item]:t.value}}:e},actions:{setData:(e,t)=>({type:"SET_DATA",item:e,value:t})},selectors:{getData(e,t){const{data:i}=e;return i[t]}}});(0,Xe.register)(Ht),(0,e.render)((0,e.createElement)((()=>(0,e.createElement)("div",{className:"ud-c-file-browser"},(0,e.createElement)(jt,null),(0,e.createElement)(He,null),(0,e.createElement)("div",{className:"ud-c-file-browser__body"},(0,e.createElement)(Ze,null),(0,e.createElement)($t,null)))),null),document.getElementById("ud-id-app"))}()}();